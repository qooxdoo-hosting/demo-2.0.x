qx.$$packageData['2048']={"locales":{},"resources":{"qx/static/blank.html":"qx","widgetbrowser/blank.html":"widgetbrowser","widgetbrowser/fo_tester.swf":"widgetbrowser"},"translations":{"C":{},"en":{}}};
qx.Part.$$notifyLoad("2048", function() {
(function(){var i="The id cannot be modified after initial creation",h="The variables cannot be modified after initial creation",g="movie",f="The source cannot be modified after initial creation",e="The params cannot be modified after initial creation",d="The attributes cannot be modified after initial creation",c="id",b="qx.html.Flash",a="div";qx.Class.define(b,{extend:qx.html.Element,construct:function(j,k){qx.html.Element.call(this,a,j,k);this.__HQ={};this.__HR={};this.__HS={};},members:{__HQ:null,__HS:null,__HR:null,__HT:null,_createDomElement:function(){return qx.dom.Element.create(a);},createFlash:function(){this.__HT=qx.bom.Flash.create(this.getDomElement(),this.getAttributes(),this.__HR,this.__HQ);},setSource:function(l){{};if(this.__HT){throw new Error(f);};this.setAttribute(g,l);},setId:function(m){{};if(this.__HT){throw new Error(i);};this.setAttribute(c,m);},getVariables:function(){return this.__HR;},setVariables:function(n){{};if(this.__HT){throw new Error(h);};this.__HR=n;},getAttributes:function(){return this.__HS;},setAttribute:function(o,p){{};if(this.__HT){throw new Error(d);};if(p===null||p===undefined){delete this.__HS[o];}else {this.__HS[o]=p;};},getParams:function(){return this.__HQ;},setParam:function(q,r){{};if(this.__HT){throw new Error(e);};if(r===null||r===undefined){delete this.__HQ[q];}else {this.__HQ[q]=r;};},getFlashElement:function(){return this.__HT;}},destruct:function(){if(this.__HT){qx.bom.Flash.destroy(this.__HT);};this.__HQ=this.__HR=this.__HS=null;}});})();(function(){var k="application/x-shockwave-flash",j='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000">',h="param",g='" />',f="qx.bom.Flash",e='<param name="',d="load",c="type",b="name",a="data",z="",y="mshtml",x="value",w="&",v="beforeunload",u='<object id="',t='" value="',s='" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000">',r="undefined",q="object",o="100%",p='</object>',m="movie",n="=",l="engine.name";qx.Class.define(f,{statics:{_flashObjects:{},create:function(A,B,C,D,E){if(!E){E=window;};{};if(!B.width){B.width=o;};if(!B.height){B.height=o;};D=D?qx.lang.Object.clone(D):{};if(!D[m]){D[m]=B.movie;};B[a]=B.movie;delete B.movie;if(C){for(var name in C){if(typeof D.flashvars!=r){D.flashvars+=w+name+n+C[name];}else {D.flashvars=name+n+C[name];};};};var F=this.__Ia(A,B,D,E);this._flashObjects[B.id]=F;return F;},destroy:qx.core.Environment.select(l,{"mshtml":function(G,H){G=this.__HU(G);if(G.readyState==4){this.__HV(G);}else {if(!H){H=window;};qx.bom.Event.addNativeListener(H,d,function(){qx.bom.Flash.__HV(G);});};},"default":function(I,J){I=this.__HU(I);if(I.parentNode){I.parentNode.removeChild(I);};delete this._flashObjects[I.id];}}),__HU:function(K){if(!K){throw new Error("DOM element is null or undefined!");};if(K.tagName.toLowerCase()!=="object"){K=K.firstChild;};if(!K||K.tagName.toLowerCase()!=="object"){throw new Error("DOM element has or is not a flash object!");};return K;},__HV:qx.core.Environment.select("engine.name",{"mshtml":qx.event.GlobalError.observeMethod(function(L){for(var i in L){if(typeof L[i]=="function"){L[i]=null;};};if(L.parentNode){L.parentNode.removeChild(L);};delete this._flashObjects[L.id];}),"default":null}),__HW:qx.event.GlobalError.observeMethod(function(){for(var M in qx.bom.Flash._flashObjects){qx.bom.Flash.destroy(qx.bom.Flash._flashObjects[M]);};window.__HX=function(){};window.__HY=function(){};qx.bom.Event.removeNativeListener(window,"beforeunload",qx.bom.Flash.__HW);}),__Ia:qx.core.Environment.select(l,{"mshtml":function(N,O,P,Q){P.movie=O.data;delete O.data;delete O.classid;var R=z;for(name in P){R+=e+name+t+P[name]+g;};if(O.id){N.innerHTML=u+O.id+s+R+p;delete O.id;}else {N.innerHTML=j+R+p;};for(var name in O){N.firstChild.setAttribute(name,O[name]);};return N.firstChild;},"default":function(S,T,U,V){delete T.classid;delete U.movie;var X=qx.dom.Element.create(q,T,V);X.setAttribute(c,k);var W;for(var name in U){W=qx.dom.Element.create(h,{},V);W.setAttribute(b,name);W.setAttribute(x,U[name]);X.appendChild(W);};S.appendChild(X);return X;}})},defer:function(Y){if((qx.core.Environment.get(l)==y)){qx.bom.Event.addNativeListener(window,v,Y.__HW);};}});})();(function(){var i="resize",h="_applyCanvasWidth",g="Boolean",f="__GV",d="_applyCanvasHeight",c="qx.ui.embed.Canvas",b="qx.event.type.Data",a="Integer";qx.Class.define(c,{extend:qx.ui.core.Widget,construct:function(j,k){qx.ui.core.Widget.call(this);this.__GV=new qx.util.DeferredCall(this.__GW,this);this.addListener(i,this._onResize,this);if(j!==undefined){this.setCanvasWidth(j);};if(k!==undefined){this.setCanvasHeight(k);};},events:{"redraw":b},properties:{syncDimension:{check:g,init:false},canvasWidth:{check:a,init:300,apply:h},canvasHeight:{check:a,init:150,apply:d}},members:{__GV:null,_createContentElement:function(){return new qx.html.Canvas();},__GW:function(){var m=this.getContentElement();var o=m.getHeight();var l=m.getWidth();var n=m.getContext2d();this._draw(l,o,n);this.fireNonBubblingEvent("redraw",qx.event.type.Data,[{width:l,height:o,context:n}]);},_applyCanvasWidth:function(p,q){this.getContentElement().setWidth(p);this.__GV.schedule();},_applyCanvasHeight:function(r,s){this.getContentElement().setHeight(r);this.__GV.schedule();},update:function(){this.__GV.schedule();},_onResize:function(e){var t=e.getData();if(this.getSyncDimension()){this.setCanvasHeight(t.height);this.setCanvasWidth(t.width);};},getContext2d:function(){return this.getContentElement().getContext2d();},_draw:function(u,v,w){}},destruct:function(){this._disposeObjects(f);}});})();(function(){var k="xhtml",j="_applyUseUndoRedo",i="_applyMessengerMode",h="url(",g=")",f="InsertParagraphOnLinebreak",d="repeat",c="div",b="Integer",a="NativeContextMenu",U="Function",T="Please use the method 'qx.dom.Node.isBlockNode' instead.",S="__DO",R="_applyInsertParagraphOnLinebreak",Q="PostProcess",P="_applyInsertLinebreakOnCtrlEnter",O="ContentType",N="px",M="DOMNodeRemoved",L="DefaultFontSize",r="htmlarea",s="MessengerMode",p="_applyDefaultFontSize",q="engine.name",n="UseUndoRedo",o="__Ci",l="_applyDefaultFontFamily",m="_applyContentType",t="qx.ui.embed.HtmlArea",u="mshtml",B="Verdana",z="block",F="DefaultFontFamily",D="InsertLinebreakOnCtrlEnter",H="qx/static/blank.gif",G="_applyPostProcess",w="absolute",K="mousedown",J="String",I="none",v="mouseup",x="losecapture",y="display",A="Boolean",C="qx.event.type.Event",E="qx.event.type.Data";qx.Class.define(t,{extend:qx.ui.core.Widget,construct:function(V,W,X){this.__DM={};qx.ui.core.Widget.call(this);this._setLayout(new qx.ui.layout.Grow);this.__DQ();this.__DN={content:V,styleInfo:W,source:X};qx.event.Registration.addListener(document.body,K,this.block,this,true);qx.event.Registration.addListener(document.body,v,this.release,this,true);qx.event.Registration.addListener(document.body,x,this.release,this,true);},events:{"loadingError":E,"messengerContent":E,"cursorContext":E,"ready":C,"readyAfterInvalid":C,"focused":C,"focusOut":C,"contextmenu":E,"undoRedoState":E},statics:{isBlockNode:function(Y){var ba=qx.ui.embed.HtmlArea.isBlockNode;var bb=T;qx.log.Logger.deprecatedMethodWarning(ba,bb);return qx.dom.Node.isBlockNode(Y);},isParagraphParent:function(bc){return qx.bom.htmlarea.HtmlArea.isParagraphParent(bc);}},properties:{contentType:{check:J,init:k,apply:m},messengerMode:{check:A,init:false,apply:i},insertParagraphOnLinebreak:{check:A,init:true,apply:R},insertLinebreakOnCtrlEnter:{check:A,init:true,apply:P},postProcess:{check:U,nullable:true,init:null,apply:G},useUndoRedo:{check:A,init:true,apply:j},appearance:{refine:true,init:r},defaultFontFamily:{check:J,init:B,apply:l},defaultFontSize:{check:b,init:4,apply:p},focusable:{refine:true,init:true}},members:{__DO:null,__DM:null,__Ci:null,__DN:null,__DP:null,_initBlockerElement:function(){if(!this.__Ci){this.__Ci=this._createBlockerElement();};},_applyContentType:function(bd,be){if(this.__DO!=null){this.__DO.setContentType(bd);}else {this.__DM[O]=bd;};},_applyMessengerMode:function(bf,bg){if(this.__DO!=null){this.__DO.setMessengerMode(bf);}else {this.__DM[s]=bf;};},_applyInsertParagraphOnLinebreak:function(bh,bi){if(this.__DO!=null){this.__DO.setInsertParagraphOnLinebreak(bh);}else {this.__DM[f]=bh;};},_applyInsertLinebreakOnCtrlEnter:function(bj,bk){if(this.__DO!=null){this.__DO.setInsertLinebreakOnCtrlEnter(bj);}else {this.__DM[D]=bj;};},_applyPostProcess:function(bl,bm){if(this.__DO!=null){this.__DO.setPostProcess(bl);}else {this.__DM[Q]=bl;};},_applyUseUndoRedo:function(bn,bo){if(this.__DO!=null){this.__DO.setUseUndoRedo(bn);}else {this.__DM[n]=bn;};},_applyDefaultFontFamily:function(bp,bq){if(this.__DO!=null){this.__DO.setDefaultFontFamily(bp);}else {this.__DM[F]=bp;};},_applyDefaultFontSize:function(br,bs){if(this.__DO!=null){this.__DO.setDefaultFontSize(br);}else {this.__DM[L]=br;};},_applyNativeContextMenu:function(bt,bu){if(this.__DO!=null){this.__DO.setNativeContextMenu(bt);}else {this.__DM[a]=bt;};},_createBlockerElement:function(){var bv=new qx.html.Element(c);bv.setStyles({zIndex:20,position:w,display:I});if((qx.core.Environment.get(q)==u)){bv.setStyles({backgroundImage:h+qx.util.ResourceManager.getInstance().toUri(H)+g,backgroundRepeat:d});};return bv;},__DQ:function(){this.addListenerOnce("appear",this.__DR);},__DR:function(){var bw=this.getContentElement().getDomElement();this.__DO=new qx.bom.htmlarea.HtmlArea(bw,this.__DN.content,this.__DN.styleInfo,this.__DN.source);this.__DS();this.__DT();if((qx.core.Environment.get("engine.name")=="gecko")){this.__DW();};this.addListener("appear",this.forceEditable);},__DS:function(){for(var bx in this.__DM){this.__DO["set"+bx](this.__DM[bx]);};},__DT:function(){this.__DO.addListener("ready",this.__DU,this);this.__DO.addListener("readyAfterInvalid",this.__DU,this);this.__DO.addListener("focused",this.__DU,this);this.__DO.addListener("focusOut",this.__DU,this);this.__DO.addListener("loadingError",this.__DV,this);this.__DO.addListener("cursorContext",this.__DV,this);this.__DO.addListener("contextmenu",this.__DV,this);this.__DO.addListener("undoRedoState",this.__DV,this);this.__DO.addListener("messengerContent",this.__DV,this);},__DU:function(e){var by=e.clone();this.fireEvent(by.getType());},__DV:function(e){var bz=e.clone();this.fireDataEvent(bz.getType(),e.getData());},__DW:function(){this.__DP=qx.lang.Function.bind(this.__DX,this);var bA=this.getContainerElement().getDomElement();qx.bom.Event.addNativeListener(bA,"DOMNodeRemoved",this.__DP);},__DX:qx.event.GlobalError.observeMethod(function(e){if(this.__DO&&!this.__DO.isDisposed()){this.__DO.invalidateEditor();};}),renderLayout:function(bB,top,bC,bD){qx.ui.core.Widget.prototype.renderLayout.call(this,bB,top,bC,bD);var bF=N;var bE=this.getInsets();if(!this.__Ci){this._initBlockerElement();};this.__Ci.setStyles({left:bE.left+bF,top:bE.top+bF,width:(bC-bE.left-bE.right)+bF,height:(bD-bE.top-bE.bottom)+bF});},getIframeObject:function(){return this.__DO!=null?this.__DO.getIframeObject():null;},getCommandManager:function(){return this.__DO!=null?this.__DO.getCommandManager():null;},setValue:function(bG){if(this.__DO!=null){this.__DO.setValue(bG);}else {this.__DN.content=bG;};},getValue:function(){if(this.__DO!=null){return this.__DO.getValue();}else {return this.__DN.content;};},getComputedValue:function(bH){return this.__DO!=null?this.__DO.getHtml(bH):null;},getCompleteHtml:function(){return this.__DO!=null?this.__DO.getCompleteHtml():null;},getContentDocument:function(){return this.__DO!=null?this.__DO.getContentDocument():null;},getContentBody:function(){return this.__DO!=null?this.__DO.getContentBody():null;},getContentWindow:function(){return this.__DO!=null?this.__DO.getContentWindow():null;},getWords:function(bI){return this.__DO!=null?this.__DO.getWords(bI):null;},getWordsWithElement:function(){return this.__DO!=null?this.__DO.getWordsWithElement():null;},getTextNodes:function(){return this.__DO!=null?this.__DO.getTextNodes():null;},isReady:function(){return this.__DO!=null?this.__DO.isReady():false;},forceEditable:function(){if(this.__DO!=null){this.__DO.forceEditable();};},isLoaded:function(){return this.__DO!=null?this.__DO.isLoaded():false;},setEditable:function(bJ){if(this.__DO!=null){this.__DO.setEditable(bJ);};},getEditable:function(){return this.__DO!=null?this.__DO.getEditable():false;},isEditable:function(){return this.__DO!=null?this.__DO.isEditable():false;},insertHtml:function(bK){return this.__DO!=null?this.__DO.insertHtml(bK):false;},removeFormat:function(){return this.__DO!=null?this.__DO.removeFormat():false;},setBold:function(){return this.__DO!=null?this.__DO.setBold():false;},setItalic:function(){return this.__DO!=null?this.__DO.setItalic():false;},setUnderline:function(){return this.__DO!=null?this.__DO.setUnderline():false;},setStrikeThrough:function(){return this.__DO!=null?this.__DO.setStrikeThrough():false;},setFontSize:function(bL){return this.__DO!=null?this.__DO.setFontSize(bL):false;},setFontFamily:function(bM){return this.__DO!=null?this.__DO.setFontFamily(bM):false;},setTextColor:function(bN){return this.__DO!=null?this.__DO.setTextColor(bN):false;},setTextBackgroundColor:function(bO){return this.__DO!=null?this.__DO.setTextBackgroundColor(bO):false;},setJustifyLeft:function(){return this.__DO!=null?this.__DO.setJustifyLeft():false;},setJustifyCenter:function(){return this.__DO!=null?this.__DO.setJustifyCenter():false;},setJustifyRight:function(){return this.__DO!=null?this.__DO.setJustifyRight():false;},setJustifyFull:function(){return this.__DO!=null?this.__DO.setJustifyFull():false;},insertIndent:function(){return this.__DO!=null?this.__DO.insertIndent():false;},insertOutdent:function(){return this.__DO!=null?this.__DO.insertOutdent():false;},insertOrderedList:function(){return this.__DO!=null?this.__DO.insertOrderedList():false;},insertUnorderedList:function(){return this.__DO!=null?this.__DO.insertUnorderedList():false;},insertHorizontalRuler:function(){return this.__DO!=null?this.__DO.insertHorizontalRuler():false;},insertImage:function(bP){return this.__DO!=null?this.__DO.insertImage(bP):false;},insertHyperLink:function(bQ){return this.__DO!=null?this.__DO.insertHyperLink(bQ):false;},removeBackgroundColor:function(){return this.__DO!=null?this.__DO.removeBackgroundColor():false;},setBackgroundColor:function(bR){return this.__DO!=null?this.__DO.setBackgroundColor(bR):false;},removeBackgroundImage:function(){return this.__DO!=null?this.__DO.removeBackgroundImage():false;},setBackgroundImage:function(bS,bT,bU){return this.__DO!=null?this.__DO.setBackgroundImage(bS,bT,bU):false;},selectAll:function(){return this.__DO!=null?this.__DO.selectAll():false;},undo:function(){return this.__DO!=null?this.__DO.undo():false;},redo:function(){return this.__DO!=null?this.__DO.redo():false;},resetHtml:function(){if(this.__DO!=null){this.__DO.resetHtml();};},getHtml:function(bV){return this.__DO!=null?this.__DO.getHtml(bV):null;},containsOnlyPlaceholder:function(){return this.__DO!=null?this.__DO.containsOnlyPlaceHolder():false;},getContextInformation:function(){return this.__DO!=null?this.__DO.getContextInformation():null;},getSelection:function(){return this.__DO!=null?this.__DO.getSelection():null;},getSelectedText:function(){return this.__DO!=null?this.__DO.getSelectedText():null;},getSelectedHtml:function(){return this.__DO!=null?this.__DO.getSelectedHtml():null;},clearSelection:function(){if(this.__DO!=null){this.__DO.clearSelection();};},getRange:function(){return this.__DO.getRange();},saveRange:function(){this.__DO.saveRange();},getSavedRange:function(){return this.__DO.getSavedRange();},resetSavedRange:function(){this.__DO.resetSavedRange();},getFocusNode:function(){return this.__DO!=null?this.__DO.getFocusNode():null;},block:function(){if(!this.__Ci){this._initBlockerElement();};if(!this.getContainerElement().hasChild(this.__Ci)){this.getContainerElement().add(this.__Ci);};this.__Ci.setStyle(y,z);},release:function(){if(this.__Ci){this.__Ci.setStyle(y,I);};},focus:function(){qx.ui.core.Widget.prototype.focus.call(this);this.__DY();},tabFocus:function(){qx.ui.core.Widget.prototype.tabFocus.call(this);this.__DY();},__DY:function(){if(this.__DO!=null){qx.event.Timer.once(function(){this.__DO.focusContent();},this,0);};}},destruct:function(){this.__DM=this.__DN=null;qx.event.Registration.removeListener(document.body,K,this.block,this,true);qx.event.Registration.removeListener(document.body,v,this.release,this,true);qx.event.Registration.removeListener(document.body,x,this.release,this,true);var bW=this.getContainerElement().getDomElement();if(bW){qx.bom.Event.removeNativeListener(bW,M,this.__DP);};this._disposeObjects(o,S);}});})();(function(){var c="2d",b="qx.html.Canvas",a="canvas";qx.Class.define(b,{extend:qx.html.Element,construct:function(d,e){qx.html.Element.call(this,a,d,e);this.__GX=document.createElement(a);},members:{__GX:null,_createDomElement:function(){return this.__GX;},getCanvas:function(){return this.__GX;},setWidth:function(f){this.__GX.width=f;},getWidth:function(){return this.__GX.width;},setHeight:function(g){this.__GX.height=g;},getHeight:function(){return this.__GX.height;},getContext2d:function(){return this.__GX.getContext(c);}},destruct:function(){this.__GX=null;}});})();(function(){var i="_applyOverflowX",h="_applyOverflowY",g="qx.ui.core.MNativeOverflow",f="auto",e="overflowX",d="visible",c="hidden",b="scroll",a="overflowY";qx.Mixin.define(g,{properties:{overflowX:{check:[c,d,b,f],nullable:true,apply:i},overflowY:{check:[c,d,b,f],nullable:true,apply:h},overflow:{group:[e,a]}},members:{_applyOverflowX:function(j){this.getContentElement().setStyle(e,j);},_applyOverflowY:function(k){this.getContentElement().setStyle(a,k);}}});})();(function(){var o="text",n="engine.name",m="0px",l="webkit",k="changeHtml",j="_applyCssClass",i="class",h="qx.ui.embed.Html",g="_applyHtml",f="userSelect",c="html",e="",d="none",b="String",a="color";qx.Class.define(h,{extend:qx.ui.core.Widget,include:[qx.ui.core.MNativeOverflow],construct:function(p){qx.ui.core.Widget.call(this);if(p!=null){this.setHtml(p);};},properties:{html:{check:b,apply:g,event:k,nullable:true},cssClass:{check:b,init:e,apply:j},selectable:{refine:true,init:true},focusable:{refine:true,init:true}},members:{getFocusElement:function(){return this.getContentElement();},_applyHtml:function(q,r){var s=this.getContentElement();s.setAttribute(c,q||e);s.setStyles({"padding":m,"border":d});},_applyCssClass:function(t,u){this.getContentElement().setAttribute(i,t);},_applySelectable:function(v){qx.ui.core.Widget.prototype._applySelectable.call(this,v);if((qx.core.Environment.get(n)==l)){this.getContainerElement().setStyle(f,v?o:d);};},_applyFont:function(w,x){var y=w?qx.theme.manager.Font.getInstance().resolve(w).getStyles():qx.bom.Font.getDefaultStyles();if(this.getTextColor()!=null){delete y[a];};this.getContentElement().setStyles(y);},_applyTextColor:function(z,A){if(z){this.getContentElement().setStyle(a,qx.theme.manager.Color.getInstance().resolve(z));}else {this.getContentElement().removeStyle(a);};}}});})();(function(){var c="qx.util.TimerManager",b="singleton",a="interval";qx.Class.define(c,{extend:qx.core.Object,type:b,statics:{__Ib:[],__Ic:{},__qW:0},members:{__Id:false,start:function(d,e,f,g,h){if(!h){h=e||0;};var j=(new Date()).getTime()+h;this.self(arguments).__Ic[++this.self(arguments).__qW]={callback:d,userData:g||null,expireAt:j,recurTime:e,context:f||this};this.__Ie(j,this.self(arguments).__qW);return this.self(arguments).__qW;},stop:function(k){var l=this.self(arguments).__Ib;var length=l.length;for(var i=0;i<length;i++){if(l[i]==k){l.splice(i,1);break;};};delete this.self(arguments).__Ic[k];if(l.length==0&&this.__Id){qx.event.Idle.getInstance().removeListener(a,this.__If,this);this.__Id=false;};},__Ie:function(m,n){var p=this.self(arguments).__Ib;var o=this.self(arguments).__Ic;var length=p.length;for(var i=0;i<length;i++){if(o[p[i]].expireAt>m){p.splice(i,0,n);break;};};if(p.length==length){p.push(n);};if(!this.__Id){qx.event.Idle.getInstance().addListener(a,this.__If,this);this.__Id=true;};},__If:function(){var t=(new Date()).getTime();var r=this.self(arguments).__Ib;var s=this.self(arguments).__Ic;while(r.length>0&&s[r[0]].expireAt<=t){var v=r.shift();var q=s[v];q.callback.call(q.context,q.userData,v);if(q.recurTime&&s[v]){var u=(new Date()).getTime();q.expireAt=u+q.recurTime;this.__Ie(q.expireAt,v);}else {delete s[v];};};if(r.length==0&&this.__Id){qx.event.Idle.getInstance().removeListener(a,this.__If,this);this.__Id=false;};}}});})();(function(){var j="quality",i="_applyVariables",h="low",g="_applyLoop",f="scale",e="_applyAllowScriptAccess",d="showall",c="Map",b="wmode",a="Integer",X="_applyMenu",W="loaded",V="_applyPlay",U="loop",T="allowScriptAccess",S="_applyWmode",R="menu",Q="noborder",P="loading",O="swLiveConnect",q="qx.ui.embed.Flash",r="_applyId",o="high",p="transparent",m="exactfit",n="play",k="_applyLiveConnect",l="_applySource",u="appear",v="medium",C="flash",A="timeout",G="_applyMayScript",E="_applyQuality",K="never",I="_applyScale",x="autohigh",N="always",M="window",L="noscale",w="autolow",y="mayscript",z="sameDomain",B="opaque",D="String",F="",H="best",J="undefined",s="qx.event.type.Event",t="Boolean";qx.Class.define(q,{extend:qx.ui.core.Widget,construct:function(Y,ba){qx.ui.core.Widget.call(this);{};this.setSource(Y);if(ba){this.setId(ba);}else {this.setId(C+this.toHashCode());};this.initQuality();this.initWmode();this.initAllowScriptAccess();this.initLiveConnect();this.addListenerOnce(u,function(){this._checkLoading();this.getContentElement().createFlash();},this);},events:{"loading":s,"loaded":s,"timeout":s},properties:{source:{check:D,apply:l},id:{check:D,apply:r},quality:{check:[h,w,x,v,o,H],init:H,nullable:true,apply:E},scale:{check:[d,Q,m,L],nullable:true,apply:I},wmode:{check:[M,B,p],init:B,nullable:true,apply:S},play:{check:t,nullable:true,apply:V},loop:{check:t,nullable:true,apply:g},mayScript:{check:t,nullable:false,apply:G},menu:{check:t,nullable:true,apply:X},allowScriptAccess:{check:[z,N,K],init:z,nullable:true,apply:e},liveConnect:{check:t,init:true,nullable:true,apply:k},variables:{init:{},check:c,apply:i},loadTimeout:{check:a,init:10000}},members:{__HO:null,getFlashElement:function(){var bb=this.getContentElement();if(bb){return bb.getFlashElement();}else {return null;};},isLoaded:function(){return this.getPercentLoaded()===100;},getPercentLoaded:function(){var bc=this.getFlashElement();if(typeof (bc)!=J&&bc!=null){try{return bc.PercentLoaded();}catch(bd){return 0;};}else {return 0;};},_createContentElement:function(){return new qx.html.Flash();},_checkLoading:function(){var be=this.getSource();if(be!=F&&be!=null&&be!=J){if(!this.isLoaded()){if(!this.__HO){this.__HO=new Date().getTime();};var bf=new Date().getTime()-this.__HO;if(this.getLoadTimeout()>bf){var bg=qx.util.TimerManager.getInstance();bg.start(this._checkLoading,0,this,null,10);this.fireEvent(P);}else {{};this.fireEvent(A);this.__HO=null;};}else {this.fireEvent(W);this.__HO=null;};};},_applySource:function(bh,bi){var bj=qx.util.ResourceManager.getInstance().toUri(bh);this.getContentElement().setSource(bj);qx.ui.core.queue.Layout.add(this);},_applyId:function(bk,bl){this.getContentElement().setId(bk);qx.ui.core.queue.Layout.add(this);},_applyVariables:function(bm,bn){this.getContentElement().setVariables(bm);qx.ui.core.queue.Layout.add(this);},_applyMayScript:function(bo,bp){this.getContentElement().setAttribute(y,bo?F:false);qx.ui.core.queue.Layout.add(this);},_applyQuality:function(bq,br){this.__HP(j,bq);},_applyScale:function(bs,bt){this.__HP(f,bs);},_applyWmode:function(bu,bv){this.__HP(b,bu);},_applyPlay:function(bw,bx){this.__HP(n,bw);},_applyLoop:function(by,bz){this.__HP(U,by);},_applyMenu:function(bA,bB){this.__HP(R,bA);},_applyAllowScriptAccess:function(bC,bD){this.__HP(T,bC);},_applyLiveConnect:function(bE,bF){this.__HP(O,bE);},__HP:function(bG,bH){this.getContentElement().setParam(bG,bH);qx.ui.core.queue.Layout.add(this);}}});})();(function(){var dy="qx.blankpage",dx='</span>',dw="backgroundColor",dv="li",du='undo',dt="Function",ds="fontSize",dr="textcolor",dq="br",dp="home",cg="<",cf="focused",ce="fontFamily",cd="load",cc='<font ',cb='id="__elementToFocus__"',ca="setUnderline",bY="backgroundPosition",bX="<!--",bW=' size="',dF='/www.w3.org/1999/xhtml" xml:lang="en" lang="en">',dG="'>",dD="insertimage",dE='bold',dB="&copy;",dC="bold",dz="mouseup",dA="readyAfterInvalid",dH="styleWithCSS",dI="span",cW=" />",cV="setBold",cY="<P>&nbsp;</P>",cX="</",db="textbackgroundcolor",da="&gt;",dd='="',dc="can't extract style from elem. ",cU="paddingLeft",cT="click",o="inserthorizontalrule",p='</head>',q='<p>',r='<head>',t='</font>',u="backgroundRepeat",v="a",w="&amp;",x="__Eb",y="removeformat",dW="marginLeft",dV="ready",dU="<p>&nbsp;</p>",dT='DOCTYPE html PUBLIC "-/',eb="italic",ea="browser.version",dY='<body>',dX="insertorderedlist",ed='body { font-size:100.01%; font-family:Verdana, Geneva, Arial, Helvetica, sans-serif; background-color:transparent; overflow:visible; background-image:none; margin:0px; padding:5px; } ',ec="hideFocus",bm="keypress",bn="none",bk='/DTD XHTML 1.0 Transitional/',bl='<html xmlns="http:/',bq="outline",br="setItalic",bo="body",bp="marginBottom",bi="xhtml",bj="focusOut",R="justifyleft",Q="handleMouse ",T='</p>',S="paddingTop",N="underline",M="Please use the method 'qx.dom.Node.isBlockNode' instead.",P='<title></title><meta http-equiv="Content-type" content="text/html; charset=UTF-8" />',O="Control",L='<span style="font-family:',K='/W3C/',bw="placeholder",bx='cant load HtmlArea. Document is not available. ',by="backgroundImage",bz="marginTop",bs="> ",bt=" { ",bu='italic',bv='<!',bA='</style>',bB="\ufeff",bd="focus",bc="&quot;",bb="marginRight",ba="STYLE",Y="justifyfull",X='underline',W="inserthyperlink",V="<br />",bh='html { margin:0px; padding:0px; } ',bg='<style type="text/css">',bC="<br>",bD='/EN" "http:/',bE="justifycenter",bF="<br /><div id='placeholder'></div>",bG="useCSS",bH="object",bI="strikethrough",bJ="blur",bK="true",bL="1.9",cp='',co=' style="',cn="indent",cl="messengerContent",ct="Integer",cs="insertunorderedlist",cr="Text",cq="&lt;",cw="_moz_dirty",cv='<br _moz_editor_bogus_node="TRUE" _moz_dirty=""/>',cP='<br/><div class="placeholder"></div>',cQ="selectall",cN="transparent",cO=" SCRIPT STYLE DIV SPAN TR TD TBODY TABLE EM STRONG FONT A P B I U STRIKE H1 H2 H3 H4 H5 H6 ",cL="justifyright",cM='/www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">',cJ="//text()[string-length(normalize-space(.))>0]",cK="outdent",cR="about:blank",cS="<body style='",dh="qx.bom.htmlarea.HtmlArea",dg="paddingBottom",dj="keydown",di="keyup",dl="Verdana",dk="focusout",dn="$",dm="-->",df=" }",de="paddingRight",dP='html { width:100%; height:100%; margin:0px; padding:0px; overflow-y:auto; overflow-x:auto; } ',dQ="Off",dR='p { margin:0px; padding:0px; }',dS='body { font-size: 100.01%; font-family:Verdana, Geneva, Arial, Helvetica, sans-serif; width:100%; height:100%; background-color:transparent; overflow:auto; background-image:none; margin:0px; padding:5px; } ',dL="pageup",dM="backgroundcolor",dN="Failed to enable rich edit functionality",dO="end",dJ="div",dK="right",n="redo",m="i",l="backspace",k="inserthtml",h="style",g="backgroundimage",f="100%",d="k",c=":",b='redo',B="y",C='">',z="down",A="g",F="left",G="fontsize",D="undo",E="pagedown",I="u",J=" | ",cx="control",cu="up",cE="None",cA="'",cj="delete",ch=">",U="b",ck='</body></html>',bf="String",be="z",bO=";",bP="fontfamily",bQ="loadingError",bR="contextmenu",bS="engine.version",bT="old_id",bU="opera",bV="enter",bM="id",bN='"',ci="__elementToFocus__",cD="qx.bom.htmlarea.HtmlArea.debug",cC="qx.event.type.Data",cB="qx.event.type.Event",cI=" ",cH="Boolean",cG="webkit",cF="gecko",cz="mshtml",cy="",H="engine.name";qx.Class.define(dh,{extend:qx.core.Object,construct:function(ee,ef,eg,eh){qx.core.Object.call(this);var ei=eh||qx.util.ResourceManager.getInstance().toUri(qx.core.Environment.get(dy));this.__Es(ee);this.__Et();this._createAndAddIframe(ei);this._addIframeLoadListener();this.__Ea=qx.bom.htmlarea.HtmlArea.__Ec(eg);if(qx.lang.Type.isString(ef)){this.__vn=ef;};this.__Eb=this.__EF();},events:{"load":cB,"loadingError":cC,"messengerContent":cC,"cursorContext":cC,"ready":cB,"readyAfterInvalid":cB,"focused":cB,"focusOut":cB,"contextmenu":cC,"undoRedoState":cC},statics:{simpleLinebreak:bC,EMPTY_DIV:"<div></div>",GetWordsRegExp:/([^\u0000-\u0040\u005b-\u005f\u007b-\u007f]|['])+/g,CleanupWordsRegExp:/[\u0000-\u0040]/gi,hotkeyInfo:{bold:{method:cV},italic:{method:br},underline:{method:ca},undo:{method:D},redo:{method:n}},__Ec:function(ej){if(ej==null||ej==cy){return cy;}else if(typeof ej==bH){var ek=cy;for(var i in ej){ek+=i+bt+ej[i]+df;};return ek;}else {return ej;};},__Ed:function(em){var en={};var a=em.split(bO);var i;for(i=0;i<a.length;i++){var eo=a[i],ep=eo.indexOf(c);if(ep===-1){continue;};var name=qx.lang.String.trim(eo.substring(0,ep));var eq=qx.lang.String.trim(eo.substring(ep+1,eo.length));if(name&&eq){en[name]=eq;};};return en;},__Ee:function(er,es,et,eu){var eA=[];switch(er.nodeType){case 1:case 11:var i;var ey=er.tagName.toLowerCase();var eC={};var ev={};var closed=(!(er.hasChildNodes()||qx.bom.htmlarea.HtmlArea.__Ef(er)));if(es){if((qx.core.Environment.get(H)==cz)){if(ey==dJ&&er.className&&er.className==bw){for(i=er.firstChild;i;i=i.nextSibling){eA.push(qx.bom.htmlarea.HtmlArea.__Ee(i,true,et,eu));};return eA.join(cy);};};var eB=er.attributes;var ez=eB.length;var a;if((qx.core.Environment.get(H)==cF)){if(ey==dI&&ez==1&&eB[0].name==cw&&er.childNodes.length==0){return cy;};};for(i=0;i<ez;i++){a=eB[i];if(!a.specified){continue;};var name=qx.dom.Node.getName(a);var eD=a.nodeValue;if(/(_moz|contenteditable)/.test(name)){continue;};if(name!=h){if(qx.core.Environment.get(H)==cz){if(name==bM&&er.getAttribute(bT)){eD=er.getAttribute(bT);}else if(!isNaN(eD)){eD=er.getAttribute(name);}else {eD=a.nodeValue;};}else {eD=a.nodeValue;};}else {eD=er.style.cssText;};if(/(_moz|^$)/.test(eD)){continue;};if(name==bT){continue;};if(!eD){continue;};if(name==bM&&eD==ci){continue;};if(name.charAt(0)===dn){continue;};eC[name]=eD;};if(eC.style!==undefined){ev=qx.bom.htmlarea.HtmlArea.__Ed(eC.style);delete eC.style;};if(eu){var ew={domElement:er,tag:ey,attributes:eC,styles:ev};eu(ew);ew.domElement=null;ey=ew.tag;};if(ey){eA.push(cg,ey);for(var name in eC){var eD=eC[name];eA.push(cI,name,dd,eD.toString().replace(new RegExp(bN,A),cA),bN);};if(!qx.lang.Object.isEmpty(ev)){eA.push(co);for(var name in ev){var eD=ev[name];eA.push(name,c,eD.toString().replace(new RegExp(bN,A),cA),bO);};eA.push(bN);};eA.push(closed?cW:ch);};};for(i=er.firstChild;i;i=i.nextSibling){eA.push(qx.bom.htmlarea.HtmlArea.__Ee(i,true,et,eu));};if(es&&!closed&&ey){eA.push(cX,ey,ch);};break;case 3:eA.push(et?er.data:qx.bom.htmlarea.HtmlArea.__Eg(er.data));break;case 8:eA.push(bX,er.data,dm);break;};return eA.join(cy);},closingTags:cO,__Ef:function(eE){return (qx.bom.htmlarea.HtmlArea.closingTags.indexOf(cI+eE.tagName+cI)!=-1);},__Eg:function(s){s=s.replace(/&/ig,w);s=s.replace(/</ig,cq);s=s.replace(/>/ig,da);s=s.replace(/\x22/ig,bc);s=s.replace(/\xA9/ig,dB);return s;},isBlockNode:function(eF){var eG=qx.bom.htmlarea.HtmlArea.isBlockNode;var eH=M;qx.log.Logger.deprecatedMethodWarning(eG,eH);return qx.dom.Node.isBlockNode(eF);},isParagraphParent:function(eI){if(!qx.dom.Node.isElement(eI)){return false;};eI=qx.dom.Node.getName(eI);return /^(body|td|th|caption|fieldset|div)$/.test(eI);},isHeadlineNode:function(eJ){if(!qx.dom.Node.isElement(eJ)){return false;};var eK=qx.dom.Node.getName(eJ);return /^h[1-6]$/.test(eK);}},properties:{contentType:{check:bf,init:bi},messengerMode:{check:cH,init:false},insertParagraphOnLinebreak:{check:cH,init:true},insertLinebreakOnCtrlEnter:{check:cH,init:true},postProcess:{check:dt,nullable:true,init:null},useUndoRedo:{check:cH,init:true},nativeContextMenu:{check:cH,init:false},defaultFontFamily:{check:bf,init:dl},defaultFontSize:{check:ct,init:4}},members:{__fM:null,__dc:false,__Eh:false,__Ei:false,__Ej:false,__Ek:false,__Eb:null,__El:null,__Em:null,__En:null,__vY:null,__Ea:null,__Eo:null,__Ep:null,__Eq:false,__Er:false,__Es:function(eL){if(qx.dom.Node.isElement(eL)&&qx.dom.Node.isNodeName(eL,dJ)){this.__fM=eL;};},_createAndAddIframe:function(eM){this.__vY=qx.bom.Iframe.create();qx.bom.Iframe.setSource(this.__vY,eM);if((qx.core.Environment.get(H)==cz)){qx.bom.element.Attribute.set(this.__vY,ec,bK);}else {qx.bom.element.Style.set(this.__vY,bq,bn);};qx.bom.element.Style.setStyles(this.__vY,{width:f,height:f});qx.dom.Element.insertBegin(this.__vY,this.__fM);},_getIframeDocument:function(){return qx.bom.Iframe.getDocument(this.__vY);},_getIframeWindow:function(){return qx.bom.Iframe.getWindow(this.__vY);},_addIframeLoadListener:function(){qx.event.Registration.addListener(this.__vY,cd,this._loaded,this);},__Et:function(){this.__Eo={"xhtml":{doctype:bv+dT+K+bk+bD+cM,html:bl+dF,meta:P,style:qx.core.Environment.select(H,{"mshtml":bh+dS,"default":dP+ed}),contentStyle:dR,body:dY,footer:ck}};},__vn:cy,getIframeObject:function(){return this.__vY;},getCommandManager:function(){return this.__Eb;},setValue:function(eN){if(qx.lang.Type.isString(eN)){this.__vn=eN;var eO=this._getIframeDocument();if(eO&&eO.body){eO.body.innerHTML=this.__Eu(eN);};};},__Eu:function(eP){var eS=cy;if((qx.core.Environment.get(H)==cF)){if(qx.core.Environment.get(ea)<=2){eS+=cv;};};var eT=eP.length==0?bB:cy;var eR=qx.core.Environment.get(H)==cF||qx.core.Environment.get(H)==cG?cb:cp;var eQ=q+L+this.getDefaultFontFamily()+C+cc+eR+bW+this.getDefaultFontSize()+C+eS+eP+eT+t+dx+T;return eQ;},getValue:function(){return this.__vn;},getComputedValue:function(eU){return this.getHtml(eU);},getCompleteHtml:function(){var eW=this.__Eo[this.getContentType()];var eV=eW.html+r+eW.meta+bg+eW.contentStyle+bA+p;eV+=cS+this.__Ev()+dG;eV+=this.getHtml()+ck;return eV;},__Ev:function(){var fa=[dw,by,u,bY,ce,ds,bz,bp,dW,bb,S,dg,cU,de];var eY=qx.bom.element.Style;var eX=this.getContentBody();var fd={};var fc,fe;var fb=qx.core.Environment.get(H)==cz?2:1;for(var i=0,j=fa.length;i<j;i++){fc=fa[i];fe=eY.get(eX,fc,fb);if(fe!==undefined&&fe!=cy){fd[fc]=fe;};};return qx.bom.element.Style.compile(fd);},getContentDocument:function(){if(this.__dc){return this._getIframeDocument();};},getContentBody:function(){if(this.__dc){return this._getIframeDocument().body;};},getContentWindow:function(){if(this.__dc){return this._getIframeWindow();};},getWords:function(ff){if(!ff){ff=this.getContentBody();};if(!ff){return [];};var fh=ff.cloneNode(true);var fj=fh.innerHTML;fj=fj.replace(/>/gi,bs);fj=fj.replace(/\n/gi,cI);fj=fj.replace(/<!--.*-->/gi,cy);fh.innerHTML=fj;var fg=qx.core.Environment.get(H)==cz||qx.core.Environment.get(H)==bU?fh.innerText:fh.textContent;var fi=fg.match(qx.bom.htmlarea.HtmlArea.GetWordsRegExp);return !fi?[]:fi;},getWordsWithElement:function(){var fl=this.getTextNodes();var fp={};var i,j,fq,fm,fk;for(var i=0,fo=fl.length;i<fo;++i){fm=fl[i];fq=fm.nodeValue.split(cI);for(var j=0,fn=fq.length;j<fn;++j){fk=this._cleanupWord(fq[j]);if(fk!=null&&fk.length>1){if(!fp[fk]){fp[fk]=[];};fp[fk].push(fm);};};};return fp;},_cleanupWord:function(fr){if(!fr){return null;};return fr.replace(qx.bom.htmlarea.HtmlArea.CleanupWordsRegExp,cy);},getTextNodes:function(){return this._fetchTextNodes(this.getContentBody());},_fetchTextNodes:function(fs){var fu=[];var ft;if(fs.hasChildNodes){for(var i=0;i<fs.childNodes.length;i++){ft=this._fetchTextNodes(fs.childNodes[i]);qx.lang.Array.append(fu,ft);};};if(fs.nodeType==3){if(fs.nodeValue.length>1){fu.push(fs);};};return fu;},__Ew:0,__Ex:function(){var fv=this._getIframeDocument();if(!fv){this.__Ew++;if(this.__Ew>5){this.error(bx+fv);this.fireDataEvent(bQ);}else {{};qx.event.Timer.once(function(){this.__Ex();},this,0);};}else {this.__Ew=0;this._onDocumentIsReady();};},_loaded:function(e){if(this.__Ei){return;};if(this.__Eh){this.__Ey();return;};if((qx.core.Environment.get(H)==cz)){this.__Ex();}else {this._onDocumentIsReady();};},isReady:function(){return this.__dc;},_onDocumentIsReady:function(){var fw=new qx.bom.htmlarea.manager.Command(this);if(this.getUseUndoRedo()){fw=new qx.bom.htmlarea.manager.UndoRedo(fw,this);};this.__Ei=true;if((qx.core.Environment.get(H)==cz)){this.setEditable(true);};this.__EB();if(!(qx.core.Environment.get(H)==bU)){this.__Dv();};if(!(qx.core.Environment.get(H)==cz)){this.setEditable(true);};this.__dc=true;this.__Eb=fw;fw.setContentDocument(this._getIframeDocument());this.__EG();if((qx.core.Environment.get(H)==bU)){this.__Dv();};this.fireEvent(dV);},forceEditable:qx.core.Environment.select(H,{"gecko":function(){var fx=this._getIframeDocument();if(fx){if(parseFloat(qx.core.Environment.get(bS))>=bL){fx.designMode=dQ;fx.body.contentEditable=false;fx.body.contentEditable=true;}else {fx.body.contentEditable=true;this.__EH(true);};};},"default":qx.lang.Function.empty}),invalidateEditor:qx.core.Environment.select(H,{"gecko":function(){this.__Ei=false;this.__dc=false;this.__Eh=true;},"default":function(){}}),__Ey:qx.core.Environment.select(H,{"gecko":function(){this.__EB();this.__Dv();this.__Eb.setContentDocument(this._getIframeDocument());this.setEditable(true);this.forceEditable();this.__Ei=true;this.__dc=true;this.__Eh=false;this.fireEvent(dA);},"default":function(){}}),__Ez:function(fy){var fA=cy;if(!fy){return fA;};try{var fz=fy.getAttribute(h);if(!fz){return fA;};if((qx.core.Environment.get(H)==cz)){fA=fz.cssText;}else {fA=fz;};}catch(fB){this.error(dc);};return fA;},__EA:function(fC){var fD=qx.core.Environment.get("engine.name")=="gecko"?" html, body {overflow-x: visible; } ":"";var fE=this.__Eo[this.getContentType()];var fF='<head>'+fE.meta+'<style type="text/css">'+fD+fE.style+fE.contentStyle+this.__Ea+'</style>'+'</head>';var content=fE.body+fC;return fE.html+fF+content+fE.footer;},__EB:function(){var fH=this.__Eu(this.getValue());if(qx.lang.Type.isString(fH)){var fG=this._getIframeDocument();try{fG.open("text/html",true);fG.write(this.__EA(fH));fG.close();}catch(e){this.error("cant open document on source '"+qx.bom.Iframe.queryCurrentUrl(this.__vY)+"'",e);this.fireDataEvent("loadingError",e);};};},__Dv:function(){this.__EC();this.__EE();this.__ED();},__EC:function(){var fJ=qx.event.Registration;var fI=this._getIframeDocument();fJ.addListener(fI.body,"keypress",this._handleKeyPress,this);fJ.addListener(fI.body,"keyup",this._handleKeyUp,this);fJ.addListener(fI.body,"keydown",this._handleKeyDown,this);},__ED:function(){var fM=qx.event.Registration;var fK=this._getIframeDocument();var fL=qx.core.Environment.get("engine.name")=="webkit"?this._getIframeWindow():fK.body;fM.addListener(fL,"focus",this._handleFocusEvent,this);fM.addListener(fL,"blur",this._handleBlurEvent,this);fM.addListener(fK,"focusout",this._handleFocusOutEvent,this);},__EE:function(){var fP=qx.event.Registration;var fO=this._getIframeDocument();var fN=qx.core.Environment.get("engine.name")=="mshtml"?"click":"mouseup";fP.addListener(fO.body,fN,this._handleMouseUpOnBody,this);fP.addListener(fO.documentElement,fN,this._handleMouseUpOnDocument,this);fP.addListener(fO.documentElement,"contextmenu",this._handleContextMenuEvent,this);},__EF:function(){if(this.__El==null){this.__El={execute:function(fQ,fR){this.stackedCommands=true;this.commandStack.push({command:fQ,value:fR});},commandStack:[],stackedCommands:false};};this.__El.stackedCommands=false;return this.__El;},__EG:function(){var fS=this.__El;if(fS!=null&&fS.stackedCommands){var fT=fS.commandStack;if(fT!=null){for(var i=0,j=fT.length;i<j;i++){this.__Eb.execute(fT[i].command,fT[i].value);};};};},__EH:function(fU){var fV=this._getIframeDocument();if(this.__Ei&&fV){try{if((qx.core.Environment.get("engine.name")=="gecko")){fV.designMode=(fU!==false)?'Off':'On';};fV.designMode=(fU!==false)?'On':'Off';}catch(e){};};},setEditable:function(fW){if(this.__Ei){this.__EH(true);if((qx.core.Environment.get(H)==cF)){try{var fX=this._getIframeDocument();fX.execCommand(dH,false,true);}catch(fY){try{var fX=this._getIframeDocument();fX.execCommand(bG,false,false);}catch(ga){if(!this.__dc){this.error(dN);this.fireDataEvent(bQ,ga);}else {throw new Error(dN);};};};};this.__Ej=fW;};},getEditable:function(){return this.__Ej;},isEditable:function(){return this.__Ej;},__EI:false,_handleKeyUp:function(e){var gb=e.getKeyIdentifier().toLowerCase();this.__Em=e;if((false)&&qx.core.Environment.get(cD)){this.debug(e.getType()+J+gb);};if(qx.core.Environment.get(H)==cz||qx.core.Environment.get(H)==cG){if(this.__EI){switch(gb){case bV:if(this.getInsertLinebreakOnCtrlEnter()){if((qx.core.Environment.get(H)==cG)){this.__EJ();e.preventDefault();e.stopPropagation();}else {var gc=this.__ET(this.getSelection());if(gc){gc.collapse(true);gc.pasteHTML(cP);};};this.__EO();};break;case cx:this.__EI=false;return;break;};};}else if((qx.core.Environment.get(H)==cF)){switch(gb){case F:case dK:case cu:case z:case dL:case E:case cj:case dO:case l:this.__Ek=(this.getFocusNode()==this.getContentBody().firstChild);break;};};},__EJ:function(){var gd=this.getSelection();var ge="";if(gd&&(gd.focusNode.textContent==""||gd.focusNode.parentElement.tagName=="LI")){ge="<br class='webkit-block-placeholder' />";};this.__Eb.execute("inserthtml",ge+qx.bom.htmlarea.HtmlArea.simpleLinebreak);},_handleKeyDown:qx.core.Environment.select(H,{"mshtml|webkit":function(e){var gf=e.getKeyIdentifier().toLowerCase();if((false)&&qx.core.Environment.get(cD)){};if(this.__EI&&(gf==be||gf==B||gf==U||gf==I||gf==m||gf==d)){e.preventDefault();e.stopPropagation();};if(gf==cx){this.__EI=true;};},"default":function(e){}}),_handleKeyPress:function(e){var gk=this.getContentDocument();var gg=e.getKeyIdentifier().toLowerCase();var gi=e.isCtrlPressed();var gj=e.isShiftPressed();this.__Em=e;if((false)&&qx.core.Environment.get(cD)){this.debug(e.getType()+J+gg);};if(this.__Eq){var gq=!((qx.core.Environment.get(H)==cz)&&gg==bV)||!((qx.core.Environment.get(H)==cF)&&gg==bV);if(gq){this.__EO();this.__Eq=false;};};switch(gg){case bV:if(!gj&&!gi&&this.getMessengerMode()){e.preventDefault();e.stopPropagation();this.fireDataEvent(cl,this.getComputedValue());this.resetHtml();};if(gi){if(!this.getInsertLinebreakOnCtrlEnter()){return;};e.preventDefault();e.stopPropagation();if((qx.core.Environment.get(H)==cF)){if(this.__ER()){this.insertHtml(V);this.__EO();return;};this.insertHtml(bF);}else if((qx.core.Environment.get(H)==bU)){var gp=this.getSelection();var gl=this.__ET(gp);if(gp&&gl){var gm=gk.createElement(dq);gl.collapse(true);gl.insertNode(gm);gl.collapse(true);gl.selectNode(gm);gp.addRange(gl);gl.collapse(true);};};this.__EO();};if((qx.core.Environment.get(H)==cz)){if(!this.getInsertParagraphOnLinebreak()){if(this.__Eb.execute(k,qx.bom.htmlarea.HtmlArea.simpleLinebreak)){this.__EO();e.preventDefault();e.stopPropagation();};};}else if((qx.core.Environment.get(H)==cF)){if(this.getInsertParagraphOnLinebreak()&&!gj&&!gi){var gp=this.getSelection();if(gp){var gh=gp.focusNode;if(this.__ER()){this.__EO();return;};if(this.__ES()){this.__EO();return;};while(!qx.dom.Node.isNodeName(gh,bo)){if(qx.dom.Node.isNodeName(gh,dv)){this.__EO();return;};gh=gh.parentNode;};};this.__Eb.insertParagraphOnLinebreak();e.preventDefault();e.stopPropagation();this.__EO();this.__Eq=true;};}else if((qx.core.Environment.get(H)==cG)){if(this.getInsertParagraphOnLinebreak()&&gj){this.__EJ();e.preventDefault();e.stopPropagation();this.__EO();};};;break;case cu:if(qx.core.Environment.get(H)==cF&&qx.core.Environment.get(bS)<1.9&&gj){var gp=this.getSelection();if(gp&&gp.focusNode==gk.body.firstChild){if(this.__Ek){if(gp.focusOffset!=0){gp.extend(gp.focusNode,0);};};};};this.__EO();break;case dp:if(qx.core.Environment.get(H)==cF&&qx.core.Environment.get(bS)<1.9){if(gi){var gp=this.getSelection();if(gj){if(gp&&(gp.focusOffset!=0)||(gp.focusNode!=gk.body.firstChild)){gp.extend(gk.body.firstChild,0);};}else {var gn=null;var go;if(gk){gn=gk.evaluate(cJ,gk.body,null,XPathResult.ANY_TYPE,null);};if(gn&&gp){while(go=gn.iterateNext()){if(go&&go.parentNode&&go.parentNode.tagName!=ba){try{gp.extend(go,0);if(!this.isSelectionCollapsed()){gp.collapseToStart();};}catch(e){};break;};};};};};};this.__EO();break;case F:case dK:case z:case dL:case E:case cj:case dO:case l:this.__EO();break;case U:if(gi){this.__EK(dE,true);};break;case m:case d:if(gi){this.__EK(bu,true);};break;case I:if(gi){this.__EK(X,true);};break;case be:if(gi&&!gj){this.__EK(du,true);}else if(gi&&gj){this.__EK(b,true);};break;case B:if(gi){this.__EK(b,true);};break;case v:if(gi){this.selectAll();};break;};this.__Em=null;},__EK:function(gr,gs){var gu=null;var gt=qx.bom.htmlarea.HtmlArea.hotkeyInfo;if(gt[gr]){gu=gt[gr].method;};if(gu!=null&&this[gu]){this[gu]();if(gs){this.__Em.preventDefault();this.__Em.stopPropagation();};if(this.isSelectionCollapsed()){this.__Eq=true;};this.__EO();};},_handleFocusEvent:function(e){this.__En=null;if(qx.core.Environment.get(H)==cF||qx.core.Environment.get(H)==cG){var gv=this.getContentDocument().getElementById(ci);if(gv){qx.bom.element.Attribute.reset(gv,bM);};};this.fireEvent(cf);},_handleBlurEvent:function(e){this.__vn=this.getComputedValue();},_handleFocusOutEvent:function(e){this.__EI=false;if(this.__En==null){this.__En=this.getSelectedHtml();};this.fireEvent(bj);},_handleMouseUpOnBody:function(e){if((false)&&qx.core.Environment.get(cD)){this.debug(Q+e.getType());};this.__Er=true;this.__EO();},_handleMouseUpOnDocument:qx.core.Environment.select(H,{"mshtml":qx.lang.Function.empty,"default":function(e){if(!this.__Er){qx.bom.Element.activate(this.getContentBody());};this.__Er=false;}}),_handleContextMenuEvent:function(e){if(!this.getNativeContextMenu()){var gy=e.getViewportLeft();var gx=e.getViewportTop();var gz=qx.bom.element.Location.getLeft(this.__fM)+gy;var gA=qx.bom.element.Location.getTop(this.__fM)+gx;var gw={x:gz,y:gA,relX:gy,relY:gx,target:e.getTarget()};e.preventDefault();e.stopPropagation();qx.event.Timer.once(function(){this.fireDataEvent(bR,gw);},this,0);};},isLoaded:function(){return this.__Ei;},insertHtml:function(gB){return this.__Eb.execute(k,gB);},removeFormat:function(){var gC=this.__Eb.execute(y);this.__Eb.execute(G,this.getDefaultFontSize());this.__Eb.execute(bP,this.getDefaultFontFamily());return gC;},setBold:function(){return this.__Eb.execute(dC);},setItalic:function(){return this.__Eb.execute(eb);},setUnderline:function(){return this.__Eb.execute(N);},setStrikeThrough:function(){return this.__Eb.execute(bI);},setFontSize:function(gD){return this.__Eb.execute(G,gD);},setFontFamily:function(gE){return this.__Eb.execute(bP,gE);},setTextColor:function(gF){return this.__Eb.execute(dr,gF);},setTextBackgroundColor:function(gG){return this.__Eb.execute(db,gG);},setJustifyLeft:function(){return this.__Eb.execute(R);},setJustifyCenter:function(){return this.__Eb.execute(bE);},setJustifyRight:function(){return this.__Eb.execute(cL);},setJustifyFull:function(){return this.__Eb.execute(Y);},insertIndent:function(){return this.__Eb.execute(cn);},insertOutdent:function(){return this.__Eb.execute(cK);},insertOrderedList:function(){return this.__Eb.execute(dX);},insertUnorderedList:function(){return this.__Eb.execute(cs);},insertHorizontalRuler:function(){return this.__Eb.execute(o);},insertImage:function(gH){return this.__Eb.execute(dD,gH);},insertHyperLink:function(gI){return this.__Eb.execute(W,gI);},removeBackgroundColor:function(){this.__Eb.execute(dM,cN);},setBackgroundColor:function(gJ){this.__Eb.execute(dM,gJ);},removeBackgroundImage:function(){this.__Eb.execute(g);},setBackgroundImage:function(gK,gL,gM){return this.__Eb.execute(g,[gK,gL,gM]);},selectAll:function(){return this.__Eb.execute(cQ);},undo:function(){if(this.getUseUndoRedo()){return this.__Eb.execute(D);}else {return true;};},redo:function(){if(this.getUseUndoRedo()){return this.__Eb.execute(n);}else {return true;};},resetHtml:function(){var gN=this._getIframeDocument();while(gN.body.firstChild){gN.body.removeChild(gN.body.firstChild);};if(qx.core.Environment.get(H)==cF){gN.body.innerHTML=dU;}else if(qx.core.Environment.get(H)==cG){var gO=this.getSelection();var gP=gN.createRange();if(gP&&gO){gO.addRange(gP);};};},getHtml:function(gQ){var gR=this._getIframeDocument();if(gR==null){return null;};return qx.bom.htmlarea.HtmlArea.__Ee(gR.body,false,gQ,this.getPostProcess());},containsOnlyPlaceholder:qx.core.Environment.select(H,{"mshtml":function(){var gS=this._getIframeDocument();return (gS.body.innerHTML==cY);},"default":qx.lang.Function.returnFalse}),_selectElement:function(gT){var gV=this.getContentWindow().getSelection();var gU=this.getContentDocument().createRange();gU.setStart(gT,0);gV.removeAllRanges();gV.addRange(gU);},focusContent:qx.core.Environment.select(H,{"gecko":function(){var gX=this.getContentDocument();var gW=gX.getElementById(ci);this.getContentWindow().focus();qx.bom.Element.focus(this.getContentBody());if(gW){this._selectElement(gW);}else {this.__EL();};},"webkit":function(){qx.bom.Element.focus(this.getContentWindow());qx.bom.Element.focus(this.getContentBody());var gY=this.getContentDocument().getElementById(ci);if(gY){qx.bom.element.Attribute.reset(gY,bM);};this.__EL();},"opera":function(){qx.bom.Element.focus(this.getContentWindow());qx.bom.Element.focus(this.getContentBody());this.__EL();},"default":function(){qx.bom.Element.focus(this.getContentBody());this.__EL();}}),__EL:function(){if(!this.__EM()){this.__EN();};},__EM:qx.core.Environment.select("engine.name",{"gecko":function(){var ha=this.getContentBody().childNodes;if(ha.length==0){return false;}else if(ha.length==1){return !(ha[0]&&qx.dom.Node.isNodeName(ha[0],"br")&&qx.bom.element.Attribute.get(ha[0],"_moz_dirty")!=null);}else {return true;};},"webkit":function(){var hb=this.getContentBody().childNodes;if(hb.length==0){return false;}else if(hb.length==1){return !(hb[0]&&qx.dom.Node.isNodeName(hb[0],"br"));}else {return true;};},"default":function(){var hc=this.getContentBody().childNodes;if(hc.length==0){return false;}else if(hc.length==1){return !(hc[0]&&qx.dom.Node.isNodeName(hc[0],"p")&&hc[0].firstChild==null);}else {return true;};}}),__EN:qx.core.Environment.select("engine.name",{"gecko|webkit":function(){this.getContentDocument().body.innerHTML=this.__Eu("");var hd=this.getContentDocument().getElementById("__elementToFocus__");qx.bom.element.Attribute.reset(hd,"id");this._selectElement(hd);},"default":function(){var he=qx.dom.Hierarchy.getFirstDescendant(this.getContentBody());if(qx.dom.Node.isNodeName(he,"p")){qx.bom.element.Style.set(he,"font-family",this.getDefaultFontFamily());qx.bom.element.Style.set(he,"font-size",this.getDefaultFontSize());};}}),getContextInformation:function(){return this.__EP();},__EO:function(){qx.event.Timer.once(function(e){var hf=this.__EP();this.fireDataEvent("cursorContext",hf);},this,200);},__EP:function(){if(this._processingExamineCursorContext||this.getEditable()==false){return;};this._processingExamineCursorContext=true;if(!this.__EM()){this.__EN();};var hj=this.getFocusNode();if(hj==null){return;};if(qx.dom.Node.isText(hj)){hj=hj.parentNode;};var hn=this._getIframeDocument();var hw=(qx.core.Environment.get("engine.name")=="mshtml")?hj.currentStyle:hn.defaultView.getComputedStyle(hj,null);var hq=false;var hg=false;var hl=false;var hk=false;var hr=false;var hv=false;var hm=false;var hx=false;var hi=false;var ht=false;var hu=null;var hy=null;var hp=null;if(hw!=null){if((qx.core.Environment.get("engine.name")=="mshtml")){hg=hw.fontStyle=="italic";hl=hw.textDecoration.indexOf("underline")!==-1;hk=hw.textDecoration.indexOf("line-through")!==-1;hu=hw.fontSize;hp=hw.fontFamily;hm=hw.textAlign=="left";hx=hw.textAlign=="center";hi=hw.textAlign=="right";ht=hw.textAlign=="justify";}else {hg=hw.getPropertyValue("font-style")=="italic";hl=hw.getPropertyValue("text-decoration").indexOf("underline")!==-1;hk=hw.getPropertyValue("text-decoration").indexOf("line-through")!==-1;hu=hw.getPropertyValue("font-size");hp=hw.getPropertyValue("font-family");hm=hw.getPropertyValue("text-align")=="left";hx=hw.getPropertyValue("text-align")=="center";hi=hw.getPropertyValue("text-align")=="right";ht=hw.getPropertyValue("text-align")=="justify";};if(qx.core.Environment.get("engine.name")=="mshtml"||qx.core.Environment.get("engine.name")=="opera"){hq=hw.fontWeight==700;}else {hq=hw.getPropertyValue("font-weight")=="bold"||qx.dom.Node.isNodeName(hj,"b");};};var hh=hj;if(hh!=null&&hh.parentNode!=null&&!qx.dom.Node.isDocument(hh.parentNode)){while(hh!=null&&!qx.dom.Node.isNodeName(hh,"body")){var ho=qx.dom.Node.getName(hh);if(ho=="ol"){hv=true;break;}else if(ho=="ul"){hr=true;break;};if(hy==null||hy==""){hy=qx.bom.element.Attribute.get(hh,'size');};hh=hh.parentNode;};};var hs={bold:hq?1:0,italic:hg?1:0,underline:hl?1:0,strikethrough:hk?1:0,fontSize:(hy==null)?hu:hy,fontFamily:hp,insertUnorderedList:hr?1:0,insertOrderedList:hv?1:0,justifyLeft:hm?1:0,justifyCenter:hx?1:0,justifyRight:hi?1:0,justifyFull:ht?1:0};this._processingExamineCursorContext=false;return hs;},getSelection:qx.core.Environment.select(H,{"mshtml":function(){return this._getIframeDocument()?this._getIframeDocument().selection:null;},"default":function(){return this._getIframeWindow()?this._getIframeWindow().getSelection():null;}}),isSelectionCollapsed:qx.core.Environment.select(H,{"mshtml":function(){return this.getSelection()&&this.getSelection().type==cE;},"default":function(){return this.getSelection()&&this.getSelection().isCollapsed;}}),getSelectedText:qx.core.Environment.select(H,{"mshtml":function(){return this.getRange()?this.getRange().text:cy;},"default":function(){return this.getRange()?this.getRange().toString():cy;}}),getSelectedHtml:function(){if(this.__En!=null){return this.__En;};var hz=this.getRange();if(!hz){return cy;}else {return this.__EQ(hz);};},__EQ:qx.core.Environment.select("engine.name",{"mshtml":function(hA){if(!hA){return "";};return hA.item?hA.item(0).outerHTML:hA.htmlText;},"default":function(hB){var hC=this._getIframeDocument();if(hC&&hB){try{var hD=hC.createElement("body");hD.appendChild(hB.cloneContents());return hD.innerHTML;}catch(hE){};return hB+"";};return "";}}),clearSelection:qx.core.Environment.select(H,{"mshtml":function(){var hF=this.getSelection();if(hF){hF.empty();};},"default":function(){var hG=this.getSelection();if(hG){hG.collapseToStart();};}}),__ER:qx.core.Environment.select("engine.name",{"gecko":function(){var hH=this.getSelection();var hI=this.getFocusNode();return hH&&this.isSelectionCollapsed()&&hI!=null&&qx.dom.Node.isText(hI)&&hH.anchorOffset<hI.length;},"default":function(){return false;}}),__ES:qx.core.Environment.select("engine.name",{"gecko":function(){return qx.dom.Node.isElement(this.getFocusNode());},"default":function(){return false;}}),getRange:function(){return this.__ET(this.getSelection());},__ET:qx.core.Environment.select("engine.name",{"mshtml":function(hJ){var hK=this._getIframeDocument();if(hJ){try{return hJ.createRange();}catch(hL){return hK?hK.body.createTextRange():null;};}else {return hK?hK.body.createTextRange():null;};},"default":function(hM){var hN=this._getIframeDocument();if(hM){try{return hM.getRangeAt(0);}catch(hO){return hN?hN.createRange():null;};}else {return hN?hN.createRange():null;};}}),saveRange:qx.core.Environment.select(H,{"mshtml":function(){this.__Ep=this.getRange();},"default":function(){}}),getSavedRange:qx.core.Environment.select(H,{"mshtml":function(){return this.__Ep;},"default":function(){}}),resetSavedRange:qx.core.Environment.select(H,{"mshtml":function(){this.__Ep=null;},"default":function(){}}),getFocusNode:qx.core.Environment.select(H,{"mshtml":function(){var hP=this.getSelection();var hQ;switch(hP.type){case cr:case cE:hQ=this.__ET(hP);if(hQ){hQ.collapse(false);return hQ.parentElement();}else {return null;};break;case O:hQ=this.__ET(hP);if(hQ){try{hQ.collapse(false);}catch(hR){};return hQ.item(0);}else {return null;};break;default:return this._getIframeDocument().body;};},"default":function(){var hS=this.getSelection();if(hS&&hS.focusNode){return hS.focusNode;};return this._getIframeDocument().body;}})},environment:{"qx.bom.htmlarea.HtmlArea.debug":false},destruct:function(){try{var hU=this._getIframeDocument();var hW=qx.event.Registration;hW.removeListener(hU.body,bm,this._handleKeyPress,this);hW.removeListener(hU.body,di,this._handleKeyUp,this);hW.removeListener(hU.body,dj,this._handleKeyDown,this);var hV=qx.core.Environment.get(H)==cG?this._getIframeWindow():hU.body;hW.removeListener(hV,bd,this._handleFocusEvent);hW.removeListener(hV,bJ,this._handleBlurEvent);hW.removeListener(hU,dk,this._handleFocusOutEvent);var hT=qx.core.Environment.get(H)==cz?cT:dz;hW.removeListener(hU.body,hT,this._handleMouseUpOnBody,this);hW.removeListener(hU.documentElement,hT,this._handleMouseUpOnDocument,this);hW.removeListener(hU.documentElement,bR,this._handleContextMenuEvent,this);if((qx.core.Environment.get(H)==cz)){qx.bom.Iframe.setSource(this.__vY,cR);};}catch(hX){};if(this.__Eb instanceof qx.core.Object){this._disposeObjects(x);}else {this.__Eb=null;};this.__Eo=this.__vY=this.__fM=this.__El=null;}});})();(function(){var n="undo",m="backgroundColor",l="pageup",k="home",h="shift",g="end",f="insertorderedlist",d="control",c="b",b="insertunorderedlist",bk="__Eb",bj="Undo",bi="pagedown",bh="ADD TO UNDO STACK",bg="backgroundImage",bf="backgroundRepeat",be="a",bd="y",bc="backgroundPosition",bb="justifyright",u="redo",v="k",s="qx.bom.htmlarea.manager.UndoRedo",t="left",q="i",r="Redo",o="u",p="inserthyperlink",y="right",z="enter",H="ADD TO REDO STACK",F="insertimage",P="z",K="undoRedoState",W="down",U="up",B="body",ba="actionType ",Y="mousedown",X="backgroundcolor",A="backgroundimage",D=" is not managed! Please provide a handler method!",E="table",G="td",I="img",L="p",R="mouseup",V="keypress",w="qx.bom.htmlarea.HtmlArea.debug",x="inserthtml",C="gecko",O="webkit",N="Content",M=" ",T="Internal",S="Custom",J="Command",Q="mshtml",a="engine.name";qx.Class.define(s,{extend:qx.core.Object,construct:function(bl,bm){qx.core.Object.call(this);this.__Eb=bl;this.__EU=bm;this.__FL=[];this.__FM=[];this._commands=null;this.__oc=null;this.__FN={};this.__FO={command:true,content:true,custom:true};this.__Fc();this.__FP=qx.lang.Function.bind(this._handleKeyPress,this);this.__FQ=qx.lang.Function.bind(this._handleMouseUp,this);if((qx.core.Environment.get(a)==Q)){this.__FR=qx.lang.Function.bind(this._handleMouseDown,this);};},members:{__FS:false,__FT:false,__FU:false,__FO:null,__FN:null,__Eb:null,__oc:null,__FL:null,__FM:null,__EU:null,__FP:null,__FQ:null,__FR:null,__FV:null,setContentDocument:function(bn){this.__oc=bn;this.__Eb.setContentDocument(bn);qx.event.Registration.addListener(bn.body,V,this.__FP,this);qx.event.Registration.addListener(bn.body,R,this.__FQ,this);if((qx.core.Environment.get(a)==Q)){qx.event.Registration.addListener(bn.body,Y,this.__FR,this,true);};},insertParagraphOnLinebreak:function(){return this.__Eb.insertParagraphOnLinebreak();},execute:function(bo,bp){var bq;bo=bo.toLowerCase();if(this._commands[bo]){if(this._commands[bo].passthrough){bq=this.__Eb.execute(bo,bp);}else {bq=this[bo].call(this);};}else {if((qx.core.Environment.get(a)==Q)||(qx.core.Environment.get(a)==O)){this.__Gn(bo,bp,this.__Eb.getCommandObject(bo));bq=this.__Eb.execute(bo,bp);if(!bq){this.__FL.pop();};}else {bq=this.__Eb.execute(bo,bp);if(bq){this.__Gn(bo,bp,this.__Eb.getCommandObject(bo));};};if(bo==n&&this.__FL.length==0){this.__FT=false;this.__Gv();}else if(bo==u&&this.__FM.length==0){this.__FS=false;this.__Gv();};};this.__FU=false;return bq;},addUndoStep:function(br,bs,bt){this.__Gn(br,bs,bt);},registerHandler:function(bu,bv,bw,bx){this.__FN[bu]={undo:bv,redo:bw,context:bx};},isUndoPossible:function(){return this.__FT;},undo:function(){var bA;if(this.__FU){this.__Gp();};if(this.__FL.length>0){var bz=this.__FL.pop();if(this.__FO[bz.actionType.toLowerCase()]){switch(bz.actionType){case J:bA=this.__FX(bz);break;case N:bA=this.__Gc(bz);break;case T:bA=this.__Gb(bz);break;case S:bA=this.__FW(bz);break;};}else if(this.__FN[bz.actionType]){var by=this.__FN[bz.actionType];bA=by.undo.call(by.context?by.context:this,bz);this.__Gr(bz);}else {this.error(ba+bz.actionType+D);};this.__FS=true;this.__Gv();return bA;};},__FW:qx.core.Environment.select("engine.name",{"mshtml|webkit":function(bB){var bC=this.__oc.body.innerHTML;var bE=bB.content;this.__oc.body.innerHTML=bE;var bD=bB;bD.content=bC;this.__Gr(bD);return true;},"default":function(bF){var bJ=bF;var bI=qx.bom.element.Style;switch(bF.command){case "backgroundcolor":bJ.parameter=[bI.get(this.__oc.body,"backgroundColor")];break;case "backgroundimage":bJ.parameter=[bI.get(this.__oc.body,"backgroundImage"),bI.get(this.__oc.body,"backgroundRepeat"),bI.get(this.__oc.body,"backgroundPosition")];break;};this.__Gr(bJ);if(bF.command=="inserthyperlink"){if((qx.core.Environment.get("engine.name")=="gecko")){var bH="qx_link"+this.__Eb.__hyperLinkId;var bG=this.__oc.getElementById(bH);if(bG){bG.parentNode.removeChild(bG);return true;}else {return false;};};}else {return this.__Eb.execute(bF.command,bF.value);};}}),__FX:qx.core.Environment.select("engine.name",{"mshtml|webkit":function(bK){},"default":function(bL){this.__Gr(bL);if((qx.core.Environment.get("engine.name")=="gecko")){if(bL.command=="inserthtml"&&bL.value==qx.bom.htmlarea.HtmlArea.EMPTY_DIV&&this.__FY("inserthtml","insertParagraph")){this.__Ga();};};return this.__Gd();}}),__FY:function(bM,bN){if(this.__FL.length>0){var bO=this.__FL[this.__FL.length-1];return (bO.command==bM&&bO.value==bN);};return false;},__Ga:function(){this.__Gd();if(this.__FL.length>0){var bP=this.__FL.pop();this.__Gr(bP);};},__Gb:function(bQ){this.__Gr(bQ);return this.__Gd();},__Gc:qx.core.Environment.select(a,{"gecko":function(bR){this.__Gr(bR);try{return this.__Gd();}catch(bS){{};};},"mshtml|webkit":function(bT){},"default":function(bU){this.__Gr(bU);return this.__Gd();}}),__Gd:function(){try{return this.__oc.execCommand(bj,false,null);}catch(e){return false;};},isRedoPossible:function(){return this.__FS;},redo:function(){if(this.__FS){var bW;if(this.__FM.length>0){var bX=this.__FM.pop();if(this.__FO[bX.actionType.toLowerCase()]){switch(bX.actionType){case J:bW=this.__Gf(bX);break;case N:bW=this.__Gl(bX);break;case T:bW=this.__Gk(bX);break;case S:bW=this.__Ge(bX);break;};}else if(this.__FN[bX.actionType]){var bV=this.__FN[bX.actionType];bW=bV.redo.call(bV.context?bV.context:this,bX);this.__Gq(bX);}else {this.error(ba+bX.actionType+D);};this.__FT=true;this.__Gv();};return bW;};},__Ge:qx.core.Environment.select(a,{"mshtml|webkit":function(bY){var ca=this.__oc.body.innerHTML;var cc=bY.content;this.__oc.body.innerHTML=cc;var cb=bY;cb.content=ca;this.__Gq(cb);return true;},"default":function(cd){this.__Gq(cd);return this.__Gm();}}),__Gf:qx.core.Environment.select(a,{"mshtml|webkit":function(ce){},"default":function(cf){this.__Gq(cf);var cg=this.__Gm();if((qx.core.Environment.get(a)==C)){if(this.__Gg(x,qx.bom.htmlarea.HtmlArea.EMPTY_DIV)){var ch=this.__Gh();this.__Gi();if(ch!=null){this.__Gj(ch);};};};return cg;}}),__Gg:function(ci,cj){if(this.__FM.length>0){var ck=this.__FM[this.__FM.length-1];return (ck.command==ci&&ck.value==cj);};return false;},__Gh:function(){if(this.__EU==null){return null;};var cl=this.__EU.getSelection();var cm=cl?cl.focusNode:null;if(cm==null){return null;};try{while(cm.nodeName.toLowerCase()!=L){cm=cm.parentNode;if(!cm||qx.dom.Node.isNodeName(cm,B)){return null;};};}catch(cn){return null;};if(cm!=null&&qx.dom.Node.isNodeName(cm,L)){return cm;}else {return null;};},__Gi:function(){var co=this.__FM.pop();this.__Gq(co);this.__Gm();},__Gj:qx.core.Environment.select(a,{"gecko":function(cp){if(cp==this.__EU.getContentBody().lastChild){return;};var cs=cp.firstChild;while(cs.firstChild){cs=cs.firstChild;};var cq=this.__EU.getSelection();var cr=this.__EU.getRange();if(cq&&cr){cr.selectNode(cs);cq.addRange(cr);cr.collapse(true);};},"default":qx.lang.Function.empty}),__Gk:function(ct){this.__Gq(ct);return this.__Gm();},__Gl:qx.core.Environment.select(a,{"mshtml|webkit":function(cu){},"default":function(cv){this.__Gq(cv);return this.__Gm();}}),__Gm:function(){try{return this.__oc.execCommand(r,false,null);}catch(e){return false;};},__Fc:function(){this._commands={undo:{passthrough:false},redo:{passthrough:false}};this.__Eb.getCommandObject(X).customUndo=true;this.__Eb.getCommandObject(A).customUndo=true;if((qx.core.Environment.get(a)==C)){};},__Gn:qx.core.Environment.select(a,{"mshtml|webkit":function(cw,cx,cy){var cz=this.getUndoRedoObject();cz.commandObject=cy;cz.command=cw;cz.value=cx;cz.actionType=S;cz.content=this.__oc.body.innerHTML;this.__Go(cz);},"default":function(cA,cB,cC){if(this.__EU==null){return;};var cE=this.getUndoRedoObject();cE.commandObject=cC;cE.command=cA;cE.value=cB;cE.actionType=S;var cD=this.__EU.getSelection();if(cC.customUndo){var cF=[];switch(cA){case X:cF.push(qx.bom.element.Style.get(this.__oc.body,m));break;case A:cF.push(qx.bom.element.Style.get(this.__oc.body,bg),qx.bom.element.Style.get(this.__oc.body,bf),qx.bom.element.Style.get(this.__oc.body,bc));break;case p:if(cD&&!cD.isCollapsed){cE.actionType=J;};break;};cE.parameter=cF;}else {if((qx.core.Environment.get(a)==C)){if(cD&&cD.isCollapsed){switch(cA){case f:case b:case bb:case x:case F:cE.actionType=J;break;default:return;};}else {cE.actionType=J;};}else {cE.actionType=J;};};this.__Go(cE);}}),__Go:function(cG){if(this.__FU){this.__Gp();};this.__Gq(cG);this.__FS=false;this.__FM=[];this.__Gv();},__Gp:function(){var cH=this.__FL[this.__FL.length-1];if(cH==null||cH.actionType!=N){var cI=this.getUndoRedoObject();cI.actionType=N;if((qx.core.Environment.get(a)==Q)||(qx.core.Environment.get(a)==O)){cI.content=this.__FV;cI.actionType=S;this.__FV=null;};this.__Gq(cI);this.__FU=false;};},getUndoRedoObject:function(){return {actionType:null,commandObject:null,command:null,value:null,parameter:null,range:null,marker:null,content:null};},__Gq:function(cJ){if((false)&&qx.core.Environment.get(w)){this.debug(bh);this.debug(cJ.actionType+M+cJ.command+M+cJ.value);};this.__FL.push(cJ);},__Gr:function(cK){if((false)&&qx.core.Environment.get(w)){this.debug(H);this.debug(cK.actionType+M+cK.command+M+cK.value);};this.__FM.push(cK);},_handleKeyPress:function(e){var cL=e.getKeyIdentifier().toLowerCase();var cM=e.isCtrlPressed();switch(cL){case d:case h:case t:case y:case U:case W:case l:case bi:case k:case g:case z:break;case be:case c:case q:case o:case v:case bd:case P:if(!cM){this.__Gs();};break;default:this.__FS=false;this.__FM=[];this.__Gs();};},__Gs:function(){if(!this.__FU){this.__FU=true;this.__FT=true;if((qx.core.Environment.get(a)==Q)||(qx.core.Environment.get(a)==O)){this.__FV=this.__oc.body.innerHTML;};this.__Gv();};},__Gt:null,_handleMouseDown:qx.core.Environment.select(a,{"mshtml":function(e){var cN=e.getOriginalTarget();if(qx.dom.Node.isElement(cN)&&(qx.dom.Node.isNodeName(cN,I)||qx.dom.Node.isNodeName(cN,E))){this.__Gt={node:cN,content:cN.outerHTML};}else {this.__Gt=null;};},"default":function(e){return true;}}),_handleMouseUp:qx.core.Environment.select(a,{"gecko":function(e){if(this.__EU==null){return;};var cP=this.__EU.getSelection();if(!cP){this.__Gt=null;return;};var cO=cP.anchorNode;var cQ=cO.childNodes[cP.anchorOffset];if(qx.dom.Node.isNodeName(cQ,I)){if(this.__Gt==null){this.__Gt=cQ.cloneNode(true);}else {if(this.__Gt.style.width!=cQ.style.width||this.__Gt.style.height!=cQ.style.height){this.__Gu();this.__Gt=cQ.cloneNode(true);};};}else if(qx.dom.Node.isNodeName(cO,G)||qx.dom.Node.isNodeName(cO.parentNode,G)){var cR=cO.parentNode;while(qx.dom.Node.isNodeName(cR,E)){cR=cR.parentNode;};if(this.__Gt==null){this.__Gt=cR.cloneNode(true);}else {qx.event.Timer.once(function(){if(cR.style.width!=this.__Gt.style.width||cR.style.height!=this.__Gt.style.height||cR.innerHTML!=this.__Gt.innerHTML){this.__Gu();this.__Gt=cR.cloneNode(true);};},this,0);};}else {this.__Gt=null;};},"default":function(e){var cS=qx.bom.Event.getTarget(e);if(this.__Gt!=null){if(cS.nodeType==1){if(cS==this.__Gt.node){if(cS.outerHTML!=this.__Gt.content){this.__Gt.content=cS.outerHTML;this.__Gu();};}else {for(var i=0,j=cS.childNodes.length;i<j;i++){if(cS.childNodes[i]==this.__Gt.node){if(cS.childNodes[i].outerHTML!=this.__Gt.content){this.__Gt.content=cS.childNodes[i].outerHTML;this.__Gu();};};};};}else {this.__Gt=null;};};}}),__Gu:qx.core.Environment.select(a,{"mshtml|webkit":function(){this.__Gn(T,null,null);},"default":function(){var cT=this.getUndoRedoObject();cT.actionType=T;this.__Gq(cT);}}),__Gv:function(){qx.event.Timer.once(function(e){if(this.__EU!=null){var cU={undo:this.isUndoPossible()?0:-1,redo:this.isRedoPossible()?0:-1};this.__EU.fireDataEvent(K,cU);};},this,200);}},destruct:function(){try{qx.event.Registration.removeListener(this.__oc.body,V,this.__FP);qx.event.Registration.removeListener(this.__oc,R,this.__FQ);if((qx.core.Environment.get(a)==Q)){qx.event.Registration.removeListener(this.__oc,Y,this.__FR);};}catch(e){};this._disposeObjects(bk);this.__EU=this.__FL=this.__FM=this._commands=this.__oc=null;this.__FO=this.__FN=null;}});})();(function(){var k="</div>",j="redraw",i="widgetbrowser.pages.Embed",h=" Text",g="widgetbrowser/fo_tester.swf",f="<i>L</i>",d="<b>T</b>",c="<i style='color: red;'><b>H</b></i>",b="solid",a="bgcolor",F="widgetbrowser/blank.html",E="<u>M</u>",D="html.canvas",C="border-main",B="Browser does not support canvas",A="this is passed in via FlashVars",z="<div style='background-color: white; text-align: center;'>",y="bold",x='<h1>About</h1><p>qooxdoo (pronounced [ku:ksdu:]) is a comprehensive and innovative Ajax application framework. Leveraging object-oriented JavaScript allows developers to build impressive cross-browser applications. No <acronym title="HyperText Markup Language">HTML</acronym>, <acronym title="Cascading Style Sheets">CSS</acronym> nor <acronym title="Document Object Model">DOM</acronym> knowledge is needed. qooxdoo includes a platform-independent development tool chain, a state-of-the-art <acronym title="Graphical User Interface">GUI</acronym> toolkit and an advanced client-server communication layer. It is Open Source under an <acronym title="GNU Lesser General Public License">LGPL</acronym>/<acronym title="Eclipse Public License">EPL</acronym> dual <a href="http://qooxdoo.org/license" class="wikilink1" title="license">license</a>.</p>',w='Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat. Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla facilisi. Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat. Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla facilisi. Nam liber tempor cum soluta nobis eleifend option congue nihil imperdiet doming id quod mazim placerat facer possim assum. Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat. Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla facilisi. Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat. Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla facilisi. Nam liber tempor cum soluta nobis eleifend option congue nihil imperdiet doming id quod mazim placerat facer possim assum. Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat. Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla facilisi. Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat. Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla facilisi. Nam liber tempor cum soluta nobis eleifend option congue nihil imperdiet doming id quod mazim placerat facer possim assum. Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat. Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla f',r="Text with set font (bold)!",s="Canvas",p="Flash",q="white",n="noscale",o="#FF6600",l="HtmlArea",m="HTML",t="100%",u="auto",v="main";qx.Class.define(i,{extend:widgetbrowser.pages.AbstractPage,construct:function(){widgetbrowser.pages.AbstractPage.call(this);var G=new qx.ui.layout.Grid(100,10);G.setColumnFlex(1,1);this.__jf=new qx.ui.container.Composite(G);this.add(this.__jf,{width:t,height:t});this.initWidgets();},members:{__jf:null,initWidgets:function(){var U=this._widgets;var O;O=new qx.ui.basic.Label(p);this.__jf.add(O,{row:0,column:0});var V={flashVarText:A};var N=new qx.ui.embed.Flash(g).set({scale:n,width:100,height:200,variables:V});N.getContentElement().setParam(a,o);U.push(N);this.__jf.add(N,{row:1,column:0,colSpan:2});O=new qx.ui.basic.Label(s);this.__jf.add(O,{row:2,column:0});if(qx.core.Environment.get(D)){var H=new qx.ui.embed.Canvas().set({width:200,height:200,canvasWidth:200,canvasHeight:200,syncDimension:true});H.addListener(j,this.__MQ,this);U.push(H);this.__jf.add(H,{row:3,column:0});}else {this.__jf.add(new qx.ui.basic.Label(B),{row:3,column:0});};O=new qx.ui.basic.Label(m);this.__jf.add(O,{row:2,column:1});var S=new qx.ui.container.Composite(new qx.ui.layout.VBox(10));this.__jf.add(S,{row:3,column:1});var P=z+c+d+E+f+h+k;var M=new qx.ui.embed.Html(P);U.push(M);M.setMaxWidth(200);M.setHeight(20);M.setDecorator(v);S.add(M);var Q=r;var L=new qx.ui.embed.Html(Q);U.push(L);L.setMaxWidth(200);L.setFont(y);L.setHeight(20);L.setDecorator(v);S.add(L);var T=w;var J=new qx.ui.embed.Html(T);U.push(J);J.setOverflow(u,u);J.setDecorator(v);J.setBackgroundColor(q);J.setHeight(150);J.setMaxWidth(200);S.add(J);O=new qx.ui.basic.Label(l);this.__jf.add(O,{row:4,column:0});var K=new qx.ui.decoration.Single(1,b,C);var I=x;var R=new qx.ui.embed.HtmlArea(I,null,qx.util.ResourceManager.getInstance().toUri(F));R.set({width:300,height:150,decorator:K});this.__jf.add(R,{row:5,column:0});U.push(R);},__MQ:function(e){var X=e.getData();var W=X.context;W.fillStyle="rgb(200,0,0)";W.fillRect(20,20,105,100);W.fillStyle="rgba(0, 0, 200, 0.5)";W.fillRect(70,70,105,100);}}});})();(function(){var cu="_moz",ct="formatBlock",cs="insertParagraph",cr=" succeded",cq="li",cp='<span style="',co="__Fq",cn=' <a href="',cm="FONT",cl="__placeholder__",bx="JustifyCenter",bw="__Fo",bv="Cut",bu="outdent",bt='</a> ',bs="InsertImage",br="__resetHtml",bq="FontName",bp="blockquote",bo="__FD",cB="style",cC="__FE",cz="The method '",cA="qx.bom.htmlarea.manager.Command",cx="'><br class='webkit-block-placeholder' />",cy="a",cv='"',cw="<span></span>",cD="type",cE="CreateLink",bV="__FB",bU="':'",bX="' you calling to execute the command '",bW="qx_link",ca="__FJ",bY='"></span>',cc="Italic",cb=" failed",bT="InsertUnorderedList",bS="body",a="OL",b='text-align:',c="__FC",d="Bold",f="ForeColor",g='" ',h="repeat repeat-x repeat-y no-repeat",m='</p>',n="<hr />",o="editor not ready! '",cI='<font style="',cH="__FK",cG="Command ",cF="IMG",cM='<p id="',cL="JustifyRight",cK="LI",cJ="__getHtml",cO='>',cN='font-family:',N="__Fr",O='" size="',L="Indent",M="br",R="Copy",S="</span>",P="Paste",Q="none",J="__FH",K="__Fz",w="RemoveFormat",v="StrikeThrough",y="__FA",x='',s="__Fh",r='style="',u="'",t="' is not available!",q="_moz_dirty",p="color",X="JustifyLeft",Y="__FI",ba=" is currently not supported!",bb="Underline",T="SelectAll",U="<p style='",V="href",W='<span id="',bc="UL",bd="JustifyFull",G="Outdent",F="indent",E="selectall",D="InsertOrderedList",C="__FF",B="/>",A="<img ",z="</font>",I="font-size",H="background-color",be="font",bf=":",bg="='",bh=" with value ",bi="__Fm",bj=";",bk="px",bl="Control",bm="__paragraph__",bn=':',bB="qx.bom.htmlarea.HtmlArea.debug",bA="size",bz="' ",by="webkit",bF="execCommand ",bE="transparent",bD="BODY",bC="undefined",bH="text-align",bG="p",bO="id",bP="InsertHtml",bM='">',bN="font-family",bK="child",bL="gecko",bI='text-decoration',bJ="FontSize",bQ=';',bR="__Fl",ce="span",cd='color',cg="text-decoration",cf="inserthtml",ci="mshtml",ch="",ck="legacy-font-size",cj="engine.name";qx.Class.define(cA,{extend:qx.core.Object,construct:function(cP){qx.core.Object.call(this);this.__EU=cP;this.__oc=null;this._commands=null;this.__Fc();this.__EV={"Bold":true,"Italic":true,"Underline":true,"StrikeThrough":true};this.__EW=[10,12,16,18,24,32,48];this.__EX=0;},statics:{__EY:"|top|bottom|center|left|right|right top|left top|left bottom|right bottom|",__Fa:h},members:{__oc:null,__EU:null,__Fb:false,__EV:null,__EW:null,__EX:null,setContentDocument:function(cQ){this.__oc=cQ;},getCommandObject:function(cR){if(this._commands[cR]){return this._commands[cR];}else {return null;};},__Fc:function(){this._commands={bold:{useBuiltin:false,identifier:d,method:J},italic:{useBuiltin:false,identifier:cc,method:Y},underline:{useBuiltin:false,identifier:bb,method:ca},strikethrough:{useBuiltin:false,identifier:v,method:cH},fontfamily:{useBuiltin:true,identifier:bq,method:null},fontsize:{useBuiltin:false,identifier:bJ,method:K},textcolor:{useBuiltin:true,identifier:f,method:null},textbackgroundcolor:{useBuiltin:false,identifier:null,method:y},backgroundcolor:{useBuiltin:false,identifier:null,method:bV},backgroundimage:{useBuiltin:false,identifier:null,method:c},justifyleft:{useBuiltin:false,identifier:X,method:bR},justifyright:{useBuiltin:false,identifier:cL,method:bR},justifycenter:{useBuiltin:false,identifier:bx,method:bR},justifyfull:{useBuiltin:false,identifier:bd,method:bR},indent:{useBuiltin:true,identifier:L,method:null},outdent:{useBuiltin:true,identifier:G,method:null},copy:{useBuiltin:true,identifier:R,method:null},cut:{useBuiltin:true,identifier:bv,method:null},paste:{useBuiltin:true,identifier:P,method:null},insertorderedlist:{useBuiltin:false,identifier:D,method:bi},insertunorderedlist:{useBuiltin:false,identifier:bT,method:bi},inserthorizontalrule:{useBuiltin:false,identifier:bP,method:N},insertimage:{useBuiltin:false,identifier:bs,method:bw},inserthyperlink:{useBuiltin:false,identifier:cE,method:co},selectall:{useBuiltin:false,identifier:T,method:bo},selectedtext:{useBuiltin:false,identifier:null,method:cC},selectedhtml:{useBuiltin:false,identifier:null,method:C},inserthtml:{useBuiltin:false,identifier:bP,method:s},resethtml:{useBuiltin:false,identifier:null,method:br},gethtml:{useBuiltin:false,identifier:null,method:cJ},removeformat:{useBuiltin:true,identifier:w,method:null}};},execute:function(cS,cT){if(!this.__EU.isReady()){this.error(o+cS+bU+cT+u);return false;};cS=cS.toLowerCase();cT=cT!=null?cT:null;if(this._commands[cS]){var cU;var cV=this._commands[cS];if(!((qx.core.Environment.get(cj)==by)&&(cS==F||cS==bu))){if(this.__Fd()){this.__Fe();};};if(cV.useBuiltin){cU=this.__Ff(cV.identifier,false,cT);}else {if(cV.method!=null&&this[cV.method]){cU=this[cV.method].call(this,cT,cV);}else {this.error(cz+cV.method+bX+cS+t);};};this.__EU.resetSavedRange();return cU;}else {this.error(cG+cS+ba);};},__Fd:function(){var Node=qx.dom.Node;var cW=this.__EU.getFocusNode();var da=false;var cX=false;if(cW){if(Node.isText(cW)){var cY=qx.dom.Hierarchy.getAncestors(cW);for(var i=0,j=cY.length;i<j;i++){if(Node.isNodeName(cY[i],bG)||qx.bom.htmlarea.HtmlArea.isHeadlineNode(cY[i])){da=true;break;};};}else if(Node.isNodeName(cW,bS)){cX=true;};};return cX||!da;},__Fe:function(){this.__Ff(ct,false,bG);},__Ff:function(db,dc,dd){try{var dg=this.__oc;var de=false;var df=this.__EU.getRange();this.__oc.body.focus();if((qx.core.Environment.get(cj)==ci)){if(db!=E){df.select();if(((df.text)&&(df.text.length>0))||((df.length==1)&&(df.item(0))&&(df.item(0).tagName==cF))){dg=df;}else {dg=this.__oc;};};if(((qx.core.Environment.get(cj)==ci))&&(this.__EV[db])){if(df.text==ch){de=true;};};};var dh=dg.execCommand(db,dc,dd);if(de&&df.text!=ch){df.collapse();};if((false)&&qx.core.Environment.get(bB)){this.debug(bF+db+bh+dd+cr);};this.__Fb=false;}catch(di){if((false)&&qx.core.Environment.get(bB)){this.debug(bF+db+bh+dd+cb);};return false;};return dh;},__Fg:qx.core.Environment.select(cj,{"mshtml":function(){var dk=this.__EU;var dj=dk.getSavedRange()!=null?dk.getSavedRange():dk.getRange();return dj;},"default":function(){return this.__EU.getRange();}}),__Fh:qx.core.Environment.select(cj,{"mshtml":function(dl,dm){var dq;if(dl==qx.bom.htmlarea.HtmlArea.simpleLinebreak){return this.__Fk();}else {this.__oc.body.focus();var dp=this.__EU.getSelection();var dn=this.__Fg();if(dn&&dp&&dp.type!=bl){try{dn.pasteHTML(dl);dn.collapse(false);dn.select();dq=true;}catch(e){};}else {dq=false;};this.__EU.resetSavedRange();return dq;};},"default":function(dr,ds){this.__oc.body.focus();return this.__oc.execCommand(ds.identifier,false,dr);}}),insertParagraphOnLinebreak:qx.core.Environment.select(cj,{"gecko":function(){var dA=this.__Fu();var dE=this.__Fi(dA);var dw=this.__Fs(dA);var dB=cl+Date.parse(new Date());var dC=bm+Date.parse(new Date());var du=x;var dy=W+dB+bY;du+=dy;du+=cM+dC+g+dE+cO;du+=dw+m;this.__EU.getCommandManager().addUndoStep(cf,cs,this.getCommandObject(cf));this.execute(cf,du);this.__Fj();qx.bom.element.Attribute.reset(this.__oc.getElementById(dB),bO);var dz=this.__oc.getElementById(dC);if(dz.previousSibling.innerHTML==dy){var dt=this.__Ft();var dx=this.__oc.createElement(M);var dv=this.__oc.createAttribute(q);dv.nodeValue=ch;dx.setAttributeNode(dv);var dD=this.__oc.createAttribute(cD);dD.nodeValue=cu;dx.setAttributeNode(dD);dz.previousSibling.appendChild(dt);dz.previousSibling.appendChild(dx);};qx.bom.element.Attribute.reset(dz,bO);return true;},"webkit":function(){var dF=this.getCurrentStyles();var dG=ch;var dI={"background-color":true,"text-align":true};for(var dH in dF){if(dI[dH]){dG+=dH+bf+dF[dH]+bj;};};this.__EU.insertHtml(U+dG+cx);},"default":qx.lang.Function.empty}),__Fi:qx.core.Environment.select(cj,{"gecko":function(dJ){var dO=r;var dN=dJ.child;if(dN[bH]){dO+=b+dN[bH]+bQ;delete dJ.child[bH];};if(dN[bN]){dO+=cN+dN[bN]+bQ;delete dJ.child[bN];};var dM={"padding-top":true,"padding-bottom":true,"padding-left":true,"padding-right":true};var dK={"margin-top":true,"margin-bottom":true,"margin-left":true,"margin-right":true};for(var dL in dN){if(dM[dL]||dK[dL]){dO+=dL+bn+dN[dL]+bQ;delete dJ.child[dL];};};dO+=cv;return dO;},"default":function(){return ch;}}),__Fj:qx.core.Environment.select(cj,{"gecko":function(){var dW=this.__EU.getSelection();if(!dW||!dW.focusNode){return;};var dP=dW.focusNode;var dU=dW.focusNode;while(!qx.dom.Node.isNodeName(dU,bG)){dU=dU.parentNode;};var dT=dU.previousSibling.id;var dX=dU.nextSibling?dU.nextSibling.id:null;if(qx.lang.String.startsWith(dT,bm)&&dT==dX){var dV=dU.nextSibling;var dR=this.__EU.getRange();dR.selectNode(dV);dW.addRange(dR);var dQ=qx.bom.htmlarea.HtmlArea.EMPTY_DIV;this.__EU.getCommandManager().addUndoStep(cf,dQ,this.getCommandObject(cf));this.execute(cf,dQ);var dS=this.__EU.getRange();if(dP){while(dP&&dP.firstChild&&qx.dom.Node.isElement(dP.firstChild)){dP=dP.firstChild;};};dS.selectNode(dP);dW.addRange(dS);dS.collapse(true);};},"default":qx.lang.Function.empty}),__Fk:qx.core.Environment.select(cj,{"mshtml":function(){var dY=this.__EU.getRange();if(dY&&!qx.dom.Node.isNodeName(dY.parentElement(),cq)){dY.pasteHTML(qx.bom.htmlarea.HtmlArea.simpleLinebreak);dY.collapse(false);dY.select();return true;};return false;},"default":function(){return false;}}),__Fl:function(ea,eb){var ec=(qx.core.Environment.get(cj)==ci)?this.__EU.getRange():this.__oc;return ec.execCommand(eb.identifier,false,ea);},__Fm:function(ed,ee){if((qx.core.Environment.get(cj)==ci)){var ef=this.__EU.getFocusNode();this.__Fn(ef);};this.__oc.body.focus();var eg=this.__oc.execCommand(ee.identifier,false,ed);if((qx.core.Environment.get(cj)==by)){var ef=this.__EU.getFocusNode();this.__Fn(ef.parentNode);};return eg;},__Fn:function(eh){var ei=[];var parent=eh.parentNode;while(qx.dom.Node.isNodeName(parent,bp)){ei.push(parent);parent=parent.parentNode;};if(ei.length>0){parent.appendChild(eh);parent.removeChild(ei[ei.length-1]);};},__Fo:qx.core.Environment.select(cj,{"gecko":function(ej,ek){if(ej.src){this.__oc.execCommand(ek.identifier,false,ej.src);delete ej.src;var ey=this.__EU.getSelection();if(ey){var ew=ey.anchorNode;var er=ey.anchorOffset;var eo=ew.childNodes[er-1];var eu;for(var eq in ej){eu=this.__oc.createAttribute(eq);eu.nodeValue=ej[eq];eo.setAttributeNode(eu);};var ep={"font":true,"span":true};var em=null;var et=true;if(qx.dom.Node.isElement(eo.previousSibling)&&ep[qx.dom.Node.getName(eo.previousSibling)]){em=eo.previousSibling;}else if(ep[qx.dom.Node.getName(eo.parentNode)]){em=eo.parentNode;et=false;};var en=this.__oc.createDocumentFragment();var ez;if(et&&em!=null){var ep=this.__Fp(em);en.appendChild(ep.root);ez=ep.inline;}else {ez=this.__oc.createElement(ce);en.appendChild(ez);};var ev=this.__oc.createTextNode(ch);ez.appendChild(ev);var es=eo.parentNode;if(eo==es.lastChild){es.appendChild(en);}else {es.insertBefore(en,eo.nextSibling);};var el=this.__EU.getRange();el.selectNodeContents(ez);};return true;}else {return false;};},"mshtml":function(eA,eB){var eF=false;var eG=A;for(var eC in eA){eG+=eC+bg+eA[eC]+bz;};eG+=B;var eD=this.__EU.getSelection();var eE=this.__Fg();if(eD&&eD.type!=bl){try{eE.select();eE.pasteHTML(eG);eF=true;}catch(e){};};this.__EU.resetSavedRange();return eF;},"default":function(eH,eI){if(eH.src){var eK=A;for(var eJ in eH){eK+=eJ+bg+eH[eJ]+bz;};eK+=B;return this.__oc.execCommand(bP,false,eK);}else {return false;};}}),__Fp:function(eL){while(eL.firstChild&&eL.firstChild.nodeType==1){eL=eL.firstChild;};var eP=this.__Fu(eL);var eT,eN,eR;var eM=ch;var parent=null;var eS=null;var eQ=eP.child;while(eQ){eS=this.__oc.createElement(eQ[ck]?be:ce);eN=this.__oc.createAttribute(cB);eS.setAttributeNode(eN);for(var eO in eQ){if(eO!=bK&&eO!=ck){eM+=eO+bf+eQ[eO]+bj;}else if(eO==ck){eR=this.__oc.createAttribute(bA);eR.nodeValue=eQ[eO];eS.setAttributeNode(eR);};};eN.nodeValue=eM;if(parent!=null){parent.appendChild(eS);}else {eT=eS;};parent=eS;eQ=eQ.child;eM=ch;};return {root:eT,inline:eS};},__Fq:qx.core.Environment.select(cj,{"gecko|opera":function(eU,eV){var fc=this.__EU.getSelection();var eY=this.__EU.getRange();if(fc.isCollapsed){var eX=bW+(++this.__EX);var fd=this.__oc.createElement(cy);var fa=this.__oc.createAttribute(V);var eW=this.__oc.createAttribute(bO);var fb=this.__oc.createTextNode(eU);eW.nodeValue=eX;fd.setAttributeNode(eW);fa.nodeValue=eU;fd.setAttributeNode(fa);fd.appendChild(fb);eY.insertNode(fd);eY.selectNode(fd);fc.collapseToEnd();return true;}else {return this.__oc.execCommand(eV.identifier,false,eU);};},"mshtml":function(fe,ff){try{var fh;var fg=this.__Fg();var fi=this.__EU;var fg=fi.getSavedRange()!=null?fi.getSavedRange():fi.getRange();if(fg!=null&&fg.text!=ch){fh=fg.execCommand(ff.identifier,false,fe);}else {fh=this.__Fh(cn+fe+bM+fe+bt,ff);};this.__EU.resetSavedRange();return fh;}catch(e){{};return false;};},"default":function(fj,fk){return this.__oc.execCommand(fk.identifier,false,fj);}}),__Fr:function(fl,fm){var fn=n;if((qx.core.Environment.get(cj)==bL)){fn+=this.__Fs();};return this.__Fh(fn,fm);},__Fs:function(fo){var fs=ch;var fr=cp;var fq=[];var fv=typeof fo!==bC?fo:this.__Fu();var ft=fv.child;var fu=false;if(qx.lang.Object.isEmpty(ft)){return ch;};while(ft){fu=ft[ck]!=null;fs+=fu?cI:fr;for(var fp in ft){fs+=(fp!=bK&&fp!=ck)?fp+bn+ft[fp]+bQ:ch;};fs+=fu?O+ft[ck]+bM:bM;fq.unshift(fu?z:S);ft=ft.child;};if(fq.length==1&&fq[0]==z){fs+=cw;};for(var i=0,j=fq.length;i<j;i++){fs+=fq[i];};return fs;},__Ft:function(){var fx=this.__oc.createDocumentFragment();var fC=this.__Fu();var parent=fx;var fA=fC.child;var fy;var fB=false;while(fA){fB=fA[ck]!=null;fy=this.__oc.createElement(fB?be:ce);parent.appendChild(fy);for(var fw in fA){if(fw!=bK&&fw!=ck){qx.bom.element.Style.set(fy,fw,fA[fw]);};};if(fB){var fz=this.__oc.createAttribute(bA);fz.nodeValue=fA[ck];fy.setAttributeNode(fz);};parent=fy;fA=fA.child;};return fx;},__Fu:function(fD){var fF={};var fG=null;var fH=this.getCurrentStyles(fD);fG=fF.child={};for(var fE in fH){if(fE!=cg){fG[fE]=fH[fE];};};if(fH[cg]){var fI=fH[cg];for(var i=0,j=fI.length;i<j;i++){if(fG==null){fG=fF.child={};}else {fG=fG.child={};};fG[cd]=fI[i][cd];fG[bI]=fI[i][bI];};};if(fH[cd]&&fH[bI]){fG=fG.child={};fG[cd]=fH[cd];};return fF;},getCurrentStyles:function(fJ){if(fJ==null){var fL=this.__EU.getSelection();if(!fL||fL.focusNode==null){return {};};fJ=(fL.focusNode.nodeType==3)?fL.focusNode.parentNode:fL.focusNode;};var fM=qx.dom.Hierarchy.getAncestors(fJ);var fO=qx.lang.Array.insertBefore(fM,fJ,fM[0]);var fK=this.__Fv(fO);var fN=this.__Fw(fK,fO);return fN;},__Fv:function(fP){var fS={};var fQ,fR;for(var i=0,j=fP.length;i<j;i++){fR=fP[i];for(var k=0,l=fR.style.length;k<l;k++){fQ=fR.style[k];if(fQ.length>0&&typeof fS[fQ]===bC){fS[fQ]=fR.style.getPropertyValue(fQ);};};if(fR.tagName.toUpperCase()==cm&&fR.size&&fS[ck]===undefined){fS[ck]=fR.size;};};if(fS[ck]&&fS[I]){delete fS[I];};return fS;},__Fw:function(fT,fU){var ga=fU[0];var fX=this.__EU.getContentWindow().getComputedStyle(ga,null);var fV;var fY={};for(var fW in fT){if(fW!=ck){fV=fX.getPropertyValue(fW);}else {fV=fT[fW];};if(fW==H&&fV==bE){fY[fW]=this.__Fy(fU);}else if(fW==cg){fY[fW]=this.__Fx(fU);}else {fY[fW]=fV;};};return fY;},__Fx:function(gb){var ge,gg,gc;var gf=[];var gd=this.__EU.getContentWindow();for(var i=0,j=gb.length;i<j;i++){gc=gd.getComputedStyle(gb[i],null);ge=gc.getPropertyValue(cg);gg=gc.getPropertyValue(p);if(ge!=Q){gf.push({'text-decoration':ge,'color':gg});};};return gf;},__Fy:function(gh){var gj,gi,gk;for(var i=0;i<gh.length;i++){gj=gh[i];gi=this.__EU.getContentWindow().getComputedStyle(gj,null);gk=gi.getPropertyValue(H);if(gk!=bE){return gk;};};},__Fz:function(gl,gm){var gy=this.__EU.getSelection();var gt=((qx.core.Environment.get(cj)==ci))?this.__EU.getRange():gt=gy.getRangeAt(0);var gu=[];var gx;var gs=[a,bc];var gn,i,j,gv;gv=((qx.core.Environment.get(cj)==ci))?gt.parentElement():gt.commonAncestorContainer;if(gv.tagName==bD){for(var i=0;i<gs.length;i++){gn=gv.getElementsByTagName(gs[i]);for(var j=0;j<gn.length;j++){if(gn[j]){gu.push(gn[j]);};};};}else if(qx.lang.Array.contains(gs,gv.tagName)){gu.push(gv);};if(gu.length>0){for(var i=0;i<gu.length;i++){var gp=gu[i];gx=((qx.core.Environment.get(cj)==ci))?((gp==gv)||(gv.tagName==bD)):gy.containsNode(gp,false);for(j=0;j<gp.childNodes.length;j++){var gr=gp.childNodes[j];if(gx||(gy.focusNode.nodeValue&&qx.dom.Hierarchy.contains(gr,gy.focusNode)&&(gy.focusOffset==gy.focusNode.nodeValue.length))||(qx.dom.Hierarchy.contains(gr,gy.anchorNode)&&(gy.anchorOffset==0))||(gy.containsNode(gr,false))){gr.style.fontSize=(this.__EW[gl]||gl)+bk;};};};}else {var gq=((qx.core.Environment.get(cj)==ci))?gv:gy.focusNode;var gw=qx.dom.Hierarchy.getAncestors(gq);for(i=0;i<gw.length;i++){if(gw[i].tagName==cK){if((((qx.core.Environment.get(cj)==bL))&&((gy.anchorOffset==0)&&(gy.focusNode.nodeValue&&(gy.focusOffset==gy.focusNode.nodeValue.length))&&qx.dom.Hierarchy.contains(gw[i].firstChild,gy.anchorNode)&&qx.dom.Hierarchy.contains(gw[i].lastChild,gy.focusNode)))||(((qx.core.Environment.get(cj)==ci))&&(gt.htmlText==gw[i].innerHTML))){gw[i].style.fontSize=(this.__EW[gl]||gl)+bk;};break;};};};if((qx.core.Environment.get(cj)==ci)){this.__oc.body.focus();this.__EU.getRange().select();return this.__oc.execCommand(bJ,false,gl);}else if((qx.core.Environment.get(cj)==bL)){var parent=gt.commonAncestorContainer;if(parent.nodeType===1){var go=parent.getElementsByTagName(ce);for(i=0;i<go.length;i++){if(go[i].style.fontSize){go[i].style.fontSize=null;};};};};return this.__oc.execCommand(bJ,false,gl);},__FA:qx.core.Environment.select("engine.name",{"mshtml":function(gz,gA){this.__oc.body.focus();return this.__oc.execCommand("BackColor",false,gz);},"gecko|opera":function(gB,gC){this.__oc.body.focus();return this.__oc.execCommand("HiliteColor",false,gB);},"webkit":function(gD,gE){var gF=this.__EU.getSelection();var gG=this.__EU.getRange();if(!gF||!gF.isCollapsed){this.__oc.body.focus();this.__oc.execCommand("BackColor",false,gD);if(gF){gF.collapseToEnd();};return true;}else {var gI=gF.anchorOffset;var gJ=gF.anchorOffset;var gG=gF.getRangeAt(0);var gH=gF.anchorNode;while(gJ>0){if(gH.nodeValue.charCodeAt(gJ)==160||gH.nodeValue.charCodeAt(gJ)==32){break;}else {gJ--;};};while(gI<gH.nodeValue.length){if(gH.nodeValue.charCodeAt(gI)==160||gH.nodeValue.charCodeAt(gI)==32){break;}else {gI++;};};gG.setStart(gF.anchorNode,gF.anchorNode.nodeValue.charAt(gJ)==" "?gJ+1:gJ);gG.setEnd(gF.anchorNode,gI);gF.addRange(gG);this.__oc.body.focus();this.__oc.execCommand("BackColor",false,gD);gF.collapseToEnd();return true;};}}),__FB:function(gK,gL){gK=gK!=null&&typeof gK=="string"?gK:"transparent";qx.bom.element.Style.set(this.__oc.body,"backgroundColor",gK);return true;},__FC:function(gM,gN){var gO,gQ,gP;var gR=qx.bom.htmlarea.manager.Command;if(gM==null){gO=null;}else {gO=gM[0];gQ=gM[1];gP=gM[2];};if(gO==null||typeof gO!="string"){qx.bom.element.Style.set(this.__oc.body,"backgroundImage","");qx.bom.element.Style.set(this.__oc.body,"backgroundRepeat","");qx.bom.element.Style.set(this.__oc.body,"backgroundPosition","");return true;}else {if(gO.search(/^url.*\(/)==-1){gO="url("+gO+")";};};if(gQ!=null&&!qx.lang.String.contains(gR.__Fa,gQ)){{};return false;}else {gQ="no-repeat";};if(gP!=null){if(qx.lang.Type.isString(gP)&&!qx.lang.String.contains(gR.__EY,'|'+gP+'|')){{};return false;}else {if(qx.lang.Type.isArray(gP)&&gP.length==2){gP=gP[0]+" "+gP[1];}else {{};return false;};};}else {gP="top";};qx.bom.element.Style.set(this.__oc.body,"backgroundImage",gO);qx.bom.element.Style.set(this.__oc.body,"backgroundRepeat",gQ);qx.bom.element.Style.set(this.__oc.body,"backgroundPosition",gP);return true;},__FD:qx.core.Environment.select("engine.name",{"mshtml":function(gS,gT){var gU=this.__oc.body.createTextRange();gU.select();return true;},"default":function(gV,gW){return this.__Ff(gW.identifier,false,gV);}}),__FE:function(){return this.__EU.getSelectedText();},__FF:function(){return this.__EU.getSelectedHtml();},__FG:function(gX,gY){var hd=this.__EU.getFocusNode();if(hd.textContent==""){var hb=qx.dom.Hierarchy.getAncestors(hd);hb.unshift(hd);var Node=qx.dom.Node;var ha=qx.bom.element.Style;var hc=hb.shift();while(hb.length>0){if(Node.getName(hc)=="p"||Node.getName(hc)=="body"){break;};if(ha.get(hc,gX,ha.LOCAL_MODE)==gY){ha.reset(hc,gX);return true;};hc=hb.shift();};};return false;},__FH:qx.core.Environment.select("engine.name",{"gecko":function(he,hf){if(this.__FG("fontWeight","bold")){return true;}else {return this.__Ff(hf.identifier,false,he);};},"default":function(hg,hh){return this.__Ff(hh.identifier,false,hg);}}),__FI:qx.core.Environment.select("engine.name",{"gecko":function(hi,hj){if(this.__FG("fontStyle","italic")){return true;}else {return this.__Ff(hj.identifier,false,hi);};},"default":function(hk,hl){return this.__Ff(hl.identifier,false,hk);}}),__FJ:qx.core.Environment.select("engine.name",{"gecko":function(hm,hn){if(this.__FG("textDecoration","underline")){return true;}else {return this.__Ff(hn.identifier,false,hm);};},"default":function(ho,hp){return this.__Ff(hp.identifier,false,ho);}}),__FK:qx.core.Environment.select("engine.name",{"gecko":function(hq,hr){if(this.__FG("textDecoration","line-through")){return true;}else {return this.__Ff(hr.identifier,false,hq);};},"default":function(hs,ht){return this.__Ff(ht.identifier,false,hs);}})},destruct:function(){this.__oc=this.__EU=this._commands=null;this.__EV=this.__EW=null;}});})();
});