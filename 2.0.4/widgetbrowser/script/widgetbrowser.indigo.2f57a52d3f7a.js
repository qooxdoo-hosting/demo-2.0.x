qx.$$packageData['2048']={"locales":{},"resources":{"qx/static/blank.html":"qx","widgetbrowser/blank.html":"widgetbrowser","widgetbrowser/fo_tester.swf":"widgetbrowser"},"translations":{"C":{},"en":{}}};
qx.Part.$$notifyLoad("2048", function() {
(function(){var i="The id cannot be modified after initial creation",h="The variables cannot be modified after initial creation",g="movie",f="The source cannot be modified after initial creation",e="The params cannot be modified after initial creation",d="The attributes cannot be modified after initial creation",c="id",b="qx.html.Flash",a="div";qx.Class.define(b,{extend:qx.html.Element,construct:function(j,k){qx.html.Element.call(this,a,j,k);this.__KD={};this.__KE={};this.__KF={};},members:{__KD:null,__KF:null,__KE:null,__KG:null,_createDomElement:function(){return qx.dom.Element.create(a);},createFlash:function(){this.__KG=qx.bom.Flash.create(this.getDomElement(),this.getAttributes(),this.__KE,this.__KD);},setSource:function(l){{};if(this.__KG){throw new Error(f);};this.setAttribute(g,l);},setId:function(m){{};if(this.__KG){throw new Error(i);};this.setAttribute(c,m);},getVariables:function(){return this.__KE;},setVariables:function(n){{};if(this.__KG){throw new Error(h);};this.__KE=n;},getAttributes:function(){return this.__KF;},setAttribute:function(o,p){{};if(this.__KG){throw new Error(d);};if(p===null||p===undefined){delete this.__KF[o];}else {this.__KF[o]=p;};},getParams:function(){return this.__KD;},setParam:function(q,r){{};if(this.__KG){throw new Error(e);};if(r===null||r===undefined){delete this.__KD[q];}else {this.__KD[q]=r;};},getFlashElement:function(){return this.__KG;}},destruct:function(){if(this.__KG){qx.bom.Flash.destroy(this.__KG);};this.__KD=this.__KE=this.__KF=null;}});})();(function(){var l="&",k="data",j="undefined",h="mshtml",g="beforeunload",f="load",e="qx.bom.Flash",d="engine.name",c="=",b="movie",a="100%";qx.Class.define(e,{statics:{_flashObjects:{},create:function(m,n,o,p,q){if(!q){q=window;};{};if(!n.width){n.width=a;};if(!n.height){n.height=a;};p=p?qx.lang.Object.clone(p):{};if(!p[b]){p[b]=n.movie;};n[k]=n.movie;delete n.movie;if(o){for(var name in o){if(typeof p.flashvars!=j){p.flashvars+=l+name+c+o[name];}else {p.flashvars=name+c+o[name];};};};var r=this.__KM(m,n,p,q);this._flashObjects[n.id]=r;return r;},destroy:qx.core.Environment.select(d,{"mshtml":function(s,t){s=this.__KH(s);if(s.readyState==4){this.__KI(s);}else {if(!t){t=window;};qx.bom.Event.addNativeListener(t,f,function(){qx.bom.Flash.__KI(s);});};},"default":function(u,v){u=this.__KH(u);if(u.parentNode){u.parentNode.removeChild(u);};delete this._flashObjects[u.id];}}),__KH:function(w){if(!w){throw new Error("DOM element is null or undefined!");};if(w.tagName.toLowerCase()!=="object"){w=w.firstChild;};if(!w||w.tagName.toLowerCase()!=="object"){throw new Error("DOM element has or is not a flash object!");};return w;},__KI:qx.core.Environment.select("engine.name",{"mshtml":qx.event.GlobalError.observeMethod(function(x){for(var i in x){if(typeof x[i]=="function"){x[i]=null;};};if(x.parentNode){x.parentNode.removeChild(x);};delete this._flashObjects[x.id];}),"default":null}),__KJ:qx.event.GlobalError.observeMethod(function(){for(var y in qx.bom.Flash._flashObjects){qx.bom.Flash.destroy(qx.bom.Flash._flashObjects[y]);};window.__KK=function(){};window.__KL=function(){};qx.bom.Event.removeNativeListener(window,"beforeunload",qx.bom.Flash.__KJ);}),__KM:qx.core.Environment.select("engine.name",{"mshtml":function(z,A,B,C){B.movie=A.data;delete A.data;delete A.classid;var D="";for(name in B){D+='<param name="'+name+'" value="'+B[name]+'" />';};if(A.id){z.innerHTML='<object id="'+A.id+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000">'+D+'</object>';delete A.id;}else {z.innerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000">'+D+'</object>';};for(var name in A){z.firstChild.setAttribute(name,A[name]);};return z.firstChild;},"default":function(E,F,G,H){delete F.classid;delete G.movie;var J=qx.dom.Element.create("object",F,H);J.setAttribute("type","application/x-shockwave-flash");var I;for(var name in G){I=qx.dom.Element.create("param",{},H);I.setAttribute("name",name);I.setAttribute("value",G[name]);J.appendChild(I);};E.appendChild(J);return J;}})},defer:function(K){if((qx.core.Environment.get(d)==h)){qx.bom.Event.addNativeListener(window,g,K.__KJ);};}});})();(function(){var j="resize",i="_applyCanvasWidth",h="redraw",g="Boolean",f="__Ka",d="_applyCanvasHeight",c="qx.ui.embed.Canvas",b="qx.event.type.Data",a="Integer";qx.Class.define(c,{extend:qx.ui.core.Widget,construct:function(k,l){qx.ui.core.Widget.call(this);this.__Ka=new qx.util.DeferredCall(this.__Kb,this);this.addListener(j,this._onResize,this);if(k!==undefined){this.setCanvasWidth(k);};if(l!==undefined){this.setCanvasHeight(l);};},events:{"redraw":b},properties:{syncDimension:{check:g,init:false},canvasWidth:{check:a,init:300,apply:i},canvasHeight:{check:a,init:150,apply:d}},members:{__Ka:null,_createContentElement:function(){return new qx.html.Canvas();},__Kb:function(){var n=this.getContentElement();var p=n.getHeight();var m=n.getWidth();var o=n.getContext2d();this._draw(m,p,o);this.fireNonBubblingEvent(h,qx.event.type.Data,[{width:m,height:p,context:o}]);},_applyCanvasWidth:function(q,r){this.getContentElement().setWidth(q);this.__Ka.schedule();},_applyCanvasHeight:function(s,t){this.getContentElement().setHeight(s);this.__Ka.schedule();},update:function(){this.__Ka.schedule();},_onResize:function(e){var u=e.getData();if(this.getSyncDimension()){this.setCanvasHeight(u.height);this.setCanvasWidth(u.width);};},getContext2d:function(){return this.getContentElement().getContext2d();},_draw:function(v,w,x){}},destruct:function(){this._disposeObjects(f);}});})();(function(){var k="xhtml",j="_applyUseUndoRedo",i="focusOut",h="_applyMessengerMode",g="url(",f=")",d="InsertParagraphOnLinebreak",c="gecko",b="repeat",a="undoRedoState",bh="div",bg="messengerContent",bf="Integer",be="NativeContextMenu",bd="focused",bc="Function",bb="Please use the method 'qx.dom.Node.isBlockNode' instead.",ba="_applyInsertParagraphOnLinebreak",Y="PostProcess",X="__we",r="_applyInsertLinebreakOnCtrlEnter",s="ContentType",p="px",q="set",n="DefaultFontSize",o="cursorContext",l="htmlarea",m="ready",v="loadingError",w="MessengerMode",E="_applyDefaultFontSize",C="UseUndoRedo",M="_applyDefaultFontFamily",H="_applyContentType",T="__wf",R="qx.ui.embed.HtmlArea",y="mshtml",W="Verdana",V="block",U="DefaultFontFamily",x="contextmenu",A="readyAfterInvalid",B="InsertLinebreakOnCtrlEnter",D="qx/static/blank.gif",F="_applyPostProcess",I="absolute",O="mousedown",S="DOMNodeRemoved",t="String",u="none",z="engine.name",L="appear",K="mouseup",J="losecapture",Q="display",P="Boolean",G="qx.event.type.Event",N="qx.event.type.Data";qx.Class.define(R,{extend:qx.ui.core.Widget,construct:function(bi,bj,bk){this.__wc={};qx.ui.core.Widget.call(this);this._setLayout(new qx.ui.layout.Grow);this.__wh();this.__wd={content:bi,styleInfo:bj,source:bk};qx.event.Registration.addListener(document.body,O,this.block,this,true);qx.event.Registration.addListener(document.body,K,this.release,this,true);qx.event.Registration.addListener(document.body,J,this.release,this,true);},events:{"loadingError":N,"messengerContent":N,"cursorContext":N,"ready":G,"readyAfterInvalid":G,"focused":G,"focusOut":G,"contextmenu":N,"undoRedoState":N},statics:{isBlockNode:function(bl){var bm=qx.ui.embed.HtmlArea.isBlockNode;var bn=bb;qx.log.Logger.deprecatedMethodWarning(bm,bn);return qx.dom.Node.isBlockNode(bl);},isParagraphParent:function(bo){return qx.bom.htmlarea.HtmlArea.isParagraphParent(bo);}},properties:{contentType:{check:t,init:k,apply:H},messengerMode:{check:P,init:false,apply:h},insertParagraphOnLinebreak:{check:P,init:true,apply:ba},insertLinebreakOnCtrlEnter:{check:P,init:true,apply:r},postProcess:{check:bc,nullable:true,init:null,apply:F},useUndoRedo:{check:P,init:true,apply:j},appearance:{refine:true,init:l},defaultFontFamily:{check:t,init:W,apply:M},defaultFontSize:{check:bf,init:4,apply:E},focusable:{refine:true,init:true}},members:{__we:null,__wc:null,__wf:null,__wd:null,__wg:null,_initBlockerElement:function(){if(!this.__wf){this.__wf=this._createBlockerElement();};},_applyContentType:function(bp,bq){if(this.__we!=null){this.__we.setContentType(bp);}else {this.__wc[s]=bp;};},_applyMessengerMode:function(br,bs){if(this.__we!=null){this.__we.setMessengerMode(br);}else {this.__wc[w]=br;};},_applyInsertParagraphOnLinebreak:function(bt,bu){if(this.__we!=null){this.__we.setInsertParagraphOnLinebreak(bt);}else {this.__wc[d]=bt;};},_applyInsertLinebreakOnCtrlEnter:function(bv,bw){if(this.__we!=null){this.__we.setInsertLinebreakOnCtrlEnter(bv);}else {this.__wc[B]=bv;};},_applyPostProcess:function(bx,by){if(this.__we!=null){this.__we.setPostProcess(bx);}else {this.__wc[Y]=bx;};},_applyUseUndoRedo:function(bz,bA){if(this.__we!=null){this.__we.setUseUndoRedo(bz);}else {this.__wc[C]=bz;};},_applyDefaultFontFamily:function(bB,bC){if(this.__we!=null){this.__we.setDefaultFontFamily(bB);}else {this.__wc[U]=bB;};},_applyDefaultFontSize:function(bD,bE){if(this.__we!=null){this.__we.setDefaultFontSize(bD);}else {this.__wc[n]=bD;};},_applyNativeContextMenu:function(bF,bG){if(this.__we!=null){this.__we.setNativeContextMenu(bF);}else {this.__wc[be]=bF;};},_createBlockerElement:function(){var bH=new qx.html.Element(bh);bH.setStyles({zIndex:20,position:I,display:u});if((qx.core.Environment.get(z)==y)){bH.setStyles({backgroundImage:g+qx.util.ResourceManager.getInstance().toUri(D)+f,backgroundRepeat:b});};return bH;},__wh:function(){this.addListenerOnce(L,this.__wi);},__wi:function(){var bI=this.getContentElement().getDomElement();this.__we=new qx.bom.htmlarea.HtmlArea(bI,this.__wd.content,this.__wd.styleInfo,this.__wd.source);this.__wj();this.__wk();if((qx.core.Environment.get(z)==c)){this.__wn();};this.addListener(L,this.forceEditable);},__wj:function(){for(var bJ in this.__wc){this.__we[q+bJ](this.__wc[bJ]);};},__wk:function(){this.__we.addListener(m,this.__wl,this);this.__we.addListener(A,this.__wl,this);this.__we.addListener(bd,this.__wl,this);this.__we.addListener(i,this.__wl,this);this.__we.addListener(v,this.__wm,this);this.__we.addListener(o,this.__wm,this);this.__we.addListener(x,this.__wm,this);this.__we.addListener(a,this.__wm,this);this.__we.addListener(bg,this.__wm,this);},__wl:function(e){var bK=e.clone();this.fireEvent(bK.getType());},__wm:function(e){var bL=e.clone();this.fireDataEvent(bL.getType(),e.getData());},__wn:function(){this.__wg=qx.lang.Function.bind(this.__wo,this);var bM=this.getContainerElement().getDomElement();qx.bom.Event.addNativeListener(bM,S,this.__wg);},__wo:qx.event.GlobalError.observeMethod(function(e){if(this.__we&&!this.__we.isDisposed()){this.__we.invalidateEditor();};}),renderLayout:function(bN,top,bO,bP){qx.ui.core.Widget.prototype.renderLayout.call(this,bN,top,bO,bP);var bR=p;var bQ=this.getInsets();if(!this.__wf){this._initBlockerElement();};this.__wf.setStyles({left:bQ.left+bR,top:bQ.top+bR,width:(bO-bQ.left-bQ.right)+bR,height:(bP-bQ.top-bQ.bottom)+bR});},getIframeObject:function(){return this.__we!=null?this.__we.getIframeObject():null;},getCommandManager:function(){return this.__we!=null?this.__we.getCommandManager():null;},setValue:function(bS){if(this.__we!=null){this.__we.setValue(bS);}else {this.__wd.content=bS;};},getValue:function(){if(this.__we!=null){return this.__we.getValue();}else {return this.__wd.content;};},getComputedValue:function(bT){return this.__we!=null?this.__we.getHtml(bT):null;},getCompleteHtml:function(){return this.__we!=null?this.__we.getCompleteHtml():null;},getContentDocument:function(){return this.__we!=null?this.__we.getContentDocument():null;},getContentBody:function(){return this.__we!=null?this.__we.getContentBody():null;},getContentWindow:function(){return this.__we!=null?this.__we.getContentWindow():null;},getWords:function(bU){return this.__we!=null?this.__we.getWords(bU):null;},getWordsWithElement:function(){return this.__we!=null?this.__we.getWordsWithElement():null;},getTextNodes:function(){return this.__we!=null?this.__we.getTextNodes():null;},isReady:function(){return this.__we!=null?this.__we.isReady():false;},forceEditable:function(){if(this.__we!=null){this.__we.forceEditable();};},isLoaded:function(){return this.__we!=null?this.__we.isLoaded():false;},setEditable:function(bV){if(this.__we!=null){this.__we.setEditable(bV);};},getEditable:function(){return this.__we!=null?this.__we.getEditable():false;},isEditable:function(){return this.__we!=null?this.__we.isEditable():false;},insertHtml:function(bW){return this.__we!=null?this.__we.insertHtml(bW):false;},removeFormat:function(){return this.__we!=null?this.__we.removeFormat():false;},setBold:function(){return this.__we!=null?this.__we.setBold():false;},setItalic:function(){return this.__we!=null?this.__we.setItalic():false;},setUnderline:function(){return this.__we!=null?this.__we.setUnderline():false;},setStrikeThrough:function(){return this.__we!=null?this.__we.setStrikeThrough():false;},setFontSize:function(bX){return this.__we!=null?this.__we.setFontSize(bX):false;},setFontFamily:function(bY){return this.__we!=null?this.__we.setFontFamily(bY):false;},setTextColor:function(ca){return this.__we!=null?this.__we.setTextColor(ca):false;},setTextBackgroundColor:function(cb){return this.__we!=null?this.__we.setTextBackgroundColor(cb):false;},setJustifyLeft:function(){return this.__we!=null?this.__we.setJustifyLeft():false;},setJustifyCenter:function(){return this.__we!=null?this.__we.setJustifyCenter():false;},setJustifyRight:function(){return this.__we!=null?this.__we.setJustifyRight():false;},setJustifyFull:function(){return this.__we!=null?this.__we.setJustifyFull():false;},insertIndent:function(){return this.__we!=null?this.__we.insertIndent():false;},insertOutdent:function(){return this.__we!=null?this.__we.insertOutdent():false;},insertOrderedList:function(){return this.__we!=null?this.__we.insertOrderedList():false;},insertUnorderedList:function(){return this.__we!=null?this.__we.insertUnorderedList():false;},insertHorizontalRuler:function(){return this.__we!=null?this.__we.insertHorizontalRuler():false;},insertImage:function(cc){return this.__we!=null?this.__we.insertImage(cc):false;},insertHyperLink:function(cd){return this.__we!=null?this.__we.insertHyperLink(cd):false;},removeBackgroundColor:function(){return this.__we!=null?this.__we.removeBackgroundColor():false;},setBackgroundColor:function(ce){return this.__we!=null?this.__we.setBackgroundColor(ce):false;},removeBackgroundImage:function(){return this.__we!=null?this.__we.removeBackgroundImage():false;},setBackgroundImage:function(cf,cg,ch){return this.__we!=null?this.__we.setBackgroundImage(cf,cg,ch):false;},selectAll:function(){return this.__we!=null?this.__we.selectAll():false;},undo:function(){return this.__we!=null?this.__we.undo():false;},redo:function(){return this.__we!=null?this.__we.redo():false;},resetHtml:function(){if(this.__we!=null){this.__we.resetHtml();};},getHtml:function(ci){return this.__we!=null?this.__we.getHtml(ci):null;},containsOnlyPlaceholder:function(){return this.__we!=null?this.__we.containsOnlyPlaceHolder():false;},getContextInformation:function(){return this.__we!=null?this.__we.getContextInformation():null;},getSelection:function(){return this.__we!=null?this.__we.getSelection():null;},getSelectedText:function(){return this.__we!=null?this.__we.getSelectedText():null;},getSelectedHtml:function(){return this.__we!=null?this.__we.getSelectedHtml():null;},clearSelection:function(){if(this.__we!=null){this.__we.clearSelection();};},getRange:function(){return this.__we.getRange();},saveRange:function(){this.__we.saveRange();},getSavedRange:function(){return this.__we.getSavedRange();},resetSavedRange:function(){this.__we.resetSavedRange();},getFocusNode:function(){return this.__we!=null?this.__we.getFocusNode():null;},block:function(){if(!this.__wf){this._initBlockerElement();};if(!this.getContainerElement().hasChild(this.__wf)){this.getContainerElement().add(this.__wf);};this.__wf.setStyle(Q,V);},release:function(){if(this.__wf){this.__wf.setStyle(Q,u);};},focus:function(){qx.ui.core.Widget.prototype.focus.call(this);this.__wp();},tabFocus:function(){qx.ui.core.Widget.prototype.tabFocus.call(this);this.__wp();},__wp:function(){if(this.__we!=null){qx.event.Timer.once(function(){this.__we.focusContent();},this,0);};}},destruct:function(){this.__wc=this.__wd=null;qx.event.Registration.removeListener(document.body,O,this.block,this,true);qx.event.Registration.removeListener(document.body,K,this.release,this,true);qx.event.Registration.removeListener(document.body,J,this.release,this,true);var cj=this.getContainerElement().getDomElement();if(cj){qx.bom.Event.removeNativeListener(cj,S,this.__wg);};this._disposeObjects(T,X);}});})();(function(){var c="2d",b="qx.html.Canvas",a="canvas";qx.Class.define(b,{extend:qx.html.Element,construct:function(d,e){qx.html.Element.call(this,a,d,e);this.__Kc=document.createElement(a);},members:{__Kc:null,_createDomElement:function(){return this.__Kc;},getCanvas:function(){return this.__Kc;},setWidth:function(f){this.__Kc.width=f;},getWidth:function(){return this.__Kc.width;},setHeight:function(g){this.__Kc.height=g;},getHeight:function(){return this.__Kc.height;},getContext2d:function(){return this.__Kc.getContext(c);}},destruct:function(){this.__Kc=null;}});})();(function(){var i="_applyOverflowX",h="_applyOverflowY",g="qx.ui.core.MNativeOverflow",f="auto",e="overflowX",d="visible",c="hidden",b="scroll",a="overflowY";qx.Mixin.define(g,{properties:{overflowX:{check:[c,d,b,f],nullable:true,apply:i},overflowY:{check:[c,d,b,f],nullable:true,apply:h},overflow:{group:[e,a]}},members:{_applyOverflowX:function(j){this.getContentElement().setStyle(e,j);},_applyOverflowY:function(k){this.getContentElement().setStyle(a,k);}}});})();(function(){var o="text",n="engine.name",m="0px",l="webkit",k="changeHtml",j="_applyCssClass",i="class",h="qx.ui.embed.Html",g="_applyHtml",f="userSelect",c="html",e="",d="none",b="String",a="color";qx.Class.define(h,{extend:qx.ui.core.Widget,include:[qx.ui.core.MNativeOverflow],construct:function(p){qx.ui.core.Widget.call(this);if(p!=null){this.setHtml(p);};},properties:{html:{check:b,apply:g,event:k,nullable:true},cssClass:{check:b,init:e,apply:j},selectable:{refine:true,init:true},focusable:{refine:true,init:true}},members:{getFocusElement:function(){return this.getContentElement();},_applyHtml:function(q,r){var s=this.getContentElement();s.setAttribute(c,q||e);s.setStyles({"padding":m,"border":d});},_applyCssClass:function(t,u){this.getContentElement().setAttribute(i,t);},_applySelectable:function(v){qx.ui.core.Widget.prototype._applySelectable.call(this,v);if((qx.core.Environment.get(n)==l)){this.getContainerElement().setStyle(f,v?o:d);};},_applyFont:function(w,x){var y=w?qx.theme.manager.Font.getInstance().resolve(w).getStyles():qx.bom.Font.getDefaultStyles();if(this.getTextColor()!=null){delete y[a];};this.getContentElement().setStyles(y);},_applyTextColor:function(z,A){if(z){this.getContentElement().setStyle(a,qx.theme.manager.Color.getInstance().resolve(z));}else {this.getContentElement().removeStyle(a);};}}});})();(function(){var c="qx.util.TimerManager",b="interval",a="singleton";qx.Class.define(c,{extend:qx.core.Object,type:a,statics:{__KN:[],__KO:{},__ts:0},members:{__KP:false,start:function(d,e,f,g,h){if(!h){h=e||0;};var j=(new Date()).getTime()+h;this.self(arguments).__KO[++this.self(arguments).__ts]={callback:d,userData:g||null,expireAt:j,recurTime:e,context:f||this};this.__KQ(j,this.self(arguments).__ts);return this.self(arguments).__ts;},stop:function(k){var l=this.self(arguments).__KN;var length=l.length;for(var i=0;i<length;i++){if(l[i]==k){l.splice(i,1);break;};};delete this.self(arguments).__KO[k];if(l.length==0&&this.__KP){qx.event.Idle.getInstance().removeListener(b,this.__KR,this);this.__KP=false;};},__KQ:function(m,n){var p=this.self(arguments).__KN;var o=this.self(arguments).__KO;var length=p.length;for(var i=0;i<length;i++){if(o[p[i]].expireAt>m){p.splice(i,0,n);break;};};if(p.length==length){p.push(n);};if(!this.__KP){qx.event.Idle.getInstance().addListener("interval",this.__KR,this);this.__KP=true;};},__KR:function(){var t=(new Date()).getTime();var r=this.self(arguments).__KN;var s=this.self(arguments).__KO;while(r.length>0&&s[r[0]].expireAt<=t){var v=r.shift();var q=s[v];q.callback.call(q.context,q.userData,v);if(q.recurTime&&s[v]){var u=(new Date()).getTime();q.expireAt=u+q.recurTime;this.__KQ(q.expireAt,v);}else {delete s[v];};};if(r.length==0&&this.__KP){qx.event.Idle.getInstance().removeListener("interval",this.__KR,this);this.__KP=false;};}}});})();(function(){var j="quality",i="_applyVariables",h="low",g="_applyLoop",f="scale",e="_applyAllowScriptAccess",d="showall",c="Map",b="wmode",a="Integer",X="_applyMenu",W="loaded",V="_applyPlay",U="loop",T="allowScriptAccess",S="_applyWmode",R="menu",Q="noborder",P="loading",O="swLiveConnect",q="qx.ui.embed.Flash",r="_applyId",o="high",p="transparent",m="exactfit",n="play",k="_applyLiveConnect",l="_applySource",u="appear",v="medium",C="flash",A="timeout",G="_applyMayScript",E="_applyQuality",K="never",I="_applyScale",x="autohigh",N="always",M="window",L="noscale",w="autolow",y="mayscript",z="sameDomain",B="opaque",D="String",F="",H="best",J="undefined",s="qx.event.type.Event",t="Boolean";qx.Class.define(q,{extend:qx.ui.core.Widget,construct:function(Y,ba){qx.ui.core.Widget.call(this);{};this.setSource(Y);if(ba){this.setId(ba);}else {this.setId(C+this.toHashCode());};this.initQuality();this.initWmode();this.initAllowScriptAccess();this.initLiveConnect();this.addListenerOnce(u,function(){this._checkLoading();this.getContentElement().createFlash();},this);},events:{"loading":s,"loaded":s,"timeout":s},properties:{source:{check:D,apply:l},id:{check:D,apply:r},quality:{check:[h,w,x,v,o,H],init:H,nullable:true,apply:E},scale:{check:[d,Q,m,L],nullable:true,apply:I},wmode:{check:[M,B,p],init:B,nullable:true,apply:S},play:{check:t,nullable:true,apply:V},loop:{check:t,nullable:true,apply:g},mayScript:{check:t,nullable:false,apply:G},menu:{check:t,nullable:true,apply:X},allowScriptAccess:{check:[z,N,K],init:z,nullable:true,apply:e},liveConnect:{check:t,init:true,nullable:true,apply:k},variables:{init:{},check:c,apply:i},loadTimeout:{check:a,init:10000}},members:{__KB:null,getFlashElement:function(){var bb=this.getContentElement();if(bb){return bb.getFlashElement();}else {return null;};},isLoaded:function(){return this.getPercentLoaded()===100;},getPercentLoaded:function(){var bc=this.getFlashElement();if(typeof (bc)!=J&&bc!=null){try{return bc.PercentLoaded();}catch(bd){return 0;};}else {return 0;};},_createContentElement:function(){return new qx.html.Flash();},_checkLoading:function(){var be=this.getSource();if(be!=F&&be!=null&&be!=J){if(!this.isLoaded()){if(!this.__KB){this.__KB=new Date().getTime();};var bf=new Date().getTime()-this.__KB;if(this.getLoadTimeout()>bf){var bg=qx.util.TimerManager.getInstance();bg.start(this._checkLoading,0,this,null,10);this.fireEvent(P);}else {{};this.fireEvent(A);this.__KB=null;};}else {this.fireEvent(W);this.__KB=null;};};},_applySource:function(bh,bi){var bj=qx.util.ResourceManager.getInstance().toUri(bh);this.getContentElement().setSource(bj);qx.ui.core.queue.Layout.add(this);},_applyId:function(bk,bl){this.getContentElement().setId(bk);qx.ui.core.queue.Layout.add(this);},_applyVariables:function(bm,bn){this.getContentElement().setVariables(bm);qx.ui.core.queue.Layout.add(this);},_applyMayScript:function(bo,bp){this.getContentElement().setAttribute(y,bo?F:false);qx.ui.core.queue.Layout.add(this);},_applyQuality:function(bq,br){this.__KC(j,bq);},_applyScale:function(bs,bt){this.__KC(f,bs);},_applyWmode:function(bu,bv){this.__KC(b,bu);},_applyPlay:function(bw,bx){this.__KC(n,bw);},_applyLoop:function(by,bz){this.__KC(U,by);},_applyMenu:function(bA,bB){this.__KC(R,bA);},_applyAllowScriptAccess:function(bC,bD){this.__KC(T,bC);},_applyLiveConnect:function(bE,bF){this.__KC(O,bE);},__KC:function(bG,bH){this.getContentElement().setParam(bG,bH);qx.ui.core.queue.Layout.add(this);}}});})();(function(){var dT="qx.blankpage",dS='</span>',dR="backgroundColor",dQ="li",dP='undo',dO="<br class='webkit-block-placeholder' />",dN="Function",dM="fontSize",dL="textcolor",dK="cant open document on source '",cu="home",ct="<",cs="focused",cr="fontFamily",cq="load",cp='<font ',co='id="__elementToFocus__"',cn="setUnderline",cl="backgroundPosition",ck="<!--",eb=' size="',ec='/www.w3.org/1999/xhtml" xml:lang="en" lang="en">',dY="'>",ea='underline',dW='bold',dX="&copy;",dU="ul",dV="cursorContext",ed="readyAfterInvalid",ee="styleWithCSS",dr="span",dq=" />",dt="__wq",ds="setBold",dv="<P>&nbsp;</P>",du="</",dx="textbackgroundcolor",dw="&gt;",dp='="',dn="can't extract style from elem. ",o="paddingLeft",p='size',q="inserthorizontalrule",r='<p>',t='</font>',u="backgroundRepeat",v="insertimage",w="a",x="&amp;",y="removeformat",et="marginLeft",es="ready",er="<p>&nbsp;</p>",eq='DOCTYPE html PUBLIC "-/',ey="browser.version",ew=" html, body {overflow-x: visible; } ",ev='<body>',eu="insertorderedlist",eA='body { font-size:100.01%; font-family:Verdana, Geneva, Arial, Helvetica, sans-serif; background-color:transparent; overflow:visible; background-image:none; margin:0px; padding:5px; } ',ez="hideFocus",br="none",bs='/DTD XHTML 1.0 Transitional/',bp='<html xmlns="http:/',bq="outline",bv="setItalic",bw="font-style",bt="marginBottom",bu="xhtml",bn="focusOut",bo="justifyleft",S="handleMouse ",R='</p>',U="paddingTop",T="Please use the method 'qx.dom.Node.isBlockNode' instead.",O='<title></title><meta http-equiv="Content-type" content="text/html; charset=UTF-8" />',N="Control",Q='<span style="font-family:',P='/W3C/',M="placeholder",L='cant load HtmlArea. Document is not available. ',bC="backgroundImage",bD="marginTop",bE="> ",bF=" { ",by="font-weight",bz="LI",bA='italic',bB='<!',bG="\ufeff",bH="&quot;",bg="marginRight",bf="STYLE",be="justifyfull",bd="inserthyperlink",bc="<br />",bb='html { margin:0px; padding:0px; } ',ba="<br>",Y='/EN" "http:/',bk="justifycenter",bj="<br /><div id='placeholder'></div>",bI="useCSS",bJ="object",bK="strikethrough",bL="text/html",bM="true",bN="1.9",bO='',bP=' style="',bQ="indent",bR="messengerContent",cC="Integer",cB="insertunorderedlist",cA="Text",cz="&lt;",cG='<br _moz_editor_bogus_node="TRUE" _moz_dirty=""/>',cF='<br/><div class="placeholder"></div>',cE="selectall",cD="transparent",cK=" SCRIPT STYLE DIV SPAN TR TD TBODY TABLE EM STRONG FONT A P B I U STRIKE H1 H2 H3 H4 H5 H6 ",cJ="justifyright",di='/www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">',dj="ol",dg="//text()[string-length(normalize-space(.))>0]",dh="outdent",de="about:blank",df="<body style='",dc="qx.bom.htmlarea.HtmlArea",dd="paddingBottom",dk="Verdana",dl="$",dB="-->",dA=" }",dD="paddingRight",dC='html { width:100%; height:100%; margin:0px; padding:0px; overflow-y:auto; overflow-x:auto; } ',dF="Off",dE='p { margin:0px; padding:0px; }',dH='body { font-size: 100.01%; font-family:Verdana, Geneva, Arial, Helvetica, sans-serif; width:100%; height:100%; background-color:transparent; overflow:auto; background-image:none; margin:0px; padding:5px; } ',dG="pageup",dz="backgroundcolor",dy="Failed to enable rich edit functionality",em="end",en="div",eo='On',ep="redo",eh="i",ei="backspace",ej="bold",ek="mouseup",ef="y",eg="style",n="backgroundimage",m="100%",l='</head>',k='<head>',h="k",g=":",f='redo',d='Off',c='">',b="down",B="font-family",C="g",z="keypress",A="fontsize",F="undo",G="text-decoration",D="pagedown",E="justify",I="center",J="p",cO='</style>',cI="u",cV=" | ",cR="focus",cx="control",cv="click",W='<style type="text/css">',cy="up",bi="blur",bh="font-size",cc="None",cd="delete",ce="_moz_dirty",cf=">",cg='</body></html>',ch="line-through",ci="String",cj="z",bY=";",ca="fontfamily",cw="keydown",cU="keyup",cT="focusout",cS="engine.version",da="inserthtml",cY="italic",cX="body",cW="underline",cQ="br",cP="old_id",H="'",bm="b",bl="loadingError",cH="contextmenu",bx="right",cN="enter",cM='"',cL="left",V="text-align",db="qx.bom.htmlarea.HtmlArea.debug",K="qx.event.type.Data",X="opera",bS="id",bT="qx.event.type.Event",bU=" ",bV="Boolean",bW="__elementToFocus__",bX="webkit",dm="gecko",cb="mshtml",dJ="",dI="engine.name";qx.Class.define(dc,{extend:qx.core.Object,construct:function(eB,eC,eD,eE){qx.core.Object.call(this);var eF=eE||qx.util.ResourceManager.getInstance().toUri(qx.core.Environment.get(dT));this.__xw(eB);this.__xx();this._createAndAddIframe(eF);this._addIframeLoadListener();this.__xe=qx.bom.htmlarea.HtmlArea.__xg(eD);if(qx.lang.Type.isString(eC)){this.__xf=eC;};this.__wq=this.__xK();},events:{"load":bT,"loadingError":K,"messengerContent":K,"cursorContext":K,"ready":bT,"readyAfterInvalid":bT,"focused":bT,"focusOut":bT,"contextmenu":K,"undoRedoState":K},statics:{simpleLinebreak:ba,EMPTY_DIV:"<div></div>",GetWordsRegExp:/([^\u0000-\u0040\u005b-\u005f\u007b-\u007f]|['])+/g,CleanupWordsRegExp:/[\u0000-\u0040]/gi,hotkeyInfo:{bold:{method:ds},italic:{method:bv},underline:{method:cn},undo:{method:F},redo:{method:ep}},__xg:function(eG){if(eG==null||eG==dJ){return dJ;}else if(typeof eG==bJ){var eH=dJ;for(var i in eG){eH+=i+bF+eG[i]+dA;};return eH;}else {return eG;};},__xh:function(eI){var eJ={};var a=eI.split(bY);var i;for(i=0;i<a.length;i++){var eK=a[i],eL=eK.indexOf(g);if(eL===-1){continue;};var name=qx.lang.String.trim(eK.substring(0,eL));var eM=qx.lang.String.trim(eK.substring(eL+1,eK.length));if(name&&eM){eJ[name]=eM;};};return eJ;},__xi:function(eN,eO,eP,eQ){var eV=[];switch(eN.nodeType){case 1:case 11:var i;var eT=eN.tagName.toLowerCase();var eX={};var eR={};var closed=(!(eN.hasChildNodes()||qx.bom.htmlarea.HtmlArea.__xj(eN)));if(eO){if((qx.core.Environment.get(dI)==cb)){if(eT==en&&eN.className&&eN.className==M){for(i=eN.firstChild;i;i=i.nextSibling){eV.push(qx.bom.htmlarea.HtmlArea.__xi(i,true,eP,eQ));};return eV.join(dJ);};};var eW=eN.attributes;var eU=eW.length;var a;if((qx.core.Environment.get(dI)==dm)){if(eT==dr&&eU==1&&eW[0].name==ce&&eN.childNodes.length==0){return dJ;};};for(i=0;i<eU;i++){a=eW[i];if(!a.specified){continue;};var name=qx.dom.Node.getName(a);var eY=a.nodeValue;if(/(_moz|contenteditable)/.test(name)){continue;};if(name!=eg){if(qx.core.Environment.get(dI)==cb){if(name==bS&&eN.getAttribute(cP)){eY=eN.getAttribute(cP);}else if(!isNaN(eY)){eY=eN.getAttribute(name);}else {eY=a.nodeValue;};}else {eY=a.nodeValue;};}else {eY=eN.style.cssText;};if(/(_moz|^$)/.test(eY)){continue;};if(name==cP){continue;};if(!eY){continue;};if(name==bS&&eY==bW){continue;};if(name.charAt(0)===dl){continue;};eX[name]=eY;};if(eX.style!==undefined){eR=qx.bom.htmlarea.HtmlArea.__xh(eX.style);delete eX.style;};if(eQ){var eS={domElement:eN,tag:eT,attributes:eX,styles:eR};eQ(eS);eS.domElement=null;eT=eS.tag;};if(eT){eV.push(ct,eT);for(var name in eX){var eY=eX[name];eV.push(bU,name,dp,eY.toString().replace(new RegExp(cM,C),H),cM);};if(!qx.lang.Object.isEmpty(eR)){eV.push(bP);for(var name in eR){var eY=eR[name];eV.push(name,g,eY.toString().replace(new RegExp(cM,C),H),bY);};eV.push(cM);};eV.push(closed?dq:cf);};};for(i=eN.firstChild;i;i=i.nextSibling){eV.push(qx.bom.htmlarea.HtmlArea.__xi(i,true,eP,eQ));};if(eO&&!closed&&eT){eV.push(du,eT,cf);};break;case 3:eV.push(eP?eN.data:qx.bom.htmlarea.HtmlArea.__xk(eN.data));break;case 8:eV.push(ck,eN.data,dB);break;};return eV.join(dJ);},closingTags:cK,__xj:function(fa){return (qx.bom.htmlarea.HtmlArea.closingTags.indexOf(bU+fa.tagName+bU)!=-1);},__xk:function(s){s=s.replace(/&/ig,x);s=s.replace(/</ig,cz);s=s.replace(/>/ig,dw);s=s.replace(/\x22/ig,bH);s=s.replace(/\xA9/ig,dX);return s;},isBlockNode:function(fb){var fc=qx.bom.htmlarea.HtmlArea.isBlockNode;var fd=T;qx.log.Logger.deprecatedMethodWarning(fc,fd);return qx.dom.Node.isBlockNode(fb);},isParagraphParent:function(fe){if(!qx.dom.Node.isElement(fe)){return false;};fe=qx.dom.Node.getName(fe);return /^(body|td|th|caption|fieldset|div)$/.test(fe);},isHeadlineNode:function(ff){if(!qx.dom.Node.isElement(ff)){return false;};var fg=qx.dom.Node.getName(ff);return /^h[1-6]$/.test(fg);}},properties:{contentType:{check:ci,init:bu},messengerMode:{check:bV,init:false},insertParagraphOnLinebreak:{check:bV,init:true},insertLinebreakOnCtrlEnter:{check:bV,init:true},postProcess:{check:dN,nullable:true,init:null},useUndoRedo:{check:bV,init:true},nativeContextMenu:{check:bV,init:false},defaultFontFamily:{check:ci,init:dk},defaultFontSize:{check:cC,init:4}},members:{__ks:null,__hg:false,__xl:false,__xm:false,__xn:false,__xo:false,__wq:null,__xp:null,__xq:null,__xr:null,__rP:null,__xe:null,__xs:null,__xt:null,__xu:false,__xv:false,__xw:function(fh){if(qx.dom.Node.isElement(fh)&&qx.dom.Node.isNodeName(fh,en)){this.__ks=fh;};},_createAndAddIframe:function(fi){this.__rP=qx.bom.Iframe.create();qx.bom.Iframe.setSource(this.__rP,fi);if((qx.core.Environment.get(dI)==cb)){qx.bom.element.Attribute.set(this.__rP,ez,bM);}else {qx.bom.element.Style.set(this.__rP,bq,br);};qx.bom.element.Style.setStyles(this.__rP,{width:m,height:m});qx.dom.Element.insertBegin(this.__rP,this.__ks);},_getIframeDocument:function(){return qx.bom.Iframe.getDocument(this.__rP);},_getIframeWindow:function(){return qx.bom.Iframe.getWindow(this.__rP);},_addIframeLoadListener:function(){qx.event.Registration.addListener(this.__rP,cq,this._loaded,this);},__xx:function(){this.__xs={"xhtml":{doctype:bB+eq+P+bs+Y+di,html:bp+ec,meta:O,style:qx.core.Environment.select(dI,{"mshtml":bb+dH,"default":dC+eA}),contentStyle:dE,body:ev,footer:cg}};},__xf:dJ,getIframeObject:function(){return this.__rP;},getCommandManager:function(){return this.__wq;},setValue:function(fj){if(qx.lang.Type.isString(fj)){this.__xf=fj;var fk=this._getIframeDocument();if(fk&&fk.body){fk.body.innerHTML=this.__xy(fj);};};},__xy:function(fl){var fo=dJ;if((qx.core.Environment.get(dI)==dm)){if(qx.core.Environment.get(ey)<=2){fo+=cG;};};var fp=fl.length==0?bG:dJ;var fn=qx.core.Environment.get(dI)==dm||qx.core.Environment.get(dI)==bX?co:bO;var fm=r+Q+this.getDefaultFontFamily()+c+cp+fn+eb+this.getDefaultFontSize()+c+fo+fl+fp+t+dS+R;return fm;},getValue:function(){return this.__xf;},getComputedValue:function(fq){return this.getHtml(fq);},getCompleteHtml:function(){var fs=this.__xs[this.getContentType()];var fr=fs.html+k+fs.meta+W+fs.contentStyle+cO+l;fr+=df+this.__xz()+dY;fr+=this.getHtml()+cg;return fr;},__xz:function(){var fv=[dR,bC,u,cl,cr,dM,bD,bt,et,bg,U,dd,o,dD];var fu=qx.bom.element.Style;var ft=this.getContentBody();var fy={};var fx,fz;var fw=qx.core.Environment.get(dI)==cb?2:1;for(var i=0,j=fv.length;i<j;i++){fx=fv[i];fz=fu.get(ft,fx,fw);if(fz!==undefined&&fz!=dJ){fy[fx]=fz;};};return qx.bom.element.Style.compile(fy);},getContentDocument:function(){if(this.__hg){return this._getIframeDocument();};},getContentBody:function(){if(this.__hg){return this._getIframeDocument().body;};},getContentWindow:function(){if(this.__hg){return this._getIframeWindow();};},getWords:function(fA){if(!fA){fA=this.getContentBody();};if(!fA){return [];};var fC=fA.cloneNode(true);var fE=fC.innerHTML;fE=fE.replace(/>/gi,bE);fE=fE.replace(/\n/gi,bU);fE=fE.replace(/<!--.*-->/gi,dJ);fC.innerHTML=fE;var fB=qx.core.Environment.get(dI)==cb||qx.core.Environment.get(dI)==X?fC.innerText:fC.textContent;var fD=fB.match(qx.bom.htmlarea.HtmlArea.GetWordsRegExp);return !fD?[]:fD;},getWordsWithElement:function(){var fG=this.getTextNodes();var fK={};var i,j,fL,fH,fF;for(var i=0,fJ=fG.length;i<fJ;++i){fH=fG[i];fL=fH.nodeValue.split(bU);for(var j=0,fI=fL.length;j<fI;++j){fF=this._cleanupWord(fL[j]);if(fF!=null&&fF.length>1){if(!fK[fF]){fK[fF]=[];};fK[fF].push(fH);};};};return fK;},_cleanupWord:function(fM){if(!fM){return null;};return fM.replace(qx.bom.htmlarea.HtmlArea.CleanupWordsRegExp,dJ);},getTextNodes:function(){return this._fetchTextNodes(this.getContentBody());},_fetchTextNodes:function(fN){var fP=[];var fO;if(fN.hasChildNodes){for(var i=0;i<fN.childNodes.length;i++){fO=this._fetchTextNodes(fN.childNodes[i]);qx.lang.Array.append(fP,fO);};};if(fN.nodeType==3){if(fN.nodeValue.length>1){fP.push(fN);};};return fP;},__xA:0,__xB:function(){var fQ=this._getIframeDocument();if(!fQ){this.__xA++;if(this.__xA>5){this.error(L+fQ);this.fireDataEvent(bl);}else {{};qx.event.Timer.once(function(){this.__xB();},this,0);};}else {this.__xA=0;this._onDocumentIsReady();};},_loaded:function(e){if(this.__xm){return;};if(this.__xl){this.__xC();return;};if((qx.core.Environment.get(dI)==cb)){this.__xB();}else {this._onDocumentIsReady();};},isReady:function(){return this.__hg;},_onDocumentIsReady:function(){var fR=new qx.bom.htmlarea.manager.Command(this);if(this.getUseUndoRedo()){fR=new qx.bom.htmlarea.manager.UndoRedo(fR,this);};this.__xm=true;if((qx.core.Environment.get(dI)==cb)){this.setEditable(true);};this.__xF();if(!(qx.core.Environment.get(dI)==X)){this.__xG();};if(!(qx.core.Environment.get(dI)==cb)){this.setEditable(true);};this.__hg=true;this.__wq=fR;fR.setContentDocument(this._getIframeDocument());this.__xL();if((qx.core.Environment.get(dI)==X)){this.__xG();};this.fireEvent(es);},forceEditable:qx.core.Environment.select(dI,{"gecko":function(){var fS=this._getIframeDocument();if(fS){if(parseFloat(qx.core.Environment.get(cS))>=bN){fS.designMode=dF;fS.body.contentEditable=false;fS.body.contentEditable=true;}else {fS.body.contentEditable=true;this.__xM(true);};};},"default":qx.lang.Function.empty}),invalidateEditor:qx.core.Environment.select(dI,{"gecko":function(){this.__xm=false;this.__hg=false;this.__xl=true;},"default":function(){}}),__xC:qx.core.Environment.select(dI,{"gecko":function(){this.__xF();this.__xG();this.__wq.setContentDocument(this._getIframeDocument());this.setEditable(true);this.forceEditable();this.__xm=true;this.__hg=true;this.__xl=false;this.fireEvent(ed);},"default":function(){}}),__xD:function(fT){var fV=dJ;if(!fT){return fV;};try{var fU=fT.getAttribute(eg);if(!fU){return fV;};if((qx.core.Environment.get(dI)==cb)){fV=fU.cssText;}else {fV=fU;};}catch(fW){this.error(dn);};return fV;},__xE:function(fX){var fY=qx.core.Environment.get(dI)==dm?ew:dJ;var ga=this.__xs[this.getContentType()];var gb=k+ga.meta+W+fY+ga.style+ga.contentStyle+this.__xe+cO+l;var content=ga.body+fX;return ga.html+gb+content+ga.footer;},__xF:function(){var gd=this.__xy(this.getValue());if(qx.lang.Type.isString(gd)){var gc=this._getIframeDocument();try{gc.open(bL,true);gc.write(this.__xE(gd));gc.close();}catch(e){this.error(dK+qx.bom.Iframe.queryCurrentUrl(this.__rP)+H,e);this.fireDataEvent(bl,e);};};},__xG:function(){this.__xH();this.__xJ();this.__xI();},__xH:function(){var gf=qx.event.Registration;var ge=this._getIframeDocument();gf.addListener(ge.body,z,this._handleKeyPress,this);gf.addListener(ge.body,cU,this._handleKeyUp,this);gf.addListener(ge.body,cw,this._handleKeyDown,this);},__xI:function(){var gi=qx.event.Registration;var gg=this._getIframeDocument();var gh=qx.core.Environment.get(dI)==bX?this._getIframeWindow():gg.body;gi.addListener(gh,cR,this._handleFocusEvent,this);gi.addListener(gh,bi,this._handleBlurEvent,this);gi.addListener(gg,cT,this._handleFocusOutEvent,this);},__xJ:function(){var gl=qx.event.Registration;var gk=this._getIframeDocument();var gj=qx.core.Environment.get(dI)==cb?cv:ek;gl.addListener(gk.body,gj,this._handleMouseUpOnBody,this);gl.addListener(gk.documentElement,gj,this._handleMouseUpOnDocument,this);gl.addListener(gk.documentElement,cH,this._handleContextMenuEvent,this);},__xK:function(){if(this.__xp==null){this.__xp={execute:function(gm,gn){this.stackedCommands=true;this.commandStack.push({command:gm,value:gn});},commandStack:[],stackedCommands:false};};this.__xp.stackedCommands=false;return this.__xp;},__xL:function(){var go=this.__xp;if(go!=null&&go.stackedCommands){var gp=go.commandStack;if(gp!=null){for(var i=0,j=gp.length;i<j;i++){this.__wq.execute(gp[i].command,gp[i].value);};};};},__xM:function(gq){var gr=this._getIframeDocument();if(this.__xm&&gr){try{if((qx.core.Environment.get(dI)==dm)){gr.designMode=(gq!==false)?d:eo;};gr.designMode=(gq!==false)?eo:d;}catch(e){};};},setEditable:function(gs){if(this.__xm){this.__xM(true);if((qx.core.Environment.get(dI)==dm)){try{var gt=this._getIframeDocument();gt.execCommand(ee,false,true);}catch(gu){try{var gt=this._getIframeDocument();gt.execCommand(bI,false,false);}catch(gv){if(!this.__hg){this.error(dy);this.fireDataEvent(bl,gv);}else {throw new Error(dy);};};};};this.__xn=gs;};},getEditable:function(){return this.__xn;},isEditable:function(){return this.__xn;},__xN:false,_handleKeyUp:function(e){var gw=e.getKeyIdentifier().toLowerCase();this.__xq=e;if((false)&&qx.core.Environment.get(db)){this.debug(e.getType()+cV+gw);};if(qx.core.Environment.get(dI)==cb||qx.core.Environment.get(dI)==bX){if(this.__xN){switch(gw){case cN:if(this.getInsertLinebreakOnCtrlEnter()){if((qx.core.Environment.get(dI)==bX)){this.__xO();e.preventDefault();e.stopPropagation();}else {var gx=this.__xY(this.getSelection());if(gx){gx.collapse(true);gx.pasteHTML(cF);};};this.__xT();};break;case cx:this.__xN=false;return;break;};};}else if((qx.core.Environment.get(dI)==dm)){switch(gw){case cL:case bx:case cy:case b:case dG:case D:case cd:case em:case ei:this.__xo=(this.getFocusNode()==this.getContentBody().firstChild);break;};};},__xO:function(){var gy=this.getSelection();var gz=dJ;if(gy&&(gy.focusNode.textContent==dJ||gy.focusNode.parentElement.tagName==bz)){gz=dO;};this.__wq.execute(da,gz+qx.bom.htmlarea.HtmlArea.simpleLinebreak);},_handleKeyDown:qx.core.Environment.select(dI,{"mshtml|webkit":function(e){var gA=e.getKeyIdentifier().toLowerCase();if((false)&&qx.core.Environment.get(db)){};if(this.__xN&&(gA==cj||gA==ef||gA==bm||gA==cI||gA==eh||gA==h)){e.preventDefault();e.stopPropagation();};if(gA==cx){this.__xN=true;};},"default":function(e){}}),_handleKeyPress:function(e){var gF=this.getContentDocument();var gB=e.getKeyIdentifier().toLowerCase();var gD=e.isCtrlPressed();var gE=e.isShiftPressed();this.__xq=e;if((false)&&qx.core.Environment.get(db)){this.debug(e.getType()+cV+gB);};if(this.__xu){var gL=!((qx.core.Environment.get(dI)==cb)&&gB==cN)||!((qx.core.Environment.get(dI)==dm)&&gB==cN);if(gL){this.__xT();this.__xu=false;};};switch(gB){case cN:if(!gE&&!gD&&this.getMessengerMode()){e.preventDefault();e.stopPropagation();this.fireDataEvent(bR,this.getComputedValue());this.resetHtml();};if(gD){if(!this.getInsertLinebreakOnCtrlEnter()){return;};e.preventDefault();e.stopPropagation();if((qx.core.Environment.get(dI)==dm)){if(this.__xW()){this.insertHtml(bc);this.__xT();return;};this.insertHtml(bj);}else if((qx.core.Environment.get(dI)==X)){var gK=this.getSelection();var gG=this.__xY(gK);if(gK&&gG){var gH=gF.createElement(cQ);gG.collapse(true);gG.insertNode(gH);gG.collapse(true);gG.selectNode(gH);gK.addRange(gG);gG.collapse(true);};};this.__xT();};if((qx.core.Environment.get(dI)==cb)){if(!this.getInsertParagraphOnLinebreak()){if(this.__wq.execute(da,qx.bom.htmlarea.HtmlArea.simpleLinebreak)){this.__xT();e.preventDefault();e.stopPropagation();};};}else if((qx.core.Environment.get(dI)==dm)){if(this.getInsertParagraphOnLinebreak()&&!gE&&!gD){var gK=this.getSelection();if(gK){var gC=gK.focusNode;if(this.__xW()){this.__xT();return;};if(this.__xX()){this.__xT();return;};while(!qx.dom.Node.isNodeName(gC,cX)){if(qx.dom.Node.isNodeName(gC,dQ)){this.__xT();return;};gC=gC.parentNode;};};this.__wq.insertParagraphOnLinebreak();e.preventDefault();e.stopPropagation();this.__xT();this.__xu=true;};}else if((qx.core.Environment.get(dI)==bX)){if(this.getInsertParagraphOnLinebreak()&&gE){this.__xO();e.preventDefault();e.stopPropagation();this.__xT();};};;break;case cy:if(qx.core.Environment.get(dI)==dm&&qx.core.Environment.get(cS)<1.9&&gE){var gK=this.getSelection();if(gK&&gK.focusNode==gF.body.firstChild){if(this.__xo){if(gK.focusOffset!=0){gK.extend(gK.focusNode,0);};};};};this.__xT();break;case cu:if(qx.core.Environment.get(dI)==dm&&qx.core.Environment.get(cS)<1.9){if(gD){var gK=this.getSelection();if(gE){if(gK&&(gK.focusOffset!=0)||(gK.focusNode!=gF.body.firstChild)){gK.extend(gF.body.firstChild,0);};}else {var gI=null;var gJ;if(gF){gI=gF.evaluate(dg,gF.body,null,XPathResult.ANY_TYPE,null);};if(gI&&gK){while(gJ=gI.iterateNext()){if(gJ&&gJ.parentNode&&gJ.parentNode.tagName!=bf){try{gK.extend(gJ,0);if(!this.isSelectionCollapsed()){gK.collapseToStart();};}catch(e){};break;};};};};};};this.__xT();break;case cL:case bx:case b:case dG:case D:case cd:case em:case ei:this.__xT();break;case bm:if(gD){this.__xP(dW,true);};break;case eh:case h:if(gD){this.__xP(bA,true);};break;case cI:if(gD){this.__xP(ea,true);};break;case cj:if(gD&&!gE){this.__xP(dP,true);}else if(gD&&gE){this.__xP(f,true);};break;case ef:if(gD){this.__xP(f,true);};break;case w:if(gD){this.selectAll();};break;};this.__xq=null;},__xP:function(gM,gN){var gP=null;var gO=qx.bom.htmlarea.HtmlArea.hotkeyInfo;if(gO[gM]){gP=gO[gM].method;};if(gP!=null&&this[gP]){this[gP]();if(gN){this.__xq.preventDefault();this.__xq.stopPropagation();};if(this.isSelectionCollapsed()){this.__xu=true;};this.__xT();};},_handleFocusEvent:function(e){this.__xr=null;if(qx.core.Environment.get(dI)==dm||qx.core.Environment.get(dI)==bX){var gQ=this.getContentDocument().getElementById(bW);if(gQ){qx.bom.element.Attribute.reset(gQ,bS);};};this.fireEvent(cs);},_handleBlurEvent:function(e){this.__xf=this.getComputedValue();},_handleFocusOutEvent:function(e){this.__xN=false;if(this.__xr==null){this.__xr=this.getSelectedHtml();};this.fireEvent(bn);},_handleMouseUpOnBody:function(e){if((false)&&qx.core.Environment.get(db)){this.debug(S+e.getType());};this.__xv=true;this.__xT();},_handleMouseUpOnDocument:qx.core.Environment.select(dI,{"mshtml":qx.lang.Function.empty,"default":function(e){if(!this.__xv){qx.bom.Element.activate(this.getContentBody());};this.__xv=false;}}),_handleContextMenuEvent:function(e){if(!this.getNativeContextMenu()){var gT=e.getViewportLeft();var gS=e.getViewportTop();var gU=qx.bom.element.Location.getLeft(this.__ks)+gT;var gV=qx.bom.element.Location.getTop(this.__ks)+gS;var gR={x:gU,y:gV,relX:gT,relY:gS,target:e.getTarget()};e.preventDefault();e.stopPropagation();qx.event.Timer.once(function(){this.fireDataEvent(cH,gR);},this,0);};},isLoaded:function(){return this.__xm;},insertHtml:function(gW){return this.__wq.execute(da,gW);},removeFormat:function(){var gX=this.__wq.execute(y);this.__wq.execute(A,this.getDefaultFontSize());this.__wq.execute(ca,this.getDefaultFontFamily());return gX;},setBold:function(){return this.__wq.execute(ej);},setItalic:function(){return this.__wq.execute(cY);},setUnderline:function(){return this.__wq.execute(cW);},setStrikeThrough:function(){return this.__wq.execute(bK);},setFontSize:function(gY){return this.__wq.execute(A,gY);},setFontFamily:function(ha){return this.__wq.execute(ca,ha);},setTextColor:function(hb){return this.__wq.execute(dL,hb);},setTextBackgroundColor:function(hc){return this.__wq.execute(dx,hc);},setJustifyLeft:function(){return this.__wq.execute(bo);},setJustifyCenter:function(){return this.__wq.execute(bk);},setJustifyRight:function(){return this.__wq.execute(cJ);},setJustifyFull:function(){return this.__wq.execute(be);},insertIndent:function(){return this.__wq.execute(bQ);},insertOutdent:function(){return this.__wq.execute(dh);},insertOrderedList:function(){return this.__wq.execute(eu);},insertUnorderedList:function(){return this.__wq.execute(cB);},insertHorizontalRuler:function(){return this.__wq.execute(q);},insertImage:function(hd){return this.__wq.execute(v,hd);},insertHyperLink:function(he){return this.__wq.execute(bd,he);},removeBackgroundColor:function(){this.__wq.execute(dz,cD);},setBackgroundColor:function(hf){this.__wq.execute(dz,hf);},removeBackgroundImage:function(){this.__wq.execute(n);},setBackgroundImage:function(hg,hh,hi){return this.__wq.execute(n,[hg,hh,hi]);},selectAll:function(){return this.__wq.execute(cE);},undo:function(){if(this.getUseUndoRedo()){return this.__wq.execute(F);}else {return true;};},redo:function(){if(this.getUseUndoRedo()){return this.__wq.execute(ep);}else {return true;};},resetHtml:function(){var hj=this._getIframeDocument();while(hj.body.firstChild){hj.body.removeChild(hj.body.firstChild);};if(qx.core.Environment.get(dI)==dm){hj.body.innerHTML=er;}else if(qx.core.Environment.get(dI)==bX){var hk=this.getSelection();var hl=hj.createRange();if(hl&&hk){hk.addRange(hl);};};},getHtml:function(hm){var hn=this._getIframeDocument();if(hn==null){return null;};return qx.bom.htmlarea.HtmlArea.__xi(hn.body,false,hm,this.getPostProcess());},containsOnlyPlaceholder:qx.core.Environment.select(dI,{"mshtml":function(){var ho=this._getIframeDocument();return (ho.body.innerHTML==dv);},"default":qx.lang.Function.returnFalse}),_selectElement:function(hp){var hr=this.getContentWindow().getSelection();var hq=this.getContentDocument().createRange();hq.setStart(hp,0);hr.removeAllRanges();hr.addRange(hq);},focusContent:qx.core.Environment.select(dI,{"gecko":function(){var ht=this.getContentDocument();var hs=ht.getElementById(bW);this.getContentWindow().focus();qx.bom.Element.focus(this.getContentBody());if(hs){this._selectElement(hs);}else {this.__xQ();};},"webkit":function(){qx.bom.Element.focus(this.getContentWindow());qx.bom.Element.focus(this.getContentBody());var hu=this.getContentDocument().getElementById(bW);if(hu){qx.bom.element.Attribute.reset(hu,bS);};this.__xQ();},"opera":function(){qx.bom.Element.focus(this.getContentWindow());qx.bom.Element.focus(this.getContentBody());this.__xQ();},"default":function(){qx.bom.Element.focus(this.getContentBody());this.__xQ();}}),__xQ:function(){if(!this.__xR()){this.__xS();};},__xR:qx.core.Environment.select(dI,{"gecko":function(){var hv=this.getContentBody().childNodes;if(hv.length==0){return false;}else if(hv.length==1){return !(hv[0]&&qx.dom.Node.isNodeName(hv[0],cQ)&&qx.bom.element.Attribute.get(hv[0],ce)!=null);}else {return true;};},"webkit":function(){var hw=this.getContentBody().childNodes;if(hw.length==0){return false;}else if(hw.length==1){return !(hw[0]&&qx.dom.Node.isNodeName(hw[0],cQ));}else {return true;};},"default":function(){var hx=this.getContentBody().childNodes;if(hx.length==0){return false;}else if(hx.length==1){return !(hx[0]&&qx.dom.Node.isNodeName(hx[0],J)&&hx[0].firstChild==null);}else {return true;};}}),__xS:qx.core.Environment.select(dI,{"gecko|webkit":function(){this.getContentDocument().body.innerHTML=this.__xy(dJ);var hy=this.getContentDocument().getElementById(bW);qx.bom.element.Attribute.reset(hy,bS);this._selectElement(hy);},"default":function(){var hz=qx.dom.Hierarchy.getFirstDescendant(this.getContentBody());if(qx.dom.Node.isNodeName(hz,J)){qx.bom.element.Style.set(hz,B,this.getDefaultFontFamily());qx.bom.element.Style.set(hz,bh,this.getDefaultFontSize());};}}),getContextInformation:function(){return this.__xU();},__xT:function(){qx.event.Timer.once(function(e){var hA=this.__xU();this.fireDataEvent(dV,hA);},this,200);},__xU:function(){if(this._processingExamineCursorContext||this.getEditable()==false){return;};this._processingExamineCursorContext=true;if(!this.__xR()){this.__xS();};var hE=this.getFocusNode();if(hE==null){return;};if(qx.dom.Node.isText(hE)){hE=hE.parentNode;};var hI=this._getIframeDocument();var hR=(qx.core.Environment.get(dI)==cb)?hE.currentStyle:hI.defaultView.getComputedStyle(hE,null);var hL=false;var hB=false;var hG=false;var hF=false;var hM=false;var hQ=false;var hH=false;var hS=false;var hD=false;var hO=false;var hP=null;var hT=null;var hK=null;if(hR!=null){if((qx.core.Environment.get(dI)==cb)){hB=hR.fontStyle==cY;hG=hR.textDecoration.indexOf(cW)!==-1;hF=hR.textDecoration.indexOf(ch)!==-1;hP=hR.fontSize;hK=hR.fontFamily;hH=hR.textAlign==cL;hS=hR.textAlign==I;hD=hR.textAlign==bx;hO=hR.textAlign==E;}else {hB=hR.getPropertyValue(bw)==cY;hG=hR.getPropertyValue(G).indexOf(cW)!==-1;hF=hR.getPropertyValue(G).indexOf(ch)!==-1;hP=hR.getPropertyValue(bh);hK=hR.getPropertyValue(B);hH=hR.getPropertyValue(V)==cL;hS=hR.getPropertyValue(V)==I;hD=hR.getPropertyValue(V)==bx;hO=hR.getPropertyValue(V)==E;};if(qx.core.Environment.get(dI)==cb||qx.core.Environment.get(dI)==X){hL=hR.fontWeight==700;}else {hL=hR.getPropertyValue(by)==ej||qx.dom.Node.isNodeName(hE,bm);};};var hC=hE;if(hC!=null&&hC.parentNode!=null&&!qx.dom.Node.isDocument(hC.parentNode)){while(hC!=null&&!qx.dom.Node.isNodeName(hC,cX)){var hJ=qx.dom.Node.getName(hC);if(hJ==dj){hQ=true;break;}else if(hJ==dU){hM=true;break;};if(hT==null||hT==dJ){hT=qx.bom.element.Attribute.get(hC,p);};hC=hC.parentNode;};};var hN={bold:hL?1:0,italic:hB?1:0,underline:hG?1:0,strikethrough:hF?1:0,fontSize:(hT==null)?hP:hT,fontFamily:hK,insertUnorderedList:hM?1:0,insertOrderedList:hQ?1:0,justifyLeft:hH?1:0,justifyCenter:hS?1:0,justifyRight:hD?1:0,justifyFull:hO?1:0};this._processingExamineCursorContext=false;return hN;},getSelection:qx.core.Environment.select(dI,{"mshtml":function(){return this._getIframeDocument()?this._getIframeDocument().selection:null;},"default":function(){return this._getIframeWindow()?this._getIframeWindow().getSelection():null;}}),isSelectionCollapsed:qx.core.Environment.select(dI,{"mshtml":function(){return this.getSelection()&&this.getSelection().type==cc;},"default":function(){return this.getSelection()&&this.getSelection().isCollapsed;}}),getSelectedText:qx.core.Environment.select(dI,{"mshtml":function(){return this.getRange()?this.getRange().text:dJ;},"default":function(){return this.getRange()?this.getRange().toString():dJ;}}),getSelectedHtml:function(){if(this.__xr!=null){return this.__xr;};var hU=this.getRange();if(!hU){return dJ;}else {return this.__xV(hU);};},__xV:qx.core.Environment.select(dI,{"mshtml":function(hV){if(!hV){return dJ;};return hV.item?hV.item(0).outerHTML:hV.htmlText;},"default":function(hW){var hX=this._getIframeDocument();if(hX&&hW){try{var hY=hX.createElement(cX);hY.appendChild(hW.cloneContents());return hY.innerHTML;}catch(ia){};return hW+dJ;};return dJ;}}),clearSelection:qx.core.Environment.select(dI,{"mshtml":function(){var ib=this.getSelection();if(ib){ib.empty();};},"default":function(){var ic=this.getSelection();if(ic){ic.collapseToStart();};}}),__xW:qx.core.Environment.select(dI,{"gecko":function(){var id=this.getSelection();var ie=this.getFocusNode();return id&&this.isSelectionCollapsed()&&ie!=null&&qx.dom.Node.isText(ie)&&id.anchorOffset<ie.length;},"default":function(){return false;}}),__xX:qx.core.Environment.select(dI,{"gecko":function(){return qx.dom.Node.isElement(this.getFocusNode());},"default":function(){return false;}}),getRange:function(){return this.__xY(this.getSelection());},__xY:qx.core.Environment.select(dI,{"mshtml":function(ig){var ih=this._getIframeDocument();if(ig){try{return ig.createRange();}catch(ii){return ih?ih.body.createTextRange():null;};}else {return ih?ih.body.createTextRange():null;};},"default":function(ij){var ik=this._getIframeDocument();if(ij){try{return ij.getRangeAt(0);}catch(il){return ik?ik.createRange():null;};}else {return ik?ik.createRange():null;};}}),saveRange:qx.core.Environment.select(dI,{"mshtml":function(){this.__xt=this.getRange();},"default":function(){}}),getSavedRange:qx.core.Environment.select(dI,{"mshtml":function(){return this.__xt;},"default":function(){}}),resetSavedRange:qx.core.Environment.select(dI,{"mshtml":function(){this.__xt=null;},"default":function(){}}),getFocusNode:qx.core.Environment.select(dI,{"mshtml":function(){var im=this.getSelection();var io;switch(im.type){case cA:case cc:io=this.__xY(im);if(io){io.collapse(false);return io.parentElement();}else {return null;};break;case N:io=this.__xY(im);if(io){try{io.collapse(false);}catch(ip){};return io.item(0);}else {return null;};break;default:return this._getIframeDocument().body;};},"default":function(){var iq=this.getSelection();if(iq&&iq.focusNode){return iq.focusNode;};return this._getIframeDocument().body;}})},environment:{"qx.bom.htmlarea.HtmlArea.debug":false},destruct:function(){try{var is=this._getIframeDocument();var iu=qx.event.Registration;iu.removeListener(is.body,z,this._handleKeyPress,this);iu.removeListener(is.body,cU,this._handleKeyUp,this);iu.removeListener(is.body,cw,this._handleKeyDown,this);var it=qx.core.Environment.get(dI)==bX?this._getIframeWindow():is.body;iu.removeListener(it,cR,this._handleFocusEvent);iu.removeListener(it,bi,this._handleBlurEvent);iu.removeListener(is,cT,this._handleFocusOutEvent);var ir=qx.core.Environment.get(dI)==cb?cv:ek;iu.removeListener(is.body,ir,this._handleMouseUpOnBody,this);iu.removeListener(is.documentElement,ir,this._handleMouseUpOnDocument,this);iu.removeListener(is.documentElement,cH,this._handleContextMenuEvent,this);if((qx.core.Environment.get(dI)==cb)){qx.bom.Iframe.setSource(this.__rP,de);};}catch(iv){};if(this.__wq instanceof qx.core.Object){this._disposeObjects(dt);}else {this.__wq=null;};this.__xs=this.__rP=this.__ks=this.__xp=null;}});})();(function(){var n="undo",m="pageup",l="home",k="control",h="shift",g="end",f="right",d="qx_link",c="b",b="insertunorderedlist",bm="__wq",bl="Undo",bk="pagedown",bj="k",bi="ADD TO UNDO STACK",bh="a",bg="insertorderedlist",bf="y",be="justifyright",bd="redo",u="insertParagraph",v="qx.bom.htmlarea.manager.UndoRedo",s="left",t="i",q="u",r="enter",o="Redo",p="ADD TO REDO STACK",z="insertimage",A="z",I="undoRedoState",G="down",Q="up",L="body",Y="backgroundColor",V="actionType ",C="mousedown",bc=" is not managed! Please provide a handler method!",bb="table",ba="backgroundImage",B="backgroundRepeat",E="p",F="backgroundPosition",H="td",J="img",M="inserthyperlink",S="mouseup",X="keypress",w="qx.bom.htmlarea.HtmlArea.debug",x="backgroundimage",D="backgroundcolor",P="webkit",O=" ",N="Content",U="Internal",T="inserthtml",K="gecko",R="Custom",a="Command",W="mshtml",y="engine.name";qx.Class.define(v,{extend:qx.core.Object,construct:function(bn,bo){qx.core.Object.call(this);this.__wq=bn;this.__wr=bo;this.__ws=[];this.__wt=[];this._commands=null;this.__kr=null;this.__wu={};this.__wv={command:true,content:true,custom:true};this.__wT();this.__ww=qx.lang.Function.bind(this._handleKeyPress,this);this.__wx=qx.lang.Function.bind(this._handleMouseUp,this);if((qx.core.Environment.get(y)==W)){this.__wy=qx.lang.Function.bind(this._handleMouseDown,this);};},members:{__wz:false,__wA:false,__wB:false,__wv:null,__wu:null,__wq:null,__kr:null,__ws:null,__wt:null,__wr:null,__ww:null,__wx:null,__wy:null,__wC:null,setContentDocument:function(bp){this.__kr=bp;this.__wq.setContentDocument(bp);qx.event.Registration.addListener(bp.body,X,this.__ww,this);qx.event.Registration.addListener(bp.body,S,this.__wx,this);if((qx.core.Environment.get(y)==W)){qx.event.Registration.addListener(bp.body,C,this.__wy,this,true);};},insertParagraphOnLinebreak:function(){return this.__wq.insertParagraphOnLinebreak();},execute:function(bq,br){var bs;bq=bq.toLowerCase();if(this._commands[bq]){if(this._commands[bq].passthrough){bs=this.__wq.execute(bq,br);}else {bs=this[bq].call(this);};}else {if((qx.core.Environment.get(y)==W)||(qx.core.Environment.get(y)==P)){this.__wU(bq,br,this.__wq.getCommandObject(bq));bs=this.__wq.execute(bq,br);if(!bs){this.__ws.pop();};}else {bs=this.__wq.execute(bq,br);if(bs){this.__wU(bq,br,this.__wq.getCommandObject(bq));};};if(bq==n&&this.__ws.length==0){this.__wA=false;this.__xd();}else if(bq==bd&&this.__wt.length==0){this.__wz=false;this.__xd();};};this.__wB=false;return bs;},addUndoStep:function(bt,bu,bv){this.__wU(bt,bu,bv);},registerHandler:function(bw,bx,by,bz){this.__wu[bw]={undo:bx,redo:by,context:bz};},isUndoPossible:function(){return this.__wA;},undo:function(){var bC;if(this.__wB){this.__wW();};if(this.__ws.length>0){var bB=this.__ws.pop();if(this.__wv[bB.actionType.toLowerCase()]){switch(bB.actionType){case a:bC=this.__wE(bB);break;case N:bC=this.__wI(bB);break;case U:bC=this.__wH(bB);break;case R:bC=this.__wD(bB);break;};}else if(this.__wu[bB.actionType]){var bA=this.__wu[bB.actionType];bC=bA.undo.call(bA.context?bA.context:this,bB);this.__wY(bB);}else {this.error(V+bB.actionType+bc);};this.__wz=true;this.__xd();return bC;};},__wD:qx.core.Environment.select(y,{"mshtml|webkit":function(bD){var bE=this.__kr.body.innerHTML;var bG=bD.content;this.__kr.body.innerHTML=bG;var bF=bD;bF.content=bE;this.__wY(bF);return true;},"default":function(bH){var bL=bH;var bK=qx.bom.element.Style;switch(bH.command){case D:bL.parameter=[bK.get(this.__kr.body,Y)];break;case x:bL.parameter=[bK.get(this.__kr.body,ba),bK.get(this.__kr.body,B),bK.get(this.__kr.body,F)];break;};this.__wY(bL);if(bH.command==M){if((qx.core.Environment.get(y)==K)){var bJ=d+this.__wq.__hyperLinkId;var bI=this.__kr.getElementById(bJ);if(bI){bI.parentNode.removeChild(bI);return true;}else {return false;};};}else {return this.__wq.execute(bH.command,bH.value);};}}),__wE:qx.core.Environment.select(y,{"mshtml|webkit":function(bM){},"default":function(bN){this.__wY(bN);if((qx.core.Environment.get(y)==K)){if(bN.command==T&&bN.value==qx.bom.htmlarea.HtmlArea.EMPTY_DIV&&this.__wF(T,u)){this.__wG();};};return this.__wJ();}}),__wF:function(bO,bP){if(this.__ws.length>0){var bQ=this.__ws[this.__ws.length-1];return (bQ.command==bO&&bQ.value==bP);};return false;},__wG:function(){this.__wJ();if(this.__ws.length>0){var bR=this.__ws.pop();this.__wY(bR);};},__wH:function(bS){this.__wY(bS);return this.__wJ();},__wI:qx.core.Environment.select(y,{"gecko":function(bT){this.__wY(bT);try{return this.__wJ();}catch(bU){{};};},"mshtml|webkit":function(bV){},"default":function(bW){this.__wY(bW);return this.__wJ();}}),__wJ:function(){try{return this.__kr.execCommand(bl,false,null);}catch(e){return false;};},isRedoPossible:function(){return this.__wz;},redo:function(){if(this.__wz){var bY;if(this.__wt.length>0){var ca=this.__wt.pop();if(this.__wv[ca.actionType.toLowerCase()]){switch(ca.actionType){case a:bY=this.__wL(ca);break;case N:bY=this.__wR(ca);break;case U:bY=this.__wQ(ca);break;case R:bY=this.__wK(ca);break;};}else if(this.__wu[ca.actionType]){var bX=this.__wu[ca.actionType];bY=bX.redo.call(bX.context?bX.context:this,ca);this.__wX(ca);}else {this.error(V+ca.actionType+bc);};this.__wA=true;this.__xd();};return bY;};},__wK:qx.core.Environment.select(y,{"mshtml|webkit":function(cb){var cc=this.__kr.body.innerHTML;var ce=cb.content;this.__kr.body.innerHTML=ce;var cd=cb;cd.content=cc;this.__wX(cd);return true;},"default":function(cf){this.__wX(cf);return this.__wS();}}),__wL:qx.core.Environment.select(y,{"mshtml|webkit":function(cg){},"default":function(ch){this.__wX(ch);var ci=this.__wS();if((qx.core.Environment.get(y)==K)){if(this.__wM(T,qx.bom.htmlarea.HtmlArea.EMPTY_DIV)){var cj=this.__wN();this.__wO();if(cj!=null){this.__wP(cj);};};};return ci;}}),__wM:function(ck,cl){if(this.__wt.length>0){var cm=this.__wt[this.__wt.length-1];return (cm.command==ck&&cm.value==cl);};return false;},__wN:function(){if(this.__wr==null){return null;};var cn=this.__wr.getSelection();var co=cn?cn.focusNode:null;if(co==null){return null;};try{while(co.nodeName.toLowerCase()!=E){co=co.parentNode;if(!co||qx.dom.Node.isNodeName(co,L)){return null;};};}catch(cp){return null;};if(co!=null&&qx.dom.Node.isNodeName(co,E)){return co;}else {return null;};},__wO:function(){var cq=this.__wt.pop();this.__wX(cq);this.__wS();},__wP:qx.core.Environment.select(y,{"gecko":function(cr){if(cr==this.__wr.getContentBody().lastChild){return;};var cu=cr.firstChild;while(cu.firstChild){cu=cu.firstChild;};var cs=this.__wr.getSelection();var ct=this.__wr.getRange();if(cs&&ct){ct.selectNode(cu);cs.addRange(ct);ct.collapse(true);};},"default":qx.lang.Function.empty}),__wQ:function(cv){this.__wX(cv);return this.__wS();},__wR:qx.core.Environment.select(y,{"mshtml|webkit":function(cw){},"default":function(cx){this.__wX(cx);return this.__wS();}}),__wS:function(){try{return this.__kr.execCommand(o,false,null);}catch(e){return false;};},__wT:function(){this._commands={undo:{passthrough:false},redo:{passthrough:false}};this.__wq.getCommandObject(D).customUndo=true;this.__wq.getCommandObject(x).customUndo=true;if((qx.core.Environment.get(y)==K)){};},__wU:qx.core.Environment.select(y,{"mshtml|webkit":function(cy,cz,cA){var cB=this.getUndoRedoObject();cB.commandObject=cA;cB.command=cy;cB.value=cz;cB.actionType=R;cB.content=this.__kr.body.innerHTML;this.__wV(cB);},"default":function(cC,cD,cE){if(this.__wr==null){return;};var cG=this.getUndoRedoObject();cG.commandObject=cE;cG.command=cC;cG.value=cD;cG.actionType=R;var cF=this.__wr.getSelection();if(cE.customUndo){var cH=[];switch(cC){case D:cH.push(qx.bom.element.Style.get(this.__kr.body,Y));break;case x:cH.push(qx.bom.element.Style.get(this.__kr.body,ba),qx.bom.element.Style.get(this.__kr.body,B),qx.bom.element.Style.get(this.__kr.body,F));break;case M:if(cF&&!cF.isCollapsed){cG.actionType=a;};break;};cG.parameter=cH;}else {if((qx.core.Environment.get(y)==K)){if(cF&&cF.isCollapsed){switch(cC){case bg:case b:case be:case T:case z:cG.actionType=a;break;default:return;};}else {cG.actionType=a;};}else {cG.actionType=a;};};this.__wV(cG);}}),__wV:function(cI){if(this.__wB){this.__wW();};this.__wX(cI);this.__wz=false;this.__wt=[];this.__xd();},__wW:function(){var cJ=this.__ws[this.__ws.length-1];if(cJ==null||cJ.actionType!=N){var cK=this.getUndoRedoObject();cK.actionType=N;if((qx.core.Environment.get(y)==W)||(qx.core.Environment.get(y)==P)){cK.content=this.__wC;cK.actionType=R;this.__wC=null;};this.__wX(cK);this.__wB=false;};},getUndoRedoObject:function(){return {actionType:null,commandObject:null,command:null,value:null,parameter:null,range:null,marker:null,content:null};},__wX:function(cL){if((false)&&qx.core.Environment.get(w)){this.debug(bi);this.debug(cL.actionType+O+cL.command+O+cL.value);};this.__ws.push(cL);},__wY:function(cM){if((false)&&qx.core.Environment.get(w)){this.debug(p);this.debug(cM.actionType+O+cM.command+O+cM.value);};this.__wt.push(cM);},_handleKeyPress:function(e){var cN=e.getKeyIdentifier().toLowerCase();var cO=e.isCtrlPressed();switch(cN){case k:case h:case s:case f:case Q:case G:case m:case bk:case l:case g:case r:break;case bh:case c:case t:case q:case bj:case bf:case A:if(!cO){this.__xa();};break;default:this.__wz=false;this.__wt=[];this.__xa();};},__xa:function(){if(!this.__wB){this.__wB=true;this.__wA=true;if((qx.core.Environment.get(y)==W)||(qx.core.Environment.get(y)==P)){this.__wC=this.__kr.body.innerHTML;};this.__xd();};},__xb:null,_handleMouseDown:qx.core.Environment.select(y,{"mshtml":function(e){var cP=e.getOriginalTarget();if(qx.dom.Node.isElement(cP)&&(qx.dom.Node.isNodeName(cP,J)||qx.dom.Node.isNodeName(cP,bb))){this.__xb={node:cP,content:cP.outerHTML};}else {this.__xb=null;};},"default":function(e){return true;}}),_handleMouseUp:qx.core.Environment.select(y,{"gecko":function(e){if(this.__wr==null){return;};var cR=this.__wr.getSelection();if(!cR){this.__xb=null;return;};var cQ=cR.anchorNode;var cS=cQ.childNodes[cR.anchorOffset];if(qx.dom.Node.isNodeName(cS,J)){if(this.__xb==null){this.__xb=cS.cloneNode(true);}else {if(this.__xb.style.width!=cS.style.width||this.__xb.style.height!=cS.style.height){this.__xc();this.__xb=cS.cloneNode(true);};};}else if(qx.dom.Node.isNodeName(cQ,H)||qx.dom.Node.isNodeName(cQ.parentNode,H)){var cT=cQ.parentNode;while(qx.dom.Node.isNodeName(cT,bb)){cT=cT.parentNode;};if(this.__xb==null){this.__xb=cT.cloneNode(true);}else {qx.event.Timer.once(function(){if(cT.style.width!=this.__xb.style.width||cT.style.height!=this.__xb.style.height||cT.innerHTML!=this.__xb.innerHTML){this.__xc();this.__xb=cT.cloneNode(true);};},this,0);};}else {this.__xb=null;};},"default":function(e){var cU=qx.bom.Event.getTarget(e);if(this.__xb!=null){if(cU.nodeType==1){if(cU==this.__xb.node){if(cU.outerHTML!=this.__xb.content){this.__xb.content=cU.outerHTML;this.__xc();};}else {for(var i=0,j=cU.childNodes.length;i<j;i++){if(cU.childNodes[i]==this.__xb.node){if(cU.childNodes[i].outerHTML!=this.__xb.content){this.__xb.content=cU.childNodes[i].outerHTML;this.__xc();};};};};}else {this.__xb=null;};};}}),__xc:qx.core.Environment.select(y,{"mshtml|webkit":function(){this.__wU(U,null,null);},"default":function(){var cV=this.getUndoRedoObject();cV.actionType=U;this.__wX(cV);}}),__xd:function(){qx.event.Timer.once(function(e){if(this.__wr!=null){var cW={undo:this.isUndoPossible()?0:-1,redo:this.isRedoPossible()?0:-1};this.__wr.fireDataEvent(I,cW);};},this,200);}},destruct:function(){try{qx.event.Registration.removeListener(this.__kr.body,X,this.__ww);qx.event.Registration.removeListener(this.__kr,S,this.__wx);if((qx.core.Environment.get(y)==W)){qx.event.Registration.removeListener(this.__kr,C,this.__wy);};}catch(e){};this._disposeObjects(bm);this.__wr=this.__ws=this.__wt=this._commands=this.__kr=null;this.__wv=this.__wu=null;}});})();(function(){var k="</div>",j="redraw",i="widgetbrowser.pages.Embed",h=" Text",g="widgetbrowser/fo_tester.swf",f="<i>L</i>",d="<b>T</b>",c="<i style='color: red;'><b>H</b></i>",b="solid",a="bgcolor",F="widgetbrowser/blank.html",E="<u>M</u>",D="html.canvas",C="border-main",B="Browser does not support canvas",A="this is passed in via FlashVars",z="<div style='background-color: white; text-align: center;'>",y="bold",x='<h1>About</h1><p>qooxdoo (pronounced [ku:ksdu:]) is a comprehensive and innovative Ajax application framework. Leveraging object-oriented JavaScript allows developers to build impressive cross-browser applications. No <acronym title="HyperText Markup Language">HTML</acronym>, <acronym title="Cascading Style Sheets">CSS</acronym> nor <acronym title="Document Object Model">DOM</acronym> knowledge is needed. qooxdoo includes a platform-independent development tool chain, a state-of-the-art <acronym title="Graphical User Interface">GUI</acronym> toolkit and an advanced client-server communication layer. It is Open Source under an <acronym title="GNU Lesser General Public License">LGPL</acronym>/<acronym title="Eclipse Public License">EPL</acronym> dual <a href="http://qooxdoo.org/license" class="wikilink1" title="license">license</a>.</p>',w='Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat. Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla facilisi. Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat. Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla facilisi. Nam liber tempor cum soluta nobis eleifend option congue nihil imperdiet doming id quod mazim placerat facer possim assum. Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat. Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla facilisi. Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat. Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla facilisi. Nam liber tempor cum soluta nobis eleifend option congue nihil imperdiet doming id quod mazim placerat facer possim assum. Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat. Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla facilisi. Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat. Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla facilisi. Nam liber tempor cum soluta nobis eleifend option congue nihil imperdiet doming id quod mazim placerat facer possim assum. Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat. Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla f',r="Text with set font (bold)!",s="Canvas",p="Flash",q="white",n="noscale",o="#FF6600",l="HtmlArea",m="HTML",t="100%",u="auto",v="main";qx.Class.define(i,{extend:widgetbrowser.pages.AbstractPage,construct:function(){widgetbrowser.pages.AbstractPage.call(this);var G=new qx.ui.layout.Grid(100,10);G.setColumnFlex(1,1);this.__mi=new qx.ui.container.Composite(G);this.add(this.__mi,{width:t,height:t});this.initWidgets();},members:{__mi:null,initWidgets:function(){var U=this._widgets;var O;O=new qx.ui.basic.Label(p);this.__mi.add(O,{row:0,column:0});var V={flashVarText:A};var N=new qx.ui.embed.Flash(g).set({scale:n,width:100,height:200,variables:V});N.getContentElement().setParam(a,o);U.push(N);this.__mi.add(N,{row:1,column:0,colSpan:2});O=new qx.ui.basic.Label(s);this.__mi.add(O,{row:2,column:0});if(qx.core.Environment.get(D)){var H=new qx.ui.embed.Canvas().set({width:200,height:200,canvasWidth:200,canvasHeight:200,syncDimension:true});H.addListener(j,this.__NQ,this);U.push(H);this.__mi.add(H,{row:3,column:0});}else {this.__mi.add(new qx.ui.basic.Label(B),{row:3,column:0});};O=new qx.ui.basic.Label(m);this.__mi.add(O,{row:2,column:1});var S=new qx.ui.container.Composite(new qx.ui.layout.VBox(10));this.__mi.add(S,{row:3,column:1});var P=z+c+d+E+f+h+k;var M=new qx.ui.embed.Html(P);U.push(M);M.setMaxWidth(200);M.setHeight(20);M.setDecorator(v);S.add(M);var Q=r;var L=new qx.ui.embed.Html(Q);U.push(L);L.setMaxWidth(200);L.setFont(y);L.setHeight(20);L.setDecorator(v);S.add(L);var T=w;var J=new qx.ui.embed.Html(T);U.push(J);J.setOverflow(u,u);J.setDecorator(v);J.setBackgroundColor(q);J.setHeight(150);J.setMaxWidth(200);S.add(J);O=new qx.ui.basic.Label(l);this.__mi.add(O,{row:4,column:0});var K=new qx.ui.decoration.Single(1,b,C);var I=x;var R=new qx.ui.embed.HtmlArea(I,null,qx.util.ResourceManager.getInstance().toUri(F));R.set({width:300,height:150,decorator:K});this.__mi.add(R,{row:5,column:0});U.push(R);},__NQ:function(e){var X=e.getData();var W=X.context;W.fillStyle="rgb(200,0,0)";W.fillRect(20,20,105,100);W.fillStyle="rgba(0, 0, 200, 0.5)";W.fillRect(70,70,105,100);}}});})();(function(){var cF="backgroundColor",cE="_moz",cD="top",cC="formatBlock",cB="insertParagraph",cA=" succeded",cz="li",cy='<span style="',cx="__yC",cw="FONT",bG="no-repeat",bF=' <a href="',bE="__yr",bD="|top|bottom|center|left|right|right top|left top|left bottom|right bottom|",bC="__placeholder__",bB="JustifyCenter",bA="Cut",bz="outdent",by='</a> ',bx="InsertImage",cM="__yI",cN="__resetHtml",cK="FontName",cL="bold",cI="blockquote",cJ="underline",cG="style",cH="The method '",cO="qx.bom.htmlarea.manager.Command",cP="__yH",cf="'><br class='webkit-block-placeholder' />",ce="a",ch='"',cg="type",cj="CreateLink",ci="':'",cl="italic",ck="' you calling to execute the command '",cd="__yG",cc="qx_link",o="none",p='"></span>',q="Italic",r="fontStyle",s=" failed",t="InsertUnorderedList",u="OL",v='text-align:',w="Bold",x="ForeColor",de="__yN",dd="url(",dc='" ',db="repeat repeat-x repeat-y no-repeat",di='</p>',dh="<hr />",dg="UL",df="__yF",dk="editor not ready! '",dj='<font style="',W="Command ",X="IMG",U='<p id="',V="StrikeThrough",bb="__yM",bc="LI",Y="__getHtml",ba='>',S='font-family:',T='" size="',F="Indent",E="HiliteColor",H="__yE",G="br",B="fontWeight",A="Copy",D="</span>",C="Paste",z="__yu",y="RemoveFormat",bh="JustifyRight",bi="__yL",bj='',bk='style="',bd="'",be="' is not available!",bf="_moz_dirty",bg="__yk",bl="color",bm="JustifyLeft",P=" is currently not supported!",O="Underline",N="SelectAll",M="__yt",L="<p style='",K="line-through",J=")",I="href",R="__yK",Q='<span id="',bn="<span></span>",bo="JustifyFull",bp="__yD",bq="Outdent",br="indent",bs="selectall",bt="InsertOrderedList",bu="/>",bv="<img ",bw="backgroundRepeat",bK="</font>",bJ="backgroundPosition",bI='|',bH="font-size",bO="string",bN="background-color",bM="font",bL=":",bQ="__yp",bP="='",bX=" with value ",bY=" ",bV=";",bW="body",bT="px",bU="backgroundImage",bR="Control",bS="__paragraph__",ca=':',cb="qx.bom.htmlarea.HtmlArea.debug",cp="size",co="' ",cr="webkit",cq="execCommand ",ct="textDecoration",cs="BODY",cv="undefined",cu="transparent",cn="id",cm="InsertHtml",cW='">',cX="font-family",cY="gecko",da="text-align",cS='text-decoration',cT="BackColor",cU="FontSize",cV="child",cQ=';',cR="p",n="span",m="__yo",h='color',g="text-decoration",f="inserthtml",d="mshtml",c="legacy-font-size",b="",a="engine.name";qx.Class.define(cO,{extend:qx.core.Object,construct:function(dl){qx.core.Object.call(this);this.__wr=dl;this.__kr=null;this._commands=null;this.__wT();this.__ya={"Bold":true,"Italic":true,"Underline":true,"StrikeThrough":true};this.__yb=[10,12,16,18,24,32,48];this.__yc=0;},statics:{__yd:bD,__ye:db},members:{__kr:null,__wr:null,__yf:false,__ya:null,__yb:null,__yc:null,setContentDocument:function(dm){this.__kr=dm;},getCommandObject:function(dn){if(this._commands[dn]){return this._commands[dn];}else {return null;};},__wT:function(){this._commands={bold:{useBuiltin:false,identifier:w,method:R},italic:{useBuiltin:false,identifier:q,method:bi},underline:{useBuiltin:false,identifier:O,method:bb},strikethrough:{useBuiltin:false,identifier:V,method:de},fontfamily:{useBuiltin:true,identifier:cK,method:null},fontsize:{useBuiltin:false,identifier:cU,method:cx},textcolor:{useBuiltin:true,identifier:x,method:null},textbackgroundcolor:{useBuiltin:false,identifier:null,method:bp},backgroundcolor:{useBuiltin:false,identifier:null,method:H},backgroundimage:{useBuiltin:false,identifier:null,method:df},justifyleft:{useBuiltin:false,identifier:bm,method:m},justifyright:{useBuiltin:false,identifier:bh,method:m},justifycenter:{useBuiltin:false,identifier:bB,method:m},justifyfull:{useBuiltin:false,identifier:bo,method:m},indent:{useBuiltin:true,identifier:F,method:null},outdent:{useBuiltin:true,identifier:bq,method:null},copy:{useBuiltin:true,identifier:A,method:null},cut:{useBuiltin:true,identifier:bA,method:null},paste:{useBuiltin:true,identifier:C,method:null},insertorderedlist:{useBuiltin:false,identifier:bt,method:bQ},insertunorderedlist:{useBuiltin:false,identifier:t,method:bQ},inserthorizontalrule:{useBuiltin:false,identifier:cm,method:z},insertimage:{useBuiltin:false,identifier:bx,method:bE},inserthyperlink:{useBuiltin:false,identifier:cj,method:M},selectall:{useBuiltin:false,identifier:N,method:cd},selectedtext:{useBuiltin:false,identifier:null,method:cP},selectedhtml:{useBuiltin:false,identifier:null,method:cM},inserthtml:{useBuiltin:false,identifier:cm,method:bg},resethtml:{useBuiltin:false,identifier:null,method:cN},gethtml:{useBuiltin:false,identifier:null,method:Y},removeformat:{useBuiltin:true,identifier:y,method:null}};},execute:function(dp,dq){if(!this.__wr.isReady()){this.error(dk+dp+ci+dq+bd);return false;};dp=dp.toLowerCase();dq=dq!=null?dq:null;if(this._commands[dp]){var dr;var ds=this._commands[dp];if(!((qx.core.Environment.get(a)==cr)&&(dp==br||dp==bz))){if(this.__yg()){this.__yh();};};if(ds.useBuiltin){dr=this.__yi(ds.identifier,false,dq);}else {if(ds.method!=null&&this[ds.method]){dr=this[ds.method].call(this,dq,ds);}else {this.error(cH+ds.method+ck+dp+be);};};this.__wr.resetSavedRange();return dr;}else {this.error(W+dp+P);};},__yg:function(){var Node=qx.dom.Node;var dt=this.__wr.getFocusNode();var dw=false;var du=false;if(dt){if(Node.isText(dt)){var dv=qx.dom.Hierarchy.getAncestors(dt);for(var i=0,j=dv.length;i<j;i++){if(Node.isNodeName(dv[i],cR)||qx.bom.htmlarea.HtmlArea.isHeadlineNode(dv[i])){dw=true;break;};};}else if(Node.isNodeName(dt,bW)){du=true;};};return du||!dw;},__yh:function(){this.__yi(cC,false,cR);},__yi:function(dx,dy,dz){try{var dC=this.__kr;var dA=false;var dB=this.__wr.getRange();this.__kr.body.focus();if((qx.core.Environment.get(a)==d)){if(dx!=bs){dB.select();if(((dB.text)&&(dB.text.length>0))||((dB.length==1)&&(dB.item(0))&&(dB.item(0).tagName==X))){dC=dB;}else {dC=this.__kr;};};if(((qx.core.Environment.get(a)==d))&&(this.__ya[dx])){if(dB.text==b){dA=true;};};};var dD=dC.execCommand(dx,dy,dz);if(dA&&dB.text!=b){dB.collapse();};if((false)&&qx.core.Environment.get(cb)){this.debug(cq+dx+bX+dz+cA);};this.__yf=false;}catch(dE){if((false)&&qx.core.Environment.get(cb)){this.debug(cq+dx+bX+dz+s);};return false;};return dD;},__yj:qx.core.Environment.select(a,{"mshtml":function(){var dG=this.__wr;var dF=dG.getSavedRange()!=null?dG.getSavedRange():dG.getRange();return dF;},"default":function(){return this.__wr.getRange();}}),__yk:qx.core.Environment.select(a,{"mshtml":function(dH,dI){var dL;if(dH==qx.bom.htmlarea.HtmlArea.simpleLinebreak){return this.__yn();}else {this.__kr.body.focus();var dK=this.__wr.getSelection();var dJ=this.__yj();if(dJ&&dK&&dK.type!=bR){try{dJ.pasteHTML(dH);dJ.collapse(false);dJ.select();dL=true;}catch(e){};}else {dL=false;};this.__wr.resetSavedRange();return dL;};},"default":function(dM,dN){this.__kr.body.focus();return this.__kr.execCommand(dN.identifier,false,dM);}}),insertParagraphOnLinebreak:qx.core.Environment.select(a,{"gecko":function(){var dV=this.__yx();var ea=this.__yl(dV);var dR=this.__yv(dV);var dW=bC+Date.parse(new Date());var dX=bS+Date.parse(new Date());var dP=bj;var dT=Q+dW+p;dP+=dT;dP+=U+dX+dc+ea+ba;dP+=dR+di;this.__wr.getCommandManager().addUndoStep(f,cB,this.getCommandObject(f));this.execute(f,dP);this.__ym();qx.bom.element.Attribute.reset(this.__kr.getElementById(dW),cn);var dU=this.__kr.getElementById(dX);if(dU.previousSibling.innerHTML==dT){var dO=this.__yw();var dS=this.__kr.createElement(G);var dQ=this.__kr.createAttribute(bf);dQ.nodeValue=b;dS.setAttributeNode(dQ);var dY=this.__kr.createAttribute(cg);dY.nodeValue=cE;dS.setAttributeNode(dY);dU.previousSibling.appendChild(dO);dU.previousSibling.appendChild(dS);};qx.bom.element.Attribute.reset(dU,cn);return true;},"webkit":function(){var eb=this.getCurrentStyles();var ec=b;var ee={"background-color":true,"text-align":true};for(var ed in eb){if(ee[ed]){ec+=ed+bL+eb[ed]+bV;};};this.__wr.insertHtml(L+ec+cf);},"default":qx.lang.Function.empty}),__yl:qx.core.Environment.select(a,{"gecko":function(ef){var ek=bk;var ej=ef.child;if(ej[da]){ek+=v+ej[da]+cQ;delete ef.child[da];};if(ej[cX]){ek+=S+ej[cX]+cQ;delete ef.child[cX];};var ei={"padding-top":true,"padding-bottom":true,"padding-left":true,"padding-right":true};var eg={"margin-top":true,"margin-bottom":true,"margin-left":true,"margin-right":true};for(var eh in ej){if(ei[eh]||eg[eh]){ek+=eh+ca+ej[eh]+cQ;delete ef.child[eh];};};ek+=ch;return ek;},"default":function(){return b;}}),__ym:qx.core.Environment.select(a,{"gecko":function(){var es=this.__wr.getSelection();if(!es||!es.focusNode){return;};var el=es.focusNode;var eq=es.focusNode;while(!qx.dom.Node.isNodeName(eq,cR)){eq=eq.parentNode;};var ep=eq.previousSibling.id;var et=eq.nextSibling?eq.nextSibling.id:null;if(qx.lang.String.startsWith(ep,bS)&&ep==et){var er=eq.nextSibling;var en=this.__wr.getRange();en.selectNode(er);es.addRange(en);var em=qx.bom.htmlarea.HtmlArea.EMPTY_DIV;this.__wr.getCommandManager().addUndoStep(f,em,this.getCommandObject(f));this.execute(f,em);var eo=this.__wr.getRange();if(el){while(el&&el.firstChild&&qx.dom.Node.isElement(el.firstChild)){el=el.firstChild;};};eo.selectNode(el);es.addRange(eo);eo.collapse(true);};},"default":qx.lang.Function.empty}),__yn:qx.core.Environment.select(a,{"mshtml":function(){var eu=this.__wr.getRange();if(eu&&!qx.dom.Node.isNodeName(eu.parentElement(),cz)){eu.pasteHTML(qx.bom.htmlarea.HtmlArea.simpleLinebreak);eu.collapse(false);eu.select();return true;};return false;},"default":function(){return false;}}),__yo:function(ev,ew){var ey=(qx.core.Environment.get(a)==d)?this.__wr.getRange():this.__kr;return ey.execCommand(ew.identifier,false,ev);},__yp:function(ez,eA){if((qx.core.Environment.get(a)==d)){var eB=this.__wr.getFocusNode();this.__yq(eB);};this.__kr.body.focus();var eC=this.__kr.execCommand(eA.identifier,false,ez);if((qx.core.Environment.get(a)==cr)){var eB=this.__wr.getFocusNode();this.__yq(eB.parentNode);};return eC;},__yq:function(eD){var eE=[];var parent=eD.parentNode;while(qx.dom.Node.isNodeName(parent,cI)){eE.push(parent);parent=parent.parentNode;};if(eE.length>0){parent.appendChild(eD);parent.removeChild(eE[eE.length-1]);};},__yr:qx.core.Environment.select(a,{"gecko":function(eF,eG){if(eF.src){this.__kr.execCommand(eG.identifier,false,eF.src);delete eF.src;var eT=this.__wr.getSelection();if(eT){var eS=eT.anchorNode;var eN=eT.anchorOffset;var eK=eS.childNodes[eN-1];var eQ;for(var eM in eF){eQ=this.__kr.createAttribute(eM);eQ.nodeValue=eF[eM];eK.setAttributeNode(eQ);};var eL={"font":true,"span":true};var eI=null;var eP=true;if(qx.dom.Node.isElement(eK.previousSibling)&&eL[qx.dom.Node.getName(eK.previousSibling)]){eI=eK.previousSibling;}else if(eL[qx.dom.Node.getName(eK.parentNode)]){eI=eK.parentNode;eP=false;};var eJ=this.__kr.createDocumentFragment();var eU;if(eP&&eI!=null){var eL=this.__ys(eI);eJ.appendChild(eL.root);eU=eL.inline;}else {eU=this.__kr.createElement(n);eJ.appendChild(eU);};var eR=this.__kr.createTextNode(b);eU.appendChild(eR);var eO=eK.parentNode;if(eK==eO.lastChild){eO.appendChild(eJ);}else {eO.insertBefore(eJ,eK.nextSibling);};var eH=this.__wr.getRange();eH.selectNodeContents(eU);};return true;}else {return false;};},"mshtml":function(eV,eW){var fb=false;var fc=bv;for(var eX in eV){fc+=eX+bP+eV[eX]+co;};fc+=bu;var eY=this.__wr.getSelection();var fa=this.__yj();if(eY&&eY.type!=bR){try{fa.select();fa.pasteHTML(fc);fb=true;}catch(e){};};this.__wr.resetSavedRange();return fb;},"default":function(fd,fe){if(fd.src){var fg=bv;for(var ff in fd){fg+=ff+bP+fd[ff]+co;};fg+=bu;return this.__kr.execCommand(cm,false,fg);}else {return false;};}}),__ys:function(fh){while(fh.firstChild&&fh.firstChild.nodeType==1){fh=fh.firstChild;};var fl=this.__yx(fh);var fp,fj,fn;var fi=b;var parent=null;var fo=null;var fm=fl.child;while(fm){fo=this.__kr.createElement(fm[c]?bM:n);fj=this.__kr.createAttribute(cG);fo.setAttributeNode(fj);for(var fk in fm){if(fk!=cV&&fk!=c){fi+=fk+bL+fm[fk]+bV;}else if(fk==c){fn=this.__kr.createAttribute(cp);fn.nodeValue=fm[fk];fo.setAttributeNode(fn);};};fj.nodeValue=fi;if(parent!=null){parent.appendChild(fo);}else {fp=fo;};parent=fo;fm=fm.child;fi=b;};return {root:fp,inline:fo};},__yt:qx.core.Environment.select(a,{"gecko|opera":function(fq,fr){var fx=this.__wr.getSelection();var fu=this.__wr.getRange();if(fx.isCollapsed){var ft=cc+(++this.__yc);var fy=this.__kr.createElement(ce);var fv=this.__kr.createAttribute(I);var fs=this.__kr.createAttribute(cn);var fw=this.__kr.createTextNode(fq);fs.nodeValue=ft;fy.setAttributeNode(fs);fv.nodeValue=fq;fy.setAttributeNode(fv);fy.appendChild(fw);fu.insertNode(fy);fu.selectNode(fy);fx.collapseToEnd();return true;}else {return this.__kr.execCommand(fr.identifier,false,fq);};},"mshtml":function(fz,fA){try{var fC;var fB=this.__yj();var fD=this.__wr;var fB=fD.getSavedRange()!=null?fD.getSavedRange():fD.getRange();if(fB!=null&&fB.text!=b){fC=fB.execCommand(fA.identifier,false,fz);}else {fC=this.__yk(bF+fz+cW+fz+by,fA);};this.__wr.resetSavedRange();return fC;}catch(e){{};return false;};},"default":function(fE,fF){return this.__kr.execCommand(fF.identifier,false,fE);}}),__yu:function(fG,fH){var fI=dh;if((qx.core.Environment.get(a)==cY)){fI+=this.__yv();};return this.__yk(fI,fH);},__yv:function(fJ){var fN=b;var fM=cy;var fL=[];var fQ=typeof fJ!==cv?fJ:this.__yx();var fO=fQ.child;var fP=false;if(qx.lang.Object.isEmpty(fO)){return b;};while(fO){fP=fO[c]!=null;fN+=fP?dj:fM;for(var fK in fO){fN+=(fK!=cV&&fK!=c)?fK+ca+fO[fK]+cQ:b;};fN+=fP?T+fO[c]+cW:cW;fL.unshift(fP?bK:D);fO=fO.child;};if(fL.length==1&&fL[0]==bK){fN+=bn;};for(var i=0,j=fL.length;i<j;i++){fN+=fL[i];};return fN;},__yw:function(){var fS=this.__kr.createDocumentFragment();var fX=this.__yx();var parent=fS;var fV=fX.child;var fT;var fW=false;while(fV){fW=fV[c]!=null;fT=this.__kr.createElement(fW?bM:n);parent.appendChild(fT);for(var fR in fV){if(fR!=cV&&fR!=c){qx.bom.element.Style.set(fT,fR,fV[fR]);};};if(fW){var fU=this.__kr.createAttribute(cp);fU.nodeValue=fV[c];fT.setAttributeNode(fU);};parent=fT;fV=fV.child;};return fS;},__yx:function(fY){var gb={};var gc=null;var gd=this.getCurrentStyles(fY);gc=gb.child={};for(var ga in gd){if(ga!=g){gc[ga]=gd[ga];};};if(gd[g]){var ge=gd[g];for(var i=0,j=ge.length;i<j;i++){if(gc==null){gc=gb.child={};}else {gc=gc.child={};};gc[h]=ge[i][h];gc[cS]=ge[i][cS];};};if(gd[h]&&gd[cS]){gc=gc.child={};gc[h]=gd[h];};return gb;},getCurrentStyles:function(gf){if(gf==null){var gh=this.__wr.getSelection();if(!gh||gh.focusNode==null){return {};};gf=(gh.focusNode.nodeType==3)?gh.focusNode.parentNode:gh.focusNode;};var gi=qx.dom.Hierarchy.getAncestors(gf);var gk=qx.lang.Array.insertBefore(gi,gf,gi[0]);var gg=this.__yy(gk);var gj=this.__yz(gg,gk);return gj;},__yy:function(gl){var go={};var gm,gn;for(var i=0,j=gl.length;i<j;i++){gn=gl[i];for(var k=0,l=gn.style.length;k<l;k++){gm=gn.style[k];if(gm.length>0&&typeof go[gm]===cv){go[gm]=gn.style.getPropertyValue(gm);};};if(gn.tagName.toUpperCase()==cw&&gn.size&&go[c]===undefined){go[c]=gn.size;};};if(go[c]&&go[bH]){delete go[bH];};return go;},__yz:function(gp,gq){var gv=gq[0];var gt=this.__wr.getContentWindow().getComputedStyle(gv,null);var gr;var gu={};for(var gs in gp){if(gs!=c){gr=gt.getPropertyValue(gs);}else {gr=gp[gs];};if(gs==bN&&gr==cu){gu[gs]=this.__yB(gq);}else if(gs==g){gu[gs]=this.__yA(gq);}else {gu[gs]=gr;};};return gu;},__yA:function(gw){var gz,gB,gx;var gA=[];var gy=this.__wr.getContentWindow();for(var i=0,j=gw.length;i<j;i++){gx=gy.getComputedStyle(gw[i],null);gz=gx.getPropertyValue(g);gB=gx.getPropertyValue(bl);if(gz!=o){gA.push({'text-decoration':gz,'color':gB});};};return gA;},__yB:function(gC){var gE,gD,gF;for(var i=0;i<gC.length;i++){gE=gC[i];gD=this.__wr.getContentWindow().getComputedStyle(gE,null);gF=gD.getPropertyValue(bN);if(gF!=cu){return gF;};};},__yC:function(gG,gH){var gT=this.__wr.getSelection();var gO=((qx.core.Environment.get(a)==d))?this.__wr.getRange():gO=gT.getRangeAt(0);var gP=[];var gS;var gN=[u,dg];var gI,i,j,gQ;gQ=((qx.core.Environment.get(a)==d))?gO.parentElement():gO.commonAncestorContainer;if(gQ.tagName==cs){for(var i=0;i<gN.length;i++){gI=gQ.getElementsByTagName(gN[i]);for(var j=0;j<gI.length;j++){if(gI[j]){gP.push(gI[j]);};};};}else if(qx.lang.Array.contains(gN,gQ.tagName)){gP.push(gQ);};if(gP.length>0){for(var i=0;i<gP.length;i++){var gK=gP[i];gS=((qx.core.Environment.get(a)==d))?((gK==gQ)||(gQ.tagName==cs)):gT.containsNode(gK,false);for(j=0;j<gK.childNodes.length;j++){var gM=gK.childNodes[j];if(gS||(gT.focusNode.nodeValue&&qx.dom.Hierarchy.contains(gM,gT.focusNode)&&(gT.focusOffset==gT.focusNode.nodeValue.length))||(qx.dom.Hierarchy.contains(gM,gT.anchorNode)&&(gT.anchorOffset==0))||(gT.containsNode(gM,false))){gM.style.fontSize=(this.__yb[gG]||gG)+bT;};};};}else {var gL=((qx.core.Environment.get(a)==d))?gQ:gT.focusNode;var gR=qx.dom.Hierarchy.getAncestors(gL);for(i=0;i<gR.length;i++){if(gR[i].tagName==bc){if((((qx.core.Environment.get(a)==cY))&&((gT.anchorOffset==0)&&(gT.focusNode.nodeValue&&(gT.focusOffset==gT.focusNode.nodeValue.length))&&qx.dom.Hierarchy.contains(gR[i].firstChild,gT.anchorNode)&&qx.dom.Hierarchy.contains(gR[i].lastChild,gT.focusNode)))||(((qx.core.Environment.get(a)==d))&&(gO.htmlText==gR[i].innerHTML))){gR[i].style.fontSize=(this.__yb[gG]||gG)+bT;};break;};};};if((qx.core.Environment.get(a)==d)){this.__kr.body.focus();this.__wr.getRange().select();return this.__kr.execCommand(cU,false,gG);}else if((qx.core.Environment.get(a)==cY)){var parent=gO.commonAncestorContainer;if(parent.nodeType===1){var gJ=parent.getElementsByTagName(n);for(i=0;i<gJ.length;i++){if(gJ[i].style.fontSize){gJ[i].style.fontSize=null;};};};};return this.__kr.execCommand(cU,false,gG);},__yD:qx.core.Environment.select(a,{"mshtml":function(gU,gV){this.__kr.body.focus();return this.__kr.execCommand(cT,false,gU);},"gecko|opera":function(gW,gX){this.__kr.body.focus();return this.__kr.execCommand(E,false,gW);},"webkit":function(gY,ha){var hb=this.__wr.getSelection();var hc=this.__wr.getRange();if(!hb||!hb.isCollapsed){this.__kr.body.focus();this.__kr.execCommand(cT,false,gY);if(hb){hb.collapseToEnd();};return true;}else {var he=hb.anchorOffset;var hf=hb.anchorOffset;var hc=hb.getRangeAt(0);var hd=hb.anchorNode;while(hf>0){if(hd.nodeValue.charCodeAt(hf)==160||hd.nodeValue.charCodeAt(hf)==32){break;}else {hf--;};};while(he<hd.nodeValue.length){if(hd.nodeValue.charCodeAt(he)==160||hd.nodeValue.charCodeAt(he)==32){break;}else {he++;};};hc.setStart(hb.anchorNode,hb.anchorNode.nodeValue.charAt(hf)==bY?hf+1:hf);hc.setEnd(hb.anchorNode,he);hb.addRange(hc);this.__kr.body.focus();this.__kr.execCommand(cT,false,gY);hb.collapseToEnd();return true;};}}),__yE:function(hg,hh){hg=hg!=null&&typeof hg==bO?hg:cu;qx.bom.element.Style.set(this.__kr.body,cF,hg);return true;},__yF:function(hi,hj){var hk,hm,hl;var hn=qx.bom.htmlarea.manager.Command;if(hi==null){hk=null;}else {hk=hi[0];hm=hi[1];hl=hi[2];};if(hk==null||typeof hk!=bO){qx.bom.element.Style.set(this.__kr.body,bU,b);qx.bom.element.Style.set(this.__kr.body,bw,b);qx.bom.element.Style.set(this.__kr.body,bJ,b);return true;}else {if(hk.search(/^url.*\(/)==-1){hk=dd+hk+J;};};if(hm!=null&&!qx.lang.String.contains(hn.__ye,hm)){{};return false;}else {hm=bG;};if(hl!=null){if(qx.lang.Type.isString(hl)&&!qx.lang.String.contains(hn.__yd,bI+hl+bI)){{};return false;}else {if(qx.lang.Type.isArray(hl)&&hl.length==2){hl=hl[0]+bY+hl[1];}else {{};return false;};};}else {hl=cD;};qx.bom.element.Style.set(this.__kr.body,bU,hk);qx.bom.element.Style.set(this.__kr.body,bw,hm);qx.bom.element.Style.set(this.__kr.body,bJ,hl);return true;},__yG:qx.core.Environment.select(a,{"mshtml":function(ho,hp){var hq=this.__kr.body.createTextRange();hq.select();return true;},"default":function(hr,hs){return this.__yi(hs.identifier,false,hr);}}),__yH:function(){return this.__wr.getSelectedText();},__yI:function(){return this.__wr.getSelectedHtml();},__yJ:function(ht,hu){var hy=this.__wr.getFocusNode();if(hy.textContent==b){var hw=qx.dom.Hierarchy.getAncestors(hy);hw.unshift(hy);var Node=qx.dom.Node;var hv=qx.bom.element.Style;var hx=hw.shift();while(hw.length>0){if(Node.getName(hx)==cR||Node.getName(hx)==bW){break;};if(hv.get(hx,ht,hv.LOCAL_MODE)==hu){hv.reset(hx,ht);return true;};hx=hw.shift();};};return false;},__yK:qx.core.Environment.select(a,{"gecko":function(hz,hA){if(this.__yJ(B,cL)){return true;}else {return this.__yi(hA.identifier,false,hz);};},"default":function(hB,hC){return this.__yi(hC.identifier,false,hB);}}),__yL:qx.core.Environment.select(a,{"gecko":function(hD,hE){if(this.__yJ(r,cl)){return true;}else {return this.__yi(hE.identifier,false,hD);};},"default":function(hF,hG){return this.__yi(hG.identifier,false,hF);}}),__yM:qx.core.Environment.select(a,{"gecko":function(hH,hI){if(this.__yJ(ct,cJ)){return true;}else {return this.__yi(hI.identifier,false,hH);};},"default":function(hJ,hK){return this.__yi(hK.identifier,false,hJ);}}),__yN:qx.core.Environment.select(a,{"gecko":function(hL,hM){if(this.__yJ(ct,K)){return true;}else {return this.__yi(hM.identifier,false,hL);};},"default":function(hN,hO){return this.__yi(hO.identifier,false,hN);}})},destruct:function(){this.__kr=this.__wr=this._commands=null;this.__ya=this.__yb=null;}});})();
});